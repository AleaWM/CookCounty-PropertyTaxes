[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Property Taxes in Cook County",
    "section": "",
    "text": "Background Information\nThe following materials are a work in progress based on property tax data released by the Cook County Assessor’s Office (CCAO) and other publicly available data sources. Much of the incorporated data and analysis was prepared, in part, for Cook County’s Property Tax Working Group. This data and analysis accompanies and supplements information in the Exemption White Paper and Addendum, available on GFRC’s website.\nWe are especially indebted to Dan Snow, Rob Ross, and Mike Wu at CCAO for the development and release of PTAXSIM, a package in the R programming language which provides the public with a trove of historical property tax data, without which this analysis would not be possible.\nWe would also like to thank Professors Merriman, Weber, Carroll, and Drucker from UIC’s College of Urban Planning and Public Policy for their support as well as the Chicago Metropolitan Agency for Planning (CMAP) for providing supplemental and background analysis.\nAll data was originally posted by the Cook County Assessor’s Office (CCAO).\nTax data for Cook County was gathered using CCAO’s ptaxsim package and corresponding database.\nAll summarizing of data was done by Research Assistants working for the Government Finance Research Center at the University of Illinois Chicago.\nPlease note that dollars are not inflation adjusted.\nIf ignoring TIFs, the residential share of EAV is:\n\\[\nResidentrialShare = \\frac{TaxableEAV_{residential} - ExemptEAV_{residential}} {TaxableEAV}\n\\]\n\\[\nResidentialShare = \\frac{1-\\lambda}{1-\\lambda-\\psi}\n\\]\n\\[\nTaxableBase = AV_{equalized} - TIFincrement - EAV_{exempt}\n\\]\n\\[\nTIFincrement = AV_{equalized} - EAV_{frozen}\n\\]\nThe aggregate, or composite, tax rate is the sum of the individual taxing agency tax rates, or \\(\\sum(rate_{agency})\\), for all taxing agencies that tax a location. Each unique combination of taxing agencies is assigned a tax code by the assessor’s office.\n\n\nExemption Report Summary of Findings\nUIC’s research led to several main findings:\n\nWhile historical records provide clear reasons for the adoption of homeowner exemptions as a policy tool, current stakeholders throughout Cook County government cannot agree on the public purpose of homestead exemptions, a problem that flows through to properly acknowledging relevant costs, benefits, and stakeholders. Indeed, given divergent policy goals by different stakeholders, any construct of “effectiveness” would be challenging to measure.\nCook County’s property tax system allocates revenue to local governments based on each property owners’ share of that jurisdiction’s total tax base.\nCC’s system of dividing the levy among property owners creates a “zero-sum” game where one taxpayer’s bill must necessarily increase for another taxpayer’s bill to decrease.\nHomeowner exemptions, designed to provide tax release to certain classes of homeowners, decrease property tax bills through a flat reduction in the taxpayer’s contribution to the tax base in EAV.\nExemptions also reduce the tax base, thereby driving tax rates up for all taxpayers (even those that receive exemptions). This push-pull effect causes the true amount of tax liability reduction to be sometimes significantly lower than suggested by government tax bills.\nExemptions are theoretically and practically progressive, bringing greater tax relief to those with the lowest ability to pay (as imperfectly measured by their property’s value).\nAnomalous outcomes can occur due to Cook County’s socio-economic homogeneity. A handful of taxpayers would benefit more from exemptions’ elimination (and the resulting decrease in tax rate) than from the exemption itself.\nThere is no obvious solution to the detrimental effects of exemptions that are endogenous to the property tax system. Any “fix” must come from other revenue.\n\nWe have also appended an explanation of our data sources and how we prepared that data for analysis as well as a mathematical appendix of tedious equations.\n\n\nIncentive Report Summary of Findings\nOur report on incentive property classifications will be released in early 2025.",
    "crumbs": [
      "Background Information"
    ]
  },
  {
    "objectID": "exemp_report_2021.html",
    "href": "exemp_report_2021.html",
    "title": "Tax Year 2021",
    "section": "",
    "text": "County-Wide Exemption Summary Statistics (Tax Year 2021)\nCode\ntbl &lt;- muni_cl_sums |&gt;\n    filter(year == params$year) |&gt;\n    group_by(year) |&gt;\n    summarize(\n      'PINs' = sum(muni_c_pins_in_muni),\n      'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n      \"EqAV\" = sum(muni_c_equalized_av),\n      'Taxed EAV' = sum(muni_c_current_taxable_eav),\n      'Exempt EAV' = sum(muni_c_all_exemptions),\n      'GHE' = sum(muni_c_exe_homeowner),\n      'Senior' = sum(muni_c_exe_senior),\n      'Senior Freeze' = sum(muni_c_exe_freeze),\n      'Other Exemps.' = sum(muni_c_all_exemptions -muni_c_exe_homeowner- muni_c_exe_senior - muni_c_exe_freeze )\n      ) |&gt;\n    pivot_longer(cols = c('PINs':'Other Exemps.'),\n                 names_to = \"Metric\", values_to = \"Total\") |&gt;\n    select(-year) |&gt; \n    mutate(\n      Total = case_when(\n        Metric %in% c(\"Other Exemps.\", \"EAV\", \"EqAV\", \"Taxed EAV\", \"Exempt EAV\",\"GHE\", \"Senior\", \"Senior Freeze\") ~ \n          paste0(format(round(`Total` / 1e9, 2), big.mark = \",\"), \" B\"),\n        TRUE ~ format(`Total`, big.mark = \",\")\n      )\n    )\n\n\nft &lt;- tbl |&gt;\n    flextable(cwidth = c(1, 1)) |&gt;\n    align(j = 2, align = \"right\", part = \"header\") |&gt;  # Align header\n    align(j = 2, align = \"right\", part = \"body\") |&gt;  # Align body\n    align(i = 6:9, j = 1, align = \"center\", part = \"body\") |&gt;  # Align body\n\n    footnote(i = 1, j = 2, value = as_paragraph(\"EAV in billions.\"), ref_symbols = \"*\", part='header') #Footnote in new header\n  \n\nft\n\n\n\n\nTable 1.1: Summary of Homestead Exemption Use in Cook County (Tax Year 2021\n\n\n\nMetricTotal*PINs      1,864,594PINs (w/ exemps.)      1,028,964EqAV212.39 BTaxed EAV175.16 BExempt EAV 16.11 BGHE 10.16 BSenior  2.63 BSenior Freeze  3.23 BOther Exemps.  0.09 B*EAV in billions.\nEqAV is the 2021 equalization factor multiplied by assessed value. Thus, Taxed EAV and Exempt EAV equal EqAV. It can be thought of as the “maximum available tax base” in a world without exemptions.",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Tax Year 2021</span>"
    ]
  },
  {
    "objectID": "exemp_report_2021.html#county-wide-exemption-summary-statistics-tax-year-2021",
    "href": "exemp_report_2021.html#county-wide-exemption-summary-statistics-tax-year-2021",
    "title": "Tax Year 2021",
    "section": "",
    "text": "Figure 3. using EAV\n\n\nCode\nmedian_exempt &lt;- muni_sums |&gt;\n  filter(year== params$year)|&gt;\n  mutate(muni_pct_eav_exempt =(muni_eav - muni_eav_taxed) / muni_eav) |&gt; \n  select(muni_pct_eav_exempt, clean_name, agency_name)\n\n\nmidpoint = scales::percent(median(median_exempt$muni_pct_eav_exempt), accuracy = 0.01)\n\nmedian_muni = median_exempt |&gt;\n  arrange(muni_pct_eav_exempt) |&gt;\n  filter(muni_pct_eav_exempt == median(muni_pct_eav_exempt)) |&gt;\n  select(clean_name) |&gt; as.character()\n\nprint(median_exempt |&gt;\n    mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n  ggplot(aes(fill = muni_pct_eav_exempt)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void()+ \n  labs(title = \"Exempt EAV as a Percent of Municipality EAV\") +\n  theme(axis.ticks = element_blank(), \n        axis.text = element_blank())\n +\n    scale_fill_stepsn(colors = c(\"#ffffcc\",\n                                 \"lightblue\",\n                                 \"#41b6c4\", \n                                 \"#253494\",\n                                 \"navy\"\n                                 ),\n                        show.limits=TRUE, \n                  breaks = c(0.075, 0.15, 0.225, 0.30, max(median_exempt$muni_pct_eav_exempt)),\n                       na.value = \"gray50\",\n                    nice.breaks = FALSE,\n                        name = \"% Exempt\", label = scales::percent))\n\n\n\n\n\nFigure 1.1: Share of EAV that is tax exempt due to homestead exemptions\n\n\n\n\n\n\n\n\nThe County-wide municipal-median percent of EAV exempt from property taxes in tax year 2021 was Melrose Park with 15.64%.\n\nFigure 3. Using FMV\n\n\nCode\nmedian_exempt &lt;- muni_sums |&gt;\n  filter(year == params$year)|&gt;\n  mutate(pct_fmv_exempt = muni_fmv_exempt / muni_fmv\n) |&gt; \n  select(pct_fmv_exempt, clean_name)\n\nmidpoint = scales::percent(median(median_exempt$pct_fmv_exempt), accuracy = 0.01)\n\nmedian_muni = median_exempt |&gt;\n  arrange(pct_fmv_exempt) |&gt;\n  filter(pct_fmv_exempt == median(pct_fmv_exempt)) |&gt;\n  select(clean_name) |&gt; as.character()\n\nprint(muni_sums |&gt;\n  filter(year == params$year)|&gt;\n  mutate(pct_fmv_exempt = muni_fmv_exempt / muni_fmv ) |&gt;\n    mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n  ggplot(aes(fill = pct_fmv_exempt)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void()+ \n  labs(title = \"Exempt FMV as a Percent of Municipality FMV\",\n       caption = sprintf(\"The County-wide municipal-median is %s\", midpoint)) +\n    theme_void() + \n  theme(axis.ticks = element_blank(), \n        axis.text = element_blank())+\n   scale_fill_steps2(high = \"darkblue\", low = \"black\",  mid = \"beige\",\n                       n.breaks = 5, show.limits=TRUE,\n                       na.value = NA,\n                    nice.breaks = FALSE,\n                   midpoint = median(median_exempt$pct_fmv_exempt),\n                        name = \"% Exempt\", label = scales::percent))\n\n\n\n\n\nFigure 1.2: Share of FMV that is tax exempt due to Homestead Exemptions Same as previous image but in different color scheme that indicates high and low instead of using a midpoint for the color gradient.\n\n\n\n\n\n\n\n\nThe County-wide municipal-median percent of FMV exempt from property taxes in tax year 2021 was Harwood Heights with 14.40%.\nThe percent of municipal EAV exempt from property taxes are greatest across Cook County’s south suburbs and lowest in the northern most suburbs of the county.\n\n\n\nFigure 4. Exempt EAV: City vs. Suburbs\n\n\nCode\n## makes table in margin for suburbs and city\ngeom_sums &lt;- muni_cl_sums |&gt; \n  filter(year == params$year) |&gt; \n  select(clean_name, muni_c_all_exemptions) |&gt;\n  mutate(clean_name = ifelse(is.na(clean_name), \"Unincorporated\", clean_name),\n         Geography = ifelse(clean_name == \"Chicago\", \"City\", \"Suburbs\"),\n         Geography = ifelse(is.na(clean_name), \"Unincorporated\", Geography),\n         Geography = factor(Geography, levels = c(\"Suburbs\", \"City\", \"Unincorporated\"))) |&gt;\n  group_by(Geography) |&gt;\n  summarize(\"ExemptEAV\" = sum(muni_c_all_exemptions, na.rm=TRUE))\n\ngeom_sums |&gt; \n  flextable() |&gt;\n  flextable::set_caption(caption =\"Includes all exemption types.\")\n\n\n\nGeographyExemptEAVSuburbs9,271,492,116City6,839,135,255\n\n\n\nCode\nmuni_cl_sums |&gt; \n  filter(year == params$year) |&gt; \n  select(clean_name, muni_c_exe_homeowner:muni_c_exe_vet_dis) |&gt;\n  mutate(clean_name = ifelse(is.na(clean_name), \"Unincorporated\", clean_name),\n    Geography = ifelse(clean_name == \"Chicago\", \"City\", \"Suburbs\"),\n         Geography = ifelse(is.na(clean_name), \"Unincorporated\", Geography),\n         Geography = factor(Geography, levels = c(\"Suburbs\", \"City\", \"Unincorporated\"))) |&gt;\n  group_by(Geography) |&gt;\n  summarize(\"GHE\" = sum(muni_c_exe_homeowner, na.rm=TRUE),\n            \"Senior Homestead\" = sum(muni_c_exe_senior, na.rm=TRUE),\n            \"Senior Freeze\" = sum(muni_c_exe_freeze, na.rm=TRUE),\n            \"Other Exemptions\" = sum(muni_c_exe_longtime_homeowner+muni_c_exe_disabled+muni_c_exe_vet_returning+ muni_c_exe_vet_dis_lt50 + muni_c_exe_vet_dis_50_69+muni_c_exe_vet_dis_ge70)) |&gt;\n  \n  pivot_longer(cols = c(`GHE`:`Other Exemptions`), names_to = \"Type\" ) |&gt;\n   mutate(Type = factor(Type, levels = c(\"GHE\", \"Senior Homestead\", \"Senior Freeze\", \"Other Exemptions\" \n                                         #\"Senior Freeze\", \"Senior Homestead\", \"GHE\"\n                                        )\n                                        )) |&gt;\n  ggplot(aes(x=Type, y = value/1e9, fill = Geography\n             )) +\n  \n  geom_col( position = \"dodge\" ) +\n  geom_text(aes(label = round(value/1e9, digits=1)), vjust=-0.5, position = position_dodge(.9)) +\n  theme_minimal() +\n  labs(title = paste0(\"Exempt EAV in Cook County, Tax Year \", params$year), \n       subtitle = \"by Type and Geography\", \n       y = \"EAV (Billions)\", x = \"Exemption Type\") + \n  scale_y_continuous(limits = c(0, 8)) +\n  scale_fill_manual(values = c(\"blue3\", \"deepskyblue3\", \"gray\") )\n\n\n\n\n\nFigure 1.3: Exempt EAV in Cook County Exemption use varies between suburban Cook County and the City of Chicago which may point to broader socioeconomic patterns as well as residents’ eligibility and update. Note: Our current calculations undervalue the disabled veterans exemption.\n\n\n\n\n\n\n\n\nExemption use varies between suburban Cook County (9271492116 EAV) and the City of Chicago (6839135255 EAV) , which may point to broader socioeconomic patterns as well as residents’ eligibility and uptake.\n\n\nFigure 5. Value of residential exemptions by type in Cook County over time, Tax Years 2006 - 2021\n\n\nCode\nmuni_cl_sums |&gt; \n  select(year, muni_c_exe_homeowner:muni_c_exe_vet_dis) |&gt;\n  filter(year &lt;= params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\"GHE\" = sum(muni_c_exe_homeowner, na.rm=TRUE),\n            \"Senior Homestead\" = sum(muni_c_exe_senior, na.rm=TRUE),\n            \"Senior Freeze\" = sum(muni_c_exe_freeze, na.rm=TRUE),\n            \"Other Exemptions\" = sum(muni_c_exe_longtime_homeowner + muni_c_exe_disabled + muni_c_exe_vet_returning+ muni_c_exe_vet_dis_lt50 + muni_c_exe_vet_dis_50_69+muni_c_exe_vet_dis_ge70, na.rm = T)) |&gt;\n  pivot_longer(cols = c(`GHE`:`Other Exemptions`), names_to = \"Type\" ) |&gt;\n  mutate(Type = factor(Type, levels = c(#\"GHE\", \"Senior Homestead\", \"Senior Freeze\", \n                                        \"Other Exemptions\", \"Senior Freeze\", \"Senior Homestead\", \"GHE\"))) |&gt;\n  ggplot(aes(x=year, y = value/1000000000, fill = Type)) +\n  \n  geom_bar( stat = \"identity\" ) + \n  theme_minimal() +\n  labs(title = \"Residential Exempt EAV in Cook County\", \n       subtitle = paste0(\"by Type and Geography, 2006-\", params$year), \n       y = \"EAV (Billions)\", x =\"\") +\n  scale_fill_manual(values = c(\"chartreuse2\",  \"darksalmon\", \"brown2\", \"blue4\" )) +\n                    scale_x_continuous(breaks = c(2006, 2010, 2015, 2020))\n\n\n\n\n\nFigure 1.4: Residential Exempt EAV in Cook County\n\n\n\n\n\n\n\n\nTrends in the total EAV reductions due to homestead exemptions reflect both real estate market shifts and the legislative changes in their availability, eligibility, and value.",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Tax Year 2021</span>"
    ]
  },
  {
    "objectID": "exemp_report_2021.html#effect-on-composite-tax-rates",
    "href": "exemp_report_2021.html#effect-on-composite-tax-rates",
    "title": "Tax Year 2021",
    "section": "Effect on Composite Tax Rates",
    "text": "Effect on Composite Tax Rates\nFigure 6 will not be recreated but is just a bar chart of the change in tax rate in the table below\n\nTable 1. Change in composite property tax rates due to exemptions, tax year 2021.\n\n\nCode\nmuni_ratechange &lt;- read_csv(paste0(\"../Output/muni_ratechange_\", params$year, \"_test.csv\"))\n\n\nmuni_ratechange |&gt; \n  select(clean_name,  current_rate_avg, rate_noExe, change_noExe, final_tax_to_dist \n         ) |&gt; \n  mutate(change_noExe = change_noExe * 100) |&gt;\n  DT::datatable(rownames = FALSE, colnames = c('Municipality' = 'clean_name','Current Comp. Rate' = 'current_rate_avg', 'Hypothetical Rate' = 'rate_noExe',  'Composite Tax Rate Change'='change_noExe', \n\n                       'Composite Levy' = 'final_tax_to_dist'),\n          caption = \"Table 1 in Report for all Municipalities: Current and Hypothetical Composite Tax Rates if GHE $0\") |&gt;\n  formatCurrency('Composite Levy', digits = 0) |&gt;\n  formatPercentage(columns = c(2,3), digits = 2)\n\n\n\n\nTable 1.2: Searchable table containing all municipalities and the hypothetical tax rate change if exempt EAV became taxable.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nmuni_ratechange |&gt;\n  filter(!is.na(clean_name)) |&gt; \n  select(clean_name,  current_rate_avg, rate_noExe, change_noExe \n) |&gt;\n  mutate(across(c(current_rate_avg, rate_noExe, change_noExe ), ~.*100)) |&gt;\n  arrange(desc(change_noExe)) |&gt;\n  slice(c(1:5, 69:73, 121:125)) |&gt;\n    #slice(c(1:5, 58:62, 115:119)) |&gt;\n\n  flextable() |&gt; \n  border_remove() |&gt;\n  hline_top() |&gt;\n  hline(i = c(5,10)) |&gt;\n  \n  set_header_labels(\n    clean_name = \"Municipality\", \n    current_rate_avg = \"With Exemptions\",\n    rate_noExe = \"Without Exemptions\",\n    change_noExe = \"Percent Point Difference\"\n    \n  ) |&gt;\n  align(j = 2, align = \"right\") |&gt;\n  align(j=2, align = \"right\", part = \"header\") |&gt;\n  set_table_properties( layout = \"autofit\") |&gt; bold(i = 8)\n\n\n\n\nTable 1.3: Table 1 in Exemption Report. Shows the top 5, bottom 5, and median 5 municipalities, ranked by change in composite tax rate. Includes all exemption types in calculation of rate change.\n\n\n\nMunicipalityWith ExemptionsWithout ExemptionsPercent Point DifferencePark Forest41.7827.8113.75Phoenix29.9520.059.82Riverdale31.0523.946.72Hazelcrest24.9917.866.39Dolton25.2018.626.19Willow Springs11.138.781.30Roselle10.489.221.27Broadview12.2110.931.25Morton Grove10.679.241.23Bridgeview13.0211.921.20Barrington Hills9.028.680.32Kenilworth9.849.570.27Winnetka8.668.390.26Hinsdale7.497.280.24Rosemont10.5710.730.09\n\n\n\n\n\n\n\nFigure 7. Map of Spatial Patterns in Composite Tax Rate Change\nChange in composite tax rate if exempt EAV was added back to the the taxable tax base (i.e. if there were no exemptions).\n\n\nCode\nmuni_ratechange  |&gt;\n    mutate(across(c(current_rate_avg, rate_noExe, change_noExe ), ~.*100)) |&gt;\n\n  left_join(nicknames, by = \"clean_name\") |&gt;\n  mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name),\n         shpfile_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n  full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n\n  ggplot(aes(fill = change_noExe)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void() + \n  theme(axis.ticks = element_blank(), axis.text = element_blank())+\n   scale_fill_stepsn(colors = c( \"#F7FEF5\",\n                                # \"#e4f1e0\",\n                                \"#d4f6cc\",\n                                \"#47ba24\",\n                                \"#1F6805\",\n                                \"#133C04\"),\n                        show.limits=TRUE, \n                     limits = c(0, 15),\n                     breaks = c(0, 2.5, 5, 7.5, 10, 15),\n                     na.value = NA,\n                        name = \"Rate Change from \\nExemptions\"  \n                    )\n\n\n\n\n\n\n\n\n\n\n\nCode\norder &lt;- burden_shift %&gt;% \n  as_tibble() %&gt;%\n  group_by(agency_name, clean_name) %&gt;%\n    summarize(tax_rate_current = median(tax_rate_current), \n            taxrate_new = median(taxrate_new),\n            taxrate_change = median(taxrate_change)) %&gt;%\n  arrange(taxrate_change)\n\nmedian(order$taxrate_change)\n\nburden_shift %&gt;%  \n  filter(taxrate_change &lt; 0.0027 |taxrate_change &gt; 0.06  |\n           taxrate_change &lt; (median(taxrate_change))+0.0007 & taxrate_change &gt; (median(taxrate_change))-0.00075\n         ) %&gt;% \n    filter(Alea_cat == \"Owner Occupied\") %&gt;%\n\n # filter(PropType == \"Single-Family\") %&gt;%\n  ungroup() %&gt;% \n  select(clean_name, tax_rate_current, taxrate_new, agency_name) %&gt;% \n  pivot_longer(c(\"tax_rate_current\", \"taxrate_new\"), \n               names_to = \"type\", values_to = \"tax_rate\") %&gt;% \n  left_join(order) %&gt;%\n  ggplot(aes(x = tax_rate*100, y= reorder(clean_name, taxrate_change)))+\n  geom_line(aes(group = clean_name))+ \n   geom_point(aes(color=type), size=3 )+\n  geom_hline(yintercept = 10.5, linetype =2)+\n    geom_hline(yintercept = 5.5, linetype =2)+\n  theme_minimal() + \n  theme( \n    legend.title = element_blank(),\n               plot.title.position = \"plot\",\n    legend.position = \"none\",\n     #   panel.background = element_rect(fill='transparent'), #transparent panel bg\n    plot.background = element_rect(fill='transparent', color=NA) #transparent plot bg\n   )+\n        scale_color_brewer(palette=\"Paired\", labels = c(\"Exemptions\", \"No Exemptions\"), direction = 1)+\n\n  labs(title = \"Difference in Composite Tax Rate if there were No Exemptions\", \n       subtitle = \"Ordered by Change in Tax Rate: Highest, Median, and Smallest Differences\",\n       caption = \"Median change is 1.38 percentage points\",\n       x = \"Composite Tax Rate (%)\", y = \"\" )",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Tax Year 2021</span>"
    ]
  },
  {
    "objectID": "exemp_report_2021.html#effect-on-tax-burdens",
    "href": "exemp_report_2021.html#effect-on-tax-burdens",
    "title": "Tax Year 2021",
    "section": "Effect on Tax Burdens",
    "text": "Effect on Tax Burdens\n\nFigure 8. Dolton example of Share of levy paid by property type\n\n\n\nCode\n#read_csv(paste0(\"../../Output/Dont_Upload/0_Joined_PIN_data_\", params$year, \".csv\") )\n\npin_data &lt;- read_csv(paste0(\"../Output/Dont_Upload/0_joined_PIN_data_\", params$year, \"_test.csv\"))\n\n\nmc_burden &lt;- read_csv(paste0(\"../Output/muni_mc_burden_\", params$year, \"_test.csv\"))\n\n\nburden_shift &lt;- read_csv(paste0(\"../Output/muni_burden_shift_\", params$year, \"_test.csv\"))\n\n\n\n\nCode\nmc_burden |&gt; \n  mutate(group = case_when(class_1dig == 2 ~ \"Class 2\",\n                         class_1dig == 3 ~ \"Class 3\",\n                         T ~ \"All Other Classes\"))|&gt;\n  \n  select(clean_name, group,  \n         pct_taxburden_current, hyp_pct_taxburden) |&gt;\n  group_by(clean_name, group) |&gt;\n  summarize(`Current Tax Burden Share` = sum(pct_taxburden_current),\n           `Tax Burden Share without Exemptions` =sum(hyp_pct_taxburden)) |&gt;\n  filter(clean_name==\"Dolton\") |&gt;\n  pivot_longer(cols = c(`Current Tax Burden Share`, `Tax Burden Share without Exemptions`), \n                names_to = \"type\", values_to = \"value\") |&gt;\n  ggplot(aes(x = group, y= value, group = type, fill = type) )+ \n  geom_col(position = \"dodge\") +  \n  geom_text(aes(label = scales::percent(round(value, digits=3))), \n              vjust=-0.5, position = position_dodge(.9)) + \n  theme_classic()+\n  theme(legend.title = element_blank(), legend.position = \"bottom\",\n        axis.title.x  = element_blank()) + \n  scale_y_continuous(label = scales::percent, name = \"Share of Levy\")\n\n\n\n\n\n\n\n\n\n\n\nCode\nburden_c2 &lt;- mc_burden |&gt; \n  filter(class_1dig == 2) |&gt; \n  select(clean_name, #pct_taxbase, \n         burden_shift,  pct_taxburden_current, hyp_pct_taxburden)\n\nburden_shift |&gt;  \n  select(-c(muni_levy, muni_taxbase,))|&gt;\n  select(clean_name, Group, pct_taxburden_current, hyp_pct_taxburden, everything()) |&gt;\n  DT::datatable(rownames = FALSE, \n                colnames = c(\n                  'Municipality' = 'clean_name',\n                  'Current Taxbase' = 'group_taxbase', \n                  'Hyp. Taxbase' = 'hyp_group_taxbase',  \n                  'Taxes Paid'='group_taxes_current', \n                  'Hyp Taxes Paid' = 'hyp_group_taxes',\n                  'Share of Levy'='pct_taxburden_current',\n                  'Share of Taxbase' = 'pct_taxbase_current',\n              \"Hyp. Share of Levy\"  =  'hyp_pct_taxburden',\n              \"Burden Shift\" = 'burden_shift'\n                  ),\n                caption = \"Table 2 in Report for all Municipalities: Current and Hypothetical Composite Tax Rates if GHE $0\"\n      ) |&gt;\n  formatCurrency(columns = c(3:6), digits = 0) |&gt;\n  formatPercentage(columns = c(7,8), digits = 2)\n\n\n\n\n\n\n\n\nCode\nmc_burden |&gt; \n    mutate(pct_taxburden_current = round(pct_taxburden_current * 100, digits = 2),\n           hyp_pct_taxburden = round(hyp_pct_taxburden * 100, digits = 2) ) |&gt;\n\n  filter(clean_name == \"Dolton\") |&gt; \n  select(`Major Class`= class_1dig, `Current Tax Burden` = pct_taxburden_current, `Alt. Burden` = hyp_pct_taxburden) |&gt; \n  arrange(desc(`Current Tax Burden`)) |&gt;\n  flextable::flextable()\n\n\n\n\nTable 1.4: Ungrouped values for donut chart in report. Tax Burden is the Revenue Collected from a Major Class / the combined levy from local taxing agencies (non-TIF) in Dolton, IL.\n\n\n\nMajor ClassCurrent Tax BurdenAlt. Burden263.6372.71531.2323.4412.041.5381.180.8930.900.6860.590.4490.350.2640.070.0500.000.00\n\n\n\n\n\n\n\nFigure 9. Change in Share of Tax Burden\nWas made in Excel. Not recoded for website yet.\n\n\n\nTable 2. Change in share of property tax burden\n\nTable 2: Change in the share of property tax burden due to exemptions for single-family, multi-family, and commercial and industrial properties, tax year 2021\n\n\nCode\nburden_shift |&gt;  \n    select(clean_name, Group, burden_shift) |&gt;\n  mutate(burden_shift = round(burden_shift, digits =4)) |&gt;\npivot_wider(id_cols=clean_name, names_from = Group, values_from = burden_shift) |&gt;\n  arrange((`Single-family`)) |&gt; \n  DT::datatable(rownames = FALSE) \n\n\n\n\nTable 1.5: Supporting Table for Table 2 Change in tax burden if EAV that is current tax exempt due to homestead exemptions became taxable. Measured in percentage point change.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nburden_c2 |&gt; \n  mutate(burden_shift = burden_shift*100) |&gt; # multiply by 100 to make it percentage point change without formatting to percent below.\n  datatable(rownames = FALSE,\n          colnames = c('Municipality' = 'clean_name', \n                       'Burden Shift, Pct Pt Change' = 'burden_shift', \n                       'Current Tax Burden\\nC2 Tax Collected / Muni Levy' = 'pct_taxburden_current', \n                       \"Hypothetical Tax Burden\\nHyp. C2 Tax Collected / Muni Levy\" = 'hyp_pct_taxburden'),\n          caption = \"Table 2 in Exemption Report: Current Share of Taxable EAV and Share of Levy Paid by Class 2 Properties\"\n           ) |&gt;\n  formatPercentage(c(2,3,4), digits = 2) |&gt;\n  formatRound(c(2), digits = 2)\n\n\n\n\n\n\n\nFigure 9 Follow up. Current Tax Burden Map\n\n\nCode\nburden_c2 |&gt;\n  left_join(nicknames) |&gt;\n  mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n  full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n\n  ggplot(aes(fill = pct_taxburden_current)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void() + \n  theme(axis.ticks = element_blank(), axis.text = element_blank())+\n   scale_fill_stepsn(colors = c(\"#ffffcc\",\"#a1dab4\" ,\"#41b6c4\",\"#2c7fb8\", \"#253494\"),\n                        show.limits=TRUE, \n                     limits = c(0,1),\n                     na.value = \"gray70\",\n                     n.breaks = 6,\n                        name = \"Burden with \\nExemptions\", \n                     labels = scales::percent\n                     \n                    )+\n  labs(title = \"Current share of property tax burden\", \n       subtitle = \"for Class = 2 Property Types\")\n\n\n\n\n\n\n\n\n\n\n\n\nTable 3.\nDifference in taxbills for those that do and do not claim homeowner exemption\n\n\n\nCode\n## removes properties that have more than one exemption type\nC2_munistats_filtered &lt;- pin_data |&gt; \n  filter(class &gt; 199 & class &lt; 300) |&gt;\n    filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0) |&gt;\n  group_by(clean_name)  |&gt;\n  arrange(av) |&gt;\nsummarize(\n    median_eq_av = round(median(eq_av)),\n    median_taxed_eav = round(median(eq_av-all_exemptions)),\n    median_av = round(median(av)), \n    avg_av = round(mean(av)),\n    avg_eq_av = round(mean(eq_av)),\n    avg_taxed_eav = round(mean(eq_av-all_exemptions)),\n\n    C2_pins_in_muni = n(),\n    C2_current_exemptions = sum(all_exemptions, na.rm = TRUE),\n    C2_HO_exemps = sum(exe_homeowner, na.rm = TRUE),\n  )\n\nC2_munistats_filtered |&gt;  \n  DT::datatable(rownames = FALSE, \n                colnames = c(\n                  'Median AV*eq_factor' = 'median_eq_av',\n                  'Average Eq.AV' = 'avg_eq_av',\n                  'Median Taxed EAV' = 'median_taxed_eav', \n                  'Median AV' = 'median_av',  \n                  'Average AV'='avg_av', \n                  'Class 2 Hyp Taxes Paid' = 'avg_taxed_eav',\n                  'Class 2 Pin Count'='C2_pins_in_muni',\n                  'Class 2 Exempt EAV' = 'C2_current_exemptions'\n                  ),\n                caption = \"Class 2 Descriptive Statistics\"\n      ) |&gt;\n  formatCurrency(columns = c(2:7, 9,10), digits = 0)\n\n\n\n\n\n\n\n\nCode\n## Grouped by if they have a $0 tax bill and had the GHE per muni\n\n\nmuni_median_summarytable &lt;- pin_data |&gt; \n  select(pin, av, class, tax_code_num, tax_bill_total, av_certified, exe_homeowner:exe_abate, clean_name, eq_av, all_exemptions, zero_bill, has_HO_exemp, taxed_eav, final_tax_to_dist, final_tax_to_tif) |&gt;\n\n  filter(class &gt; 199 & class &lt; 300) |&gt; \n  \n  # merge in muni residential median AV\n  left_join(C2_munistats_filtered |&gt; select(clean_name, median_av, median_eq_av, median_taxed_eav)) |&gt;\n  \n  left_join(muni_ratechange |&gt; select(clean_name, rate_noExe, rate_noGHE, rate_current)) |&gt;\n  # +/- 500 from municipalities median residential AV\n  filter(av &lt; median_av+200 & av &gt; median_av-200) |&gt;\n  \n  # Removes properties that received other types of exemptions\n  filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0) |&gt;\n  \n  arrange(av) |&gt;\n  \n  mutate(#bill_current = (final_tax_to_dist + final_tax_to_tif),\n         bill_current = rate_current* taxed_eav,\n         bill_noexemps =  rate_noGHE*(eq_av-all_exemptions+exe_homeowner),\n         bill_change = bill_noexemps - bill_current) |&gt;\n  # \n  group_by(clean_name, \n           has_HO_exemp) |&gt; \n  \n  summarize(AV = median(median_av), # median_av was calculated earlier: C2 median AV for the muni \n            `Taxable EAV` = round(median(eq_av)),\n            `Taxed EAV` = round(median(taxed_eav)),\n            bill_cur = round(median(bill_current)),\n            bill_new = round(median(bill_noexemps)),\n            bill_change = round(median(bill_change)),\n            pincount=n(),\n            perceived_savings = round(median(all_exemptions*rate_current))\n            ) |&gt; \n  \n  # merge in clean_names variable\n  left_join(nicknames) |&gt;\n  \n  select(clean_name, has_HO_exemp, bill_cur, bill_new, bill_change, perceived_savings,  AV, `Taxable EAV`, `Taxed EAV`, \n         #everything() \n         ) #|&gt; select(-c(agency_number, agency_name))\n\nmuni_median_summarytable |&gt;\n  DT::datatable(rownames = FALSE, \n                colnames = c(\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'bill_cur',\n                  'Hyp. Bill' = 'bill_new', \n                  'Bill Change' = 'bill_change',  \n                  'Perceived Savings'='perceived_savings'),\n                caption = \"Change in Tax Bill if Exempt EAV from GHE were added back to tax base.\")  |&gt;\n  formatCurrency(columns = c(3:9), digits = 0)\n\n\n\n\n\n\n\n\nCode\nmuni_median_summarytable |&gt;\n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  mutate(across(bill_cur:`Taxed EAV`, scales::dollar )) |&gt;\n rename(Municipality = clean_name,\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'bill_cur',\n                  'Hyp. Bill' = 'bill_new', \n                  'Bill Change' = 'bill_change',  \n                  'Perceived Savings'='perceived_savings' )  |&gt;\n  \n  flextable() \n\n\n\n\nTable 1.6: Table 3. Estimated Bill Change for a municipality’s median valued property if exempt EAV from the GHE were added to back to the tax base.\n\n\n\nMunicipalityClaims GHECurrent BillHyp. BillBill ChangePerceived SavingsAVTaxable EAVTaxed EAVChicago0$4,250$4,105-$145$0$21,000$63,054$63,054Chicago1$3,576$4,105$529$674$21,000$63,057$53,057Dolton0$6,642$5,373-$1,269$0$8,940$26,772$26,772Dolton1$4,182$5,389$1,208$2,481$8,940$26,850$16,856Glencoe0$20,889$20,341-$548$0$73,170$219,197$219,197Glencoe1$19,985$20,385$404$953$73,170$219,663$209,708\n\n\n\n\n\n\n\nCode\ncholton_15000_summarytable &lt;- pin_data |&gt; \n  \n  select(pin, av, class, tax_code_num, tax_bill_total, av_certified, exe_homeowner:exe_abate, clean_name, eq_av, all_exemptions, zero_bill, has_HO_exemp, taxed_eav, final_tax_to_dist, final_tax_to_tif) |&gt;\n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  filter(between(av, 14800, 15200)) |&gt;\n\n  filter(class &gt; 199 & class &lt; 300) |&gt; \n  \n  # merge in muni residential median AV\n  left_join(C2_munistats_filtered |&gt; select(clean_name, median_av)) |&gt;\n  \n  left_join(muni_ratechange |&gt; select(clean_name, rate_noExe, rate_noGHE, rate_current)) |&gt;\n  # +/- 500 from municipalities median residential AV\n  # Removes properties that received other types of exemptions\n  filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0 ) |&gt;\n  \n  arrange(av) |&gt;\n  \n  mutate(\n         bill_current = rate_current* taxed_eav,\n         bill_noexemps =  rate_noGHE*(eq_av-all_exemptions+exe_homeowner),\n         bill_change = bill_noexemps - bill_current) |&gt;\n  # \n  group_by(clean_name, \n           has_HO_exemp) |&gt; \n  \n  summarize(AV = median(av),\n    `Median AV in Muni` = first(median_av), # median_av was calculated earlier: C2 median AV for the muni \n            `EqAV` = round(median(eq_av)),\n            `Taxed EAV` = round(median(taxed_eav)),\n            bill_cur = round(median(bill_current)),\n            bill_new = round(median(bill_noexemps)),\n            bill_change = round(median(bill_change)),\n            pincount=n(),\n            perceived_savings = round(median(all_exemptions*rate_current))\n            ) |&gt; \n  \n  # merge in clean_names variable\n  left_join(nicknames) |&gt;\n  \n  select(clean_name, AV, has_HO_exemp, bill_cur, bill_new, bill_change, perceived_savings,  `Median AV in Muni`, `EqAV`, `Taxed EAV`\n         #everything() \n         ) |&gt;\n  mutate(across(bill_cur:`Taxed EAV`, scales::dollar )) |&gt;\n rename(Municipality = clean_name,\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'bill_cur',\n                  'Hyp. Bill' = 'bill_new', \n                  'Bill Change' = 'bill_change',  \n                  'Perceived Savings'='perceived_savings' )  |&gt;\n  \n  flextable()\n  # DT::datatable(rownames = FALSE, \n  #               colnames = c(\n  #                 'Claims GHE' = 'has_HO_exemp',\n  #                 'Current Bill' = 'bill_cur',\n  #                 'Hyp. Bill' = 'bill_new', \n  #                 'Bill Change' = 'bill_change',  \n  #                 'Perceived Savings'='perceived_savings'),\n  #               caption = \"Change in Tax Bill for Properties with an Assessed Value of $15,000.\")  |&gt;\n  # formatCurrency(columns = c(2, 4:9), digits = 0)\n\ncholton_15000_summarytable\n\n\nTable that uses pins valued at ~$15,000. Creates unrealistic bill\nchange for some municipalities if they do not have properties valued at\n15K.MunicipalityAVClaims GHECurrent BillHyp. BillBill ChangePerceived SavingsMedian AV in MuniEqAVTaxed EAVChicago14,9990$3,036$2,932-$104$0$21,000$45,037$45,037Chicago14,9991$2,362$2,932$570$674$21,000$45,037$35,037Dolton14,9750$11,156$9,025-$2,131$0$8,940$44,965$44,965Dolton14,9451$8,653$9,006$354$2,481$8,940$44,875$34,875Glencoe15,0670$4,312$4,198-$113$0$73,170$45,242$45,242Glencoe15,0671$3,359$4,198$840$953$73,170$45,242$35,242\n\n\n\n\nTable 4.\nMunicipalities with the largest and smallest reductions in tax base (as a share of residential EAV due to exemptions) and median property values\n\n\n\nCode\nmuni_sums |&gt; \n  filter(year == params$year) |&gt;\n  group_by(clean_name) |&gt; \n  summarize(pct_res_exempt = muni_fmv_exempt / muni_fmv_residential) |&gt;  \n  arrange(desc(pct_res_exempt) ) |&gt;\n    left_join(C2_munistats_filtered) |&gt; \n  mutate(prop_value = median_av*10,\n         pct_res_exempt = scales::percent(pct_res_exempt, accuracy = 0.01) ) |&gt;\n  mutate(across(c(median_eq_av:avg_taxed_eav, prop_value), scales::dollar)) |&gt;\n  select(Municipality = clean_name, `Share Res. Exempt` = pct_res_exempt,\n         `Median Prop. Value` = prop_value, everything())\n\n\n\n  \n\n\n\n\n\nFigure 10. Tax Burden Shift from Current GHE\nShare of municipal property tax levy paid by Class 2 properties with and without homestead exemptions, tax year 2021\n\n\nCode\n# as a dot graph ## \n\norder &lt;- mc_burden |&gt;\n  filter(class_1dig == 2) |&gt;\n    select(clean_name, pct_taxburden_current, burden_shift)\n\nslice &lt;-  mc_burden |&gt;\n  filter(class_1dig == 2) |&gt;\n    select(clean_name, pct_taxburden_current, burden_shift) |&gt;\n  arrange(pct_taxburden_current) |&gt;\n  slice(1:5, 63:67, 127:131)\n\n\n\nmedian_burden &lt;- median(order$pct_taxburden_current)\nmedian_shift &lt;- median(order$burden_shift)\n\n# median burden change is 5.9 percentage points\n# current median burden is 70.3% of the levy\n\nmc_burden |&gt; \n  filter(clean_name %in% slice$clean_name) |&gt;\n#filter(!clean_name %in% cross_county_lines$clean_name)|&gt;\n  filter(class_1dig == 2) |&gt;\n#  filter(burden_current &gt; 0.938 |burden_current &lt; .17 |\n #          ( (burden_current &lt; median(burden_current) + 0.01 )& (burden_current &gt; median(burden_current) - 0.01)) )|&gt; \n  ungroup() |&gt; \n      select(clean_name, pct_taxburden_current, hyp_pct_taxburden, burden_shift) |&gt;\n  arrange(burden_shift) |&gt;\n  pivot_longer(c(\"pct_taxburden_current\", \"hyp_pct_taxburden\"), \n               names_to = \"type\", values_to = \"pct_burden\") |&gt; \n  inner_join(order) |&gt;\n  ggplot(aes(x = pct_burden, \n             y= reorder(clean_name, - pct_taxburden_current)))+\n  # y= reorder(clean_name, burden_current)))+\n  geom_vline(xintercept = median_burden, linetype = 3)+\n  geom_line(aes(group = clean_name))+ \n  geom_hline(yintercept = 5.5, linetype = 2)+\n  geom_hline(yintercept = 10.5, linetype = 2)+\n  geom_point(aes(color=type), size=3 )+\n\n  theme_minimal() + \n  theme( \n    legend.title = element_blank(),\n    plot.title.position = \"plot\",\n plot.background = element_rect(fill='transparent', color=NA) \n  )+\n  scale_color_brewer(palette=\"Paired\", labels = c(\"Current Burden\", \"Burden if \\nNo Exemptions\" ), direction = 1) +\n  scale_x_continuous(labels = scales::percent) +\n\n  \n  labs(title = \"Change in Class 2 Residential Tax Burden\", \n       subtitle = \"Ordered by Current Tax Burden\",\n  x = \"Share of Levy (%)\", y = \"\" , \n  caption = paste0(\"Dotted line represents median Class 2 burden (\", round(median_burden*100), \"% of the levy).  \\nResidential Tax Burden is theshare of the property tax collected that was paid for by property owners with Class 2 properties.\")) +\n  \n    geom_label(label = \"Class 2 pays small share of \\nlevy; very little residential\", x=.32, y = 13, label.size = 1, size = 3)+\n  \n    geom_label(label = paste0(\"Class 2 pays median share of \\nlevy (\", round(median_burden*100), \"%), mix of land use\"), x=.42, y = 7.5, label.size = 1, size = 3) +\n  \n    geom_label(label = \"Class 2 pays nearly all of levy, \\nhighly residential\", x=.70, y = 3, label.size = 1,size = 3)\n\n\n\n\n\nFigure 1.5\n\n\n\n\n\n\n\n\n\n\nFigure 11. Zero Dollar Bills\n\n\nCode\nmuni_mc_sums |&gt; \n  left_join(nicknames) |&gt;\n  filter(major_class_code == 2) |&gt; \n  group_by(year, Triad) |&gt;\n  summarize(zerodollar_count = sum(zero_bill)) |&gt; \n  ggplot(aes(x=year, y = zerodollar_count, fill = Triad)) + \n  geom_bar(position = \"stack\", stat = \"identity\") + theme_minimal()+\n  theme(legend.position = \"top\")+\n  labs(title = element_text(\"Number of $0 Taxbills\")) +\n  scale_y_continuous(labels = scales::comma, limits = c(0, 35000), name = \"\")\n\n\n\n\n\nFigure 1.6: Number of tax bills that were $0 shown here is different than the value shown in the exemption report. This is due to missing disabeled veteran exemption amounts that were not identified when writing the original report.",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Tax Year 2021</span>"
    ]
  },
  {
    "objectID": "exemp_report_2021.html#table-6---cost-of-covering-cook-countys-current-homestead-exemptions",
    "href": "exemp_report_2021.html#table-6---cost-of-covering-cook-countys-current-homestead-exemptions",
    "title": "Tax Year 2021",
    "section": "Table 6 - Cost of Covering Cook County’s current Homestead Exemptions",
    "text": "Table 6 - Cost of Covering Cook County’s current Homestead Exemptions\n\n\n\nCode\nclass8munis &lt;- read_csv(\"../Output/datarequests_Class8Munis.csv\")\n\n\ncross_county_lines &lt;- c(\"030440000\", \"030585000\", \"030890000\", \"030320000\", \"031280000\",\n                        \"030080000\", \"030560000\", \"031120000\", \"030280000\", \"030340000\",\n                        \"030150000\",\"030050000\", \"030180000\",\"030500000\", \"031210000\")\n\n\ntbl_southtriad_exemps &lt;- muni_cl_sums |&gt;\n  filter(Triad == \"South\") |&gt;\n  filter(!clean_name %in% cross_county_lines) |&gt;\n  filter(year == params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\n    'PINs' = sum(muni_c_pins_in_muni),\n    'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n    \"EqAV\" = sum(muni_c_equalized_av),\n    'Taxed EAV' = sum(muni_c_current_taxable_eav),\n    'Exempt EAV' = sum(muni_c_all_exemptions),\n    'GHE' = sum(muni_c_exe_homeowner),\n    'Senior' = sum(muni_c_exe_senior),\n    'Senior Freeze' = sum(muni_c_exe_freeze),\n    'Other Exemps.' = sum(muni_c_all_exemptions - muni_c_exe_homeowner - muni_c_exe_senior - muni_c_exe_freeze )\n  ) |&gt;\n  pivot_longer(cols = c('PINs':'Other Exemps.'),\n               names_to = \"Metric\", values_to = \"Total\") |&gt;\n  select(-year)\ntbl_southtriad_exemps\n\n\n\n  \n\n\n\nCode\ntbl_class8muni_exemps &lt;- muni_cl_sums |&gt;\n  filter(clean_name %in% class8munis$clean_name) |&gt;\n  filter(!clean_name %in% cross_county_lines) |&gt;\n  filter(year == params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\n    'PINs' = sum(muni_c_pins_in_muni),\n    'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n    \"EqAV\" = sum(muni_c_equalized_av),\n    'Taxed EAV' = sum(muni_c_current_taxable_eav),\n    'Exempt EAV' = sum(muni_c_all_exemptions),\n    'GHE' = sum(muni_c_exe_homeowner),\n    'Senior' = sum(muni_c_exe_senior),\n    'Senior Freeze' = sum(muni_c_exe_freeze),\n    'Other Exemps.' = sum(muni_c_all_exemptions -muni_c_exe_homeowner- muni_c_exe_senior - muni_c_exe_freeze )\n  ) |&gt;\n  pivot_longer(cols = c('PINs':'Other Exemps.'),\n               names_to = \"Metric\", values_to = \"Total\") |&gt;\n  select(-year)\ntbl_class8muni_exemps\n\n\n\n  \n\n\n\nCode\ntbl &lt;- muni_cl_sums |&gt;\n  filter(!clean_name %in% cross_county_lines) |&gt;\n  filter(year == params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\n    'PINs' = sum(muni_c_pins_in_muni),\n    'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n    \"EqAV\" = sum(muni_c_equalized_av),\n    'Taxed EAV' = sum(muni_c_current_taxable_eav),\n    'Exempt EAV' = sum(muni_c_all_exemptions),\n    'GHE' = sum(muni_c_exe_homeowner),\n    'Senior' = sum(muni_c_exe_senior),\n    'Senior Freeze' = sum(muni_c_exe_freeze),\n    'Other Exemps.' = sum(muni_c_all_exemptions - muni_c_exe_homeowner- muni_c_exe_senior - muni_c_exe_freeze )\n  ) |&gt;\n  pivot_longer(cols = c('PINs':'Other Exemps.'),\n               names_to = \"Metric\", values_to = \"Total\") |&gt;\n  select(-year) \ntbl\n\n\n\n  \n\n\n\n\n\nCode\ntaxcodes_current &lt;- pin_data %&gt;% \n  group_by(tax_code_num)  %&gt;%\n  summarize(\n    av = sum(av),\n    taxed_eav = sum(taxed_eav),\n    equalized_AV = sum(eq_av),\n    pins_in_class = n(),\n    current_exemptions = sum(all_exemptions),\n    HO_exemps = sum(exe_homeowner),\n    tax_code_rate = first(tax_code_rate), \n    final_tax_to_dist = sum(final_tax_to_dist, na.rm = TRUE), # used as LEVY amount!!\n    final_tax_to_dist_AWM = sum(final_tax_to_dist_AWM, na.rm=TRUE),\n    final_tax_to_tif = sum(final_tax_to_tif, na.rm = TRUE),\n    tax_amt_exe = sum(tax_amt_exe, na.rm = TRUE), \n    tax_amt_pre_exe = sum(tax_amt_pre_exe, na.rm = TRUE), \n    tax_amt_post_exe = sum(tax_amt_post_exe, na.rm = TRUE),\n   # tif_share = mean(tif_share, na.rm=TRUE), # not used\n  ) %&gt;%\n  \n  mutate(total_bill_current = final_tax_to_dist + final_tax_to_tif) %&gt;%\n  rename(cur_comp_TC_rate = tax_code_rate) %&gt;%\n  mutate(current_taxable_eav = final_tax_to_dist/(cur_comp_TC_rate),\n         new_taxable_eav = final_tax_to_dist/(cur_comp_TC_rate) + HO_exemps,\n         new_taxable_eav2 = final_tax_to_dist/(cur_comp_TC_rate) + current_exemptions,\n\n         ) %&gt;%\n  mutate(\n    new_comp_TC_rate = (final_tax_to_dist / new_taxable_eav),\n        new_comp_TC_rate2 = (final_tax_to_dist / new_taxable_eav2),\n\n         ) %&gt;%\n  mutate(\n    new_comp_TC_rate = ifelse(is.nan(new_comp_TC_rate), cur_comp_TC_rate, new_comp_TC_rate),\n        new_comp_TC_rate2 = ifelse(is.nan(new_comp_TC_rate2), cur_comp_TC_rate, new_comp_TC_rate2),\n\n         ) %&gt;%\n  select(tax_code_num, cur_comp_TC_rate, new_comp_TC_rate, current_taxable_eav, new_taxable_eav, new_taxable_eav2, new_comp_TC_rate2, everything())\n\nbetter_cost_est_ghe = taxcodes_current |&gt; \n  summarize(better_cost_est = sum(new_comp_TC_rate*(HO_exemps)))\n                                            \nbetter_cost_est_allexe = taxcodes_current |&gt; \n  summarize(better_cost_est = sum(new_comp_TC_rate2*(current_exemptions)))\n\n\nIt would take $928,267,406 to cover the cost of the GHE without the tax rate increasing from the hypothetical rate to the current rate.\nIt would take $1,365,145,469 to cover the cost of all exemption without the tax rate increasing from the hypothetical rate to the current rate.\n\nNot finished for class 8 munis or south triad totals. But done the same way as GHE and all exemption scenarios.\n\n\nAdditional notes\nMultiple ways to measure “burden”:\n\nShare of tax base = (taxed EAV / taxed EAV in Muni)\n\nTax Burden = tax paid / levy\n\nEffective rate = tax paid / property value",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Tax Year 2021</span>"
    ]
  },
  {
    "objectID": "exemp_report_2022.html",
    "href": "exemp_report_2022.html",
    "title": "Tax Year 2022",
    "section": "",
    "text": "County-Wide Exemption Summary Statistics (Tax Year 2022)\nCode\ntbl &lt;- muni_cl_sums |&gt;\n    filter(year == params$year) |&gt;\n    group_by(year) |&gt;\n    summarize(\n      'PINs' = sum(muni_c_pins_in_muni),\n      'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n      \"EqAV\" = sum(muni_c_equalized_av),\n      'Taxed EAV' = sum(muni_c_current_taxable_eav),\n      'Exempt EAV' = sum(muni_c_all_exemptions),\n      'GHE' = sum(muni_c_exe_homeowner),\n      'Senior' = sum(muni_c_exe_senior),\n      'Senior Freeze' = sum(muni_c_exe_freeze),\n      'Other Exemps.' = sum(muni_c_all_exemptions -muni_c_exe_homeowner- muni_c_exe_senior - muni_c_exe_freeze )\n      ) |&gt;\n    pivot_longer(cols = c('PINs':'Other Exemps.'),\n                 names_to = \"Metric\", values_to = \"Total\") |&gt;\n    select(-year) |&gt; \n    mutate(\n      Total = case_when(\n        Metric %in% c(\"Other Exemps.\", \"EAV\", \"EqAV\", \"Taxed EAV\", \"Exempt EAV\",\"GHE\", \"Senior\", \"Senior Freeze\") ~ \n          paste0(format(round(`Total` / 1e9, 2), big.mark = \",\"), \" B\"),\n        TRUE ~ format(`Total`, big.mark = \",\")\n      )\n    )\n\n\nft &lt;- tbl |&gt;\n    flextable(cwidth = c(1, 1)) |&gt;\n    align(j = 2, align = \"right\", part = \"header\") |&gt;  # Align header\n    align(j = 2, align = \"right\", part = \"body\") |&gt;  # Align body\n    align(i = 6:9, j = 1, align = \"center\", part = \"body\") |&gt;  # Align body\n\n    footnote(i = 1, j = 2, value = as_paragraph(\"EAV in billions.\"), ref_symbols = \"*\", part='header') #Footnote in new header\n  \n\nft\n\n\n\n\nTable 2.1: Summary of Homestead Exemption Use in Cook County (Tax Year 2022\n\n\n\nMetricTotal*PINs      1,865,016PINs (w/ exemps.)      1,010,623EqAV221.25 BTaxed EAV184.15 BExempt EAV 15.20 BGHE  9.97 BSenior  2.69 BSenior Freeze  2.45 BOther Exemps.  0.09 B*EAV in billions.\nEqAV is the 2022 equalization factor multiplied by assessed value. Thus, Taxed EAV and Exempt EAV equal EqAV. It can be thought of as the “maximum available tax base” in a world without exemptions.",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tax Year 2022</span>"
    ]
  },
  {
    "objectID": "exemp_report_2022.html#county-wide-exemption-summary-statistics-tax-year-2022",
    "href": "exemp_report_2022.html#county-wide-exemption-summary-statistics-tax-year-2022",
    "title": "Tax Year 2022",
    "section": "",
    "text": "Figure 3. using EAV\n\n\nCode\nmedian_exempt &lt;- muni_sums |&gt;\n  filter(year== params$year)|&gt;\n  mutate(muni_pct_eav_exempt =(muni_eav - muni_eav_taxed) / muni_eav) |&gt; \n  select(muni_pct_eav_exempt, clean_name, agency_name)\n\n\nmidpoint = scales::percent(median(median_exempt$muni_pct_eav_exempt), accuracy = 0.01)\n\nmedian_muni = median_exempt |&gt;\n  arrange(muni_pct_eav_exempt) |&gt;\n  filter(muni_pct_eav_exempt == median(muni_pct_eav_exempt)) |&gt;\n  select(clean_name) |&gt; as.character()\n\nprint(median_exempt |&gt;\n    mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n  ggplot(aes(fill = muni_pct_eav_exempt)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void()+ \n  labs(title = \"Exempt EAV as a Percent of Municipality EAV\") +\n  theme(axis.ticks = element_blank(), \n        axis.text = element_blank())\n +\n    scale_fill_stepsn(colors = c(\"#ffffcc\",\n                                 \"lightblue\",\n                                 \"#41b6c4\", \n                                 \"#253494\",\n                                 \"navy\"\n                                 ),\n                        show.limits=TRUE, \n                  breaks = c(0.075, 0.15, 0.225, 0.30, max(median_exempt$muni_pct_eav_exempt)),\n                       na.value = \"gray50\",\n                    nice.breaks = FALSE,\n                        name = \"% Exempt\", label = scales::percent))\n\n\n\n\n\nFigure 2.1: Share of EAV that is tax exempt due to homestead exemptions\n\n\n\n\n\n\n\n\nThe County-wide municipal-median percent of EAV exempt from property taxes in tax year 2022 was Bridgeview with 14.48%.\n\nFigure 3. Using FMV\n\n\nCode\nmedian_exempt &lt;- muni_sums |&gt;\n  filter(year == params$year)|&gt;\n  mutate(pct_fmv_exempt = muni_fmv_exempt / muni_fmv\n) |&gt; \n  select(pct_fmv_exempt, clean_name)\n\nmidpoint = scales::percent(median(median_exempt$pct_fmv_exempt), accuracy = 0.01)\n\nmedian_muni = median_exempt |&gt;\n  arrange(pct_fmv_exempt) |&gt;\n  filter(pct_fmv_exempt == median(pct_fmv_exempt)) |&gt;\n  select(clean_name) |&gt; as.character()\n\nprint(muni_sums |&gt;\n  filter(year == params$year)|&gt;\n  mutate(pct_fmv_exempt = muni_fmv_exempt / muni_fmv ) |&gt;\n    mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n  ggplot(aes(fill = pct_fmv_exempt)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void()+ \n  labs(title = \"Exempt FMV as a Percent of Municipality FMV\",\n       caption = sprintf(\"The County-wide municipal-median is %s\", midpoint)) +\n    theme_void() + \n  theme(axis.ticks = element_blank(), \n        axis.text = element_blank())+\n   scale_fill_steps2(high = \"darkblue\", low = \"black\",  mid = \"beige\",\n                       n.breaks = 5, show.limits=TRUE,\n                       na.value = NA,\n                    nice.breaks = FALSE,\n                   midpoint = median(median_exempt$pct_fmv_exempt),\n                        name = \"% Exempt\", label = scales::percent))\n\n\n\n\n\nFigure 2.2: Share of FMV that is tax exempt due to Homestead Exemptions Same as previous image but in different color scheme that indicates high and low instead of using a midpoint for the color gradient.\n\n\n\n\n\n\n\n\nThe County-wide municipal-median percent of FMV exempt from property taxes in tax year 2022 was North Riverside with 13.43%.\nThe percent of municipal EAV exempt from property taxes are greatest across Cook County’s south suburbs and lowest in the northern most suburbs of the county.\n\n\n\nFigure 4. Exempt EAV: City vs. Suburbs\n\n\nCode\n## makes table in margin for suburbs and city\ngeom_sums &lt;- muni_cl_sums |&gt; \n  filter(year == params$year) |&gt; \n  select(clean_name, muni_c_all_exemptions) |&gt;\n  mutate(clean_name = ifelse(is.na(clean_name), \"Unincorporated\", clean_name),\n         Geography = ifelse(clean_name == \"Chicago\", \"City\", \"Suburbs\"),\n         Geography = ifelse(is.na(clean_name), \"Unincorporated\", Geography),\n         Geography = factor(Geography, levels = c(\"Suburbs\", \"City\", \"Unincorporated\"))) |&gt;\n  group_by(Geography) |&gt;\n  summarize(\"ExemptEAV\" = sum(muni_c_all_exemptions, na.rm=TRUE))\n\ngeom_sums |&gt; \n  flextable() |&gt;\n  flextable::set_caption(caption =\"Includes all exemption types.\")\n\n\n\nGeographyExemptEAVSuburbs9,166,789,350City6,035,672,661\n\n\n\nCode\nmuni_cl_sums |&gt; \n  filter(year == params$year) |&gt; \n  select(clean_name, muni_c_exe_homeowner:muni_c_exe_vet_dis) |&gt;\n  mutate(clean_name = ifelse(is.na(clean_name), \"Unincorporated\", clean_name),\n    Geography = ifelse(clean_name == \"Chicago\", \"City\", \"Suburbs\"),\n         Geography = ifelse(is.na(clean_name), \"Unincorporated\", Geography),\n         Geography = factor(Geography, levels = c(\"Suburbs\", \"City\", \"Unincorporated\"))) |&gt;\n  group_by(Geography) |&gt;\n  summarize(\"GHE\" = sum(muni_c_exe_homeowner, na.rm=TRUE),\n            \"Senior Homestead\" = sum(muni_c_exe_senior, na.rm=TRUE),\n            \"Senior Freeze\" = sum(muni_c_exe_freeze, na.rm=TRUE),\n            \"Other Exemptions\" = sum(muni_c_exe_longtime_homeowner+muni_c_exe_disabled+muni_c_exe_vet_returning+ muni_c_exe_vet_dis_lt50 + muni_c_exe_vet_dis_50_69+muni_c_exe_vet_dis_ge70)) |&gt;\n  \n  pivot_longer(cols = c(`GHE`:`Other Exemptions`), names_to = \"Type\" ) |&gt;\n   mutate(Type = factor(Type, levels = c(\"GHE\", \"Senior Homestead\", \"Senior Freeze\", \"Other Exemptions\" \n                                         #\"Senior Freeze\", \"Senior Homestead\", \"GHE\"\n                                        )\n                                        )) |&gt;\n  ggplot(aes(x=Type, y = value/1e9, fill = Geography\n             )) +\n  \n  geom_col( position = \"dodge\" ) +\n  geom_text(aes(label = round(value/1e9, digits=1)), vjust=-0.5, position = position_dodge(.9)) +\n  theme_minimal() +\n  labs(title = paste0(\"Exempt EAV in Cook County, Tax Year \", params$year), \n       subtitle = \"by Type and Geography\", \n       y = \"EAV (Billions)\", x = \"Exemption Type\") + \n  scale_y_continuous(limits = c(0, 8)) +\n  scale_fill_manual(values = c(\"blue3\", \"deepskyblue3\", \"gray\") )\n\n\n\n\n\nFigure 2.3: Exempt EAV in Cook County Exemption use varies between suburban Cook County and the City of Chicago which may point to broader socioeconomic patterns as well as residents’ eligibility and update. Note: Our current calculations undervalue the disabled veterans exemption.\n\n\n\n\n\n\n\n\nExemption use varies between suburban Cook County (9166789350 EAV) and the City of Chicago (6035672661 EAV) , which may point to broader socioeconomic patterns as well as residents’ eligibility and uptake.\n\n\nFigure 5. Value of residential exemptions by type in Cook County over time, Tax Years 2006 - 2022\n\n\nCode\nmuni_cl_sums |&gt; \n  select(year, muni_c_exe_homeowner:muni_c_exe_vet_dis) |&gt;\n  filter(year &lt;= params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\"GHE\" = sum(muni_c_exe_homeowner, na.rm=TRUE),\n            \"Senior Homestead\" = sum(muni_c_exe_senior, na.rm=TRUE),\n            \"Senior Freeze\" = sum(muni_c_exe_freeze, na.rm=TRUE),\n            \"Other Exemptions\" = sum(muni_c_exe_longtime_homeowner + muni_c_exe_disabled + muni_c_exe_vet_returning+ muni_c_exe_vet_dis_lt50 + muni_c_exe_vet_dis_50_69+muni_c_exe_vet_dis_ge70, na.rm = T)) |&gt;\n  pivot_longer(cols = c(`GHE`:`Other Exemptions`), names_to = \"Type\" ) |&gt;\n  mutate(Type = factor(Type, levels = c(#\"GHE\", \"Senior Homestead\", \"Senior Freeze\", \n                                        \"Other Exemptions\", \"Senior Freeze\", \"Senior Homestead\", \"GHE\"))) |&gt;\n  ggplot(aes(x=year, y = value/1000000000, fill = Type)) +\n  \n  geom_bar( stat = \"identity\" ) + \n  theme_minimal() +\n  labs(title = \"Residential Exempt EAV in Cook County\", \n       subtitle = paste0(\"by Type and Geography, 2006-\", params$year), \n       y = \"EAV (Billions)\", x =\"\") +\n  scale_fill_manual(values = c(\"chartreuse2\",  \"darksalmon\", \"brown2\", \"blue4\" )) +\n                    scale_x_continuous(breaks = c(2006, 2010, 2015, 2020))\n\n\n\n\n\nFigure 2.4: Residential Exempt EAV in Cook County\n\n\n\n\n\n\n\n\nTrends in the total EAV reductions due to homestead exemptions reflect both real estate market shifts and the legislative changes in their availability, eligibility, and value.",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tax Year 2022</span>"
    ]
  },
  {
    "objectID": "exemp_report_2022.html#effect-on-composite-tax-rates",
    "href": "exemp_report_2022.html#effect-on-composite-tax-rates",
    "title": "Tax Year 2022",
    "section": "Effect on Composite Tax Rates",
    "text": "Effect on Composite Tax Rates\nFigure 6 will not be recreated but is just a bar chart of the change in tax rate in the table below\n\nTable 1. Change in composite property tax rates due to exemptions, tax year 2022.\n\n\nCode\nmuni_ratechange &lt;- read_csv(paste0(\"../Output/muni_ratechange_\", params$year, \"_test.csv\"))\n\n\nmuni_ratechange |&gt; \n  select(clean_name,  current_rate_avg, rate_noExe, change_noExe, final_tax_to_dist \n         ) |&gt; \n  mutate(change_noExe = change_noExe * 100) |&gt;\n  DT::datatable(rownames = FALSE, colnames = c('Municipality' = 'clean_name','Current Comp. Rate' = 'current_rate_avg', 'Hypothetical Rate' = 'rate_noExe',  'Composite Tax Rate Change'='change_noExe', \n\n                       'Composite Levy' = 'final_tax_to_dist'),\n          caption = \"Table 1 in Report for all Municipalities: Current and Hypothetical Composite Tax Rates if GHE $0\") |&gt;\n  formatCurrency('Composite Levy', digits = 0) |&gt;\n  formatPercentage(columns = c(2,3), digits = 2)\n\n\n\n\nTable 2.2: Searchable table containing all municipalities and the hypothetical tax rate change if exempt EAV became taxable.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nmuni_ratechange |&gt;\n  filter(!is.na(clean_name)) |&gt; \n  select(clean_name,  current_rate_avg, rate_noExe, change_noExe \n) |&gt;\n  mutate(across(c(current_rate_avg, rate_noExe, change_noExe ), ~.*100)) |&gt;\n  arrange(desc(change_noExe)) |&gt;\n  slice(c(1:5, 69:73, 121:125)) |&gt;\n    #slice(c(1:5, 58:62, 115:119)) |&gt;\n\n  flextable() |&gt; \n  border_remove() |&gt;\n  hline_top() |&gt;\n  hline(i = c(5,10)) |&gt;\n  \n  set_header_labels(\n    clean_name = \"Municipality\", \n    current_rate_avg = \"With Exemptions\",\n    rate_noExe = \"Without Exemptions\",\n    change_noExe = \"Percent Point Difference\"\n    \n  ) |&gt;\n  align(j = 2, align = \"right\") |&gt;\n  align(j=2, align = \"right\", part = \"header\") |&gt;\n  set_table_properties( layout = \"autofit\") |&gt; bold(i = 8)\n\n\n\n\nTable 2.3: Table 1 in Exemption Report. Shows the top 5, bottom 5, and median 5 municipalities, ranked by change in composite tax rate. Includes all exemption types in calculation of rate change.\n\n\n\nMunicipalityWith ExemptionsWithout ExemptionsPercent Point DifferencePark Forest43.6028.7714.56Phoenix30.7720.3210.40Riverdale32.6825.037.25Dolton26.6819.746.61Hazelcrest26.4619.216.42Indian Head Park8.977.781.23Merrionette Park12.0310.811.22La Grange Park10.819.491.21Bridgeview13.8212.721.19Forest Park12.2611.031.14Hinsdale8.077.830.23Glencoe7.827.620.20Kenilworth8.097.900.18Winnetka7.477.280.18Hodgkins10.9810.520.08\n\n\n\n\n\n\n\nFigure 7. Map of Spatial Patterns in Composite Tax Rate Change\nChange in composite tax rate if exempt EAV was added back to the the taxable tax base (i.e. if there were no exemptions).\n\n\nCode\nmuni_ratechange  |&gt;\n    mutate(across(c(current_rate_avg, rate_noExe, change_noExe ), ~.*100)) |&gt;\n\n  left_join(nicknames, by = \"clean_name\") |&gt;\n  mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name),\n         shpfile_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n  full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n\n  ggplot(aes(fill = change_noExe)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void() + \n  theme(axis.ticks = element_blank(), axis.text = element_blank())+\n   scale_fill_stepsn(colors = c( \"#F7FEF5\",\n                                # \"#e4f1e0\",\n                                \"#d4f6cc\",\n                                \"#47ba24\",\n                                \"#1F6805\",\n                                \"#133C04\"),\n                        show.limits=TRUE, \n                     limits = c(0, 15),\n                     breaks = c(0, 2.5, 5, 7.5, 10, 15),\n                     na.value = NA,\n                        name = \"Rate Change from \\nExemptions\"  \n                    )\n\n\n\n\n\n\n\n\n\n\n\nCode\norder &lt;- burden_shift %&gt;% \n  as_tibble() %&gt;%\n  group_by(agency_name, clean_name) %&gt;%\n    summarize(tax_rate_current = median(tax_rate_current), \n            taxrate_new = median(taxrate_new),\n            taxrate_change = median(taxrate_change)) %&gt;%\n  arrange(taxrate_change)\n\nmedian(order$taxrate_change)\n\nburden_shift %&gt;%  \n  filter(taxrate_change &lt; 0.0027 |taxrate_change &gt; 0.06  |\n           taxrate_change &lt; (median(taxrate_change))+0.0007 & taxrate_change &gt; (median(taxrate_change))-0.00075\n         ) %&gt;% \n    filter(Alea_cat == \"Owner Occupied\") %&gt;%\n\n # filter(PropType == \"Single-Family\") %&gt;%\n  ungroup() %&gt;% \n  select(clean_name, tax_rate_current, taxrate_new, agency_name) %&gt;% \n  pivot_longer(c(\"tax_rate_current\", \"taxrate_new\"), \n               names_to = \"type\", values_to = \"tax_rate\") %&gt;% \n  left_join(order) %&gt;%\n  ggplot(aes(x = tax_rate*100, y= reorder(clean_name, taxrate_change)))+\n  geom_line(aes(group = clean_name))+ \n   geom_point(aes(color=type), size=3 )+\n  geom_hline(yintercept = 10.5, linetype =2)+\n    geom_hline(yintercept = 5.5, linetype =2)+\n  theme_minimal() + \n  theme( \n    legend.title = element_blank(),\n               plot.title.position = \"plot\",\n    legend.position = \"none\",\n     #   panel.background = element_rect(fill='transparent'), #transparent panel bg\n    plot.background = element_rect(fill='transparent', color=NA) #transparent plot bg\n   )+\n        scale_color_brewer(palette=\"Paired\", labels = c(\"Exemptions\", \"No Exemptions\"), direction = 1)+\n\n  labs(title = \"Difference in Composite Tax Rate if there were No Exemptions\", \n       subtitle = \"Ordered by Change in Tax Rate: Highest, Median, and Smallest Differences\",\n       caption = \"Median change is 1.38 percentage points\",\n       x = \"Composite Tax Rate (%)\", y = \"\" )",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tax Year 2022</span>"
    ]
  },
  {
    "objectID": "exemp_report_2022.html#effect-on-tax-burdens",
    "href": "exemp_report_2022.html#effect-on-tax-burdens",
    "title": "Tax Year 2022",
    "section": "Effect on Tax Burdens",
    "text": "Effect on Tax Burdens\n\nFigure 8. Dolton example of Share of levy paid by property type\n\n\n\nCode\n#read_csv(paste0(\"../../Output/Dont_Upload/0_Joined_PIN_data_\", params$year, \".csv\") )\n\npin_data &lt;- read_csv(paste0(\"../Output/Dont_Upload/0_joined_PIN_data_\", params$year, \"_test.csv\"))\n\n\nmc_burden &lt;- read_csv(paste0(\"../Output/muni_mc_burden_\", params$year, \"_test.csv\"))\n\n\nburden_shift &lt;- read_csv(paste0(\"../Output/muni_burden_shift_\", params$year, \"_test.csv\"))\n\n\n\n\nCode\nmc_burden |&gt; \n  mutate(group = case_when(class_1dig == 2 ~ \"Class 2\",\n                         class_1dig == 3 ~ \"Class 3\",\n                         T ~ \"All Other Classes\"))|&gt;\n  \n  select(clean_name, group,  \n         pct_taxburden_current, hyp_pct_taxburden) |&gt;\n  group_by(clean_name, group) |&gt;\n  summarize(`Current Tax Burden Share` = sum(pct_taxburden_current),\n           `Tax Burden Share without Exemptions` =sum(hyp_pct_taxburden)) |&gt;\n  filter(clean_name==\"Dolton\") |&gt;\n  pivot_longer(cols = c(`Current Tax Burden Share`, `Tax Burden Share without Exemptions`), \n                names_to = \"type\", values_to = \"value\") |&gt;\n  ggplot(aes(x = group, y= value, group = type, fill = type) )+ \n  geom_col(position = \"dodge\") +  \n  geom_text(aes(label = scales::percent(round(value, digits=3))), \n              vjust=-0.5, position = position_dodge(.9)) + \n  theme_classic()+\n  theme(legend.title = element_blank(), legend.position = \"bottom\",\n        axis.title.x  = element_blank()) + \n  scale_y_continuous(label = scales::percent, name = \"Share of Levy\")\n\n\n\n\n\n\n\n\n\n\n\nCode\nburden_c2 &lt;- mc_burden |&gt; \n  filter(class_1dig == 2) |&gt; \n  select(clean_name, #pct_taxbase, \n         burden_shift,  pct_taxburden_current, hyp_pct_taxburden)\n\nburden_shift |&gt;  \n  select(-c(muni_levy, muni_taxbase,))|&gt;\n  select(clean_name, Group, pct_taxburden_current, hyp_pct_taxburden, everything()) |&gt;\n  DT::datatable(rownames = FALSE, \n                colnames = c(\n                  'Municipality' = 'clean_name',\n                  'Current Taxbase' = 'group_taxbase', \n                  'Hyp. Taxbase' = 'hyp_group_taxbase',  \n                  'Taxes Paid'='group_taxes_current', \n                  'Hyp Taxes Paid' = 'hyp_group_taxes',\n                  'Share of Levy'='pct_taxburden_current',\n                  'Share of Taxbase' = 'pct_taxbase_current',\n              \"Hyp. Share of Levy\"  =  'hyp_pct_taxburden',\n              \"Burden Shift\" = 'burden_shift'\n                  ),\n                caption = \"Table 2 in Report for all Municipalities: Current and Hypothetical Composite Tax Rates if GHE $0\"\n      ) |&gt;\n  formatCurrency(columns = c(3:6), digits = 0) |&gt;\n  formatPercentage(columns = c(7,8), digits = 2)\n\n\n\n\n\n\n\n\nCode\nmc_burden |&gt; \n    mutate(pct_taxburden_current = round(pct_taxburden_current * 100, digits = 2),\n           hyp_pct_taxburden = round(hyp_pct_taxburden * 100, digits = 2) ) |&gt;\n\n  filter(clean_name == \"Dolton\") |&gt; \n  select(`Major Class`= class_1dig, `Current Tax Burden` = pct_taxburden_current, `Alt. Burden` = hyp_pct_taxburden) |&gt; \n  arrange(desc(`Current Tax Burden`)) |&gt;\n  flextable::flextable()\n\n\n\n\nTable 2.4: Ungrouped values for donut chart in report. Tax Burden is the Revenue Collected from a Major Class / the combined levy from local taxing agencies (non-TIF) in Dolton, IL.\n\n\n\nMajor ClassCurrent Tax BurdenAlt. Burden264.1573.16530.3222.7212.061.5481.521.1430.920.6960.600.4590.360.2740.070.0500.000.00\n\n\n\n\n\n\n\nFigure 9. Change in Share of Tax Burden\nWas made in Excel. Not recoded for website yet.\n\n\n\nTable 2. Change in share of property tax burden\n\nTable 2: Change in the share of property tax burden due to exemptions for single-family, multi-family, and commercial and industrial properties, tax year 2022\n\n\nCode\nburden_shift |&gt;  \n    select(clean_name, Group, burden_shift) |&gt;\n  mutate(burden_shift = round(burden_shift, digits =4)) |&gt;\npivot_wider(id_cols=clean_name, names_from = Group, values_from = burden_shift) |&gt;\n  arrange((`Single-family`)) |&gt; \n  DT::datatable(rownames = FALSE) \n\n\n\n\nTable 2.5: Supporting Table for Table 2 Change in tax burden if EAV that is current tax exempt due to homestead exemptions became taxable. Measured in percentage point change.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nburden_c2 |&gt; \n  mutate(burden_shift = burden_shift*100) |&gt; # multiply by 100 to make it percentage point change without formatting to percent below.\n  datatable(rownames = FALSE,\n          colnames = c('Municipality' = 'clean_name', \n                       'Burden Shift, Pct Pt Change' = 'burden_shift', \n                       'Current Tax Burden\\nC2 Tax Collected / Muni Levy' = 'pct_taxburden_current', \n                       \"Hypothetical Tax Burden\\nHyp. C2 Tax Collected / Muni Levy\" = 'hyp_pct_taxburden'),\n          caption = \"Table 2 in Exemption Report: Current Share of Taxable EAV and Share of Levy Paid by Class 2 Properties\"\n           ) |&gt;\n  formatPercentage(c(2,3,4), digits = 2) |&gt;\n  formatRound(c(2), digits = 2)\n\n\n\n\n\n\n\nFigure 9 Follow up. Current Tax Burden Map\n\n\nCode\nburden_c2 |&gt;\n  left_join(nicknames) |&gt;\n  mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n  full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n\n  ggplot(aes(fill = pct_taxburden_current)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void() + \n  theme(axis.ticks = element_blank(), axis.text = element_blank())+\n   scale_fill_stepsn(colors = c(\"#ffffcc\",\"#a1dab4\" ,\"#41b6c4\",\"#2c7fb8\", \"#253494\"),\n                        show.limits=TRUE, \n                     limits = c(0,1),\n                     na.value = \"gray70\",\n                     n.breaks = 6,\n                        name = \"Burden with \\nExemptions\", \n                     labels = scales::percent\n                     \n                    )+\n  labs(title = \"Current share of property tax burden\", \n       subtitle = \"for Class = 2 Property Types\")\n\n\n\n\n\n\n\n\n\n\n\n\nTable 3.\nDifference in taxbills for those that do and do not claim homeowner exemption\n\n\n\nCode\n## removes properties that have more than one exemption type\nC2_munistats_filtered &lt;- pin_data |&gt; \n  filter(class &gt; 199 & class &lt; 300) |&gt;\n    filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0) |&gt;\n  group_by(clean_name)  |&gt;\n  arrange(av) |&gt;\nsummarize(\n    median_eq_av = round(median(eq_av)),\n    median_taxed_eav = round(median(eq_av-all_exemptions)),\n    median_av = round(median(av)), \n    avg_av = round(mean(av)),\n    avg_eq_av = round(mean(eq_av)),\n    avg_taxed_eav = round(mean(eq_av-all_exemptions)),\n\n    C2_pins_in_muni = n(),\n    C2_current_exemptions = sum(all_exemptions, na.rm = TRUE),\n    C2_HO_exemps = sum(exe_homeowner, na.rm = TRUE),\n  )\n\nC2_munistats_filtered |&gt;  \n  DT::datatable(rownames = FALSE, \n                colnames = c(\n                  'Median AV*eq_factor' = 'median_eq_av',\n                  'Average Eq.AV' = 'avg_eq_av',\n                  'Median Taxed EAV' = 'median_taxed_eav', \n                  'Median AV' = 'median_av',  \n                  'Average AV'='avg_av', \n                  'Class 2 Hyp Taxes Paid' = 'avg_taxed_eav',\n                  'Class 2 Pin Count'='C2_pins_in_muni',\n                  'Class 2 Exempt EAV' = 'C2_current_exemptions'\n                  ),\n                caption = \"Class 2 Descriptive Statistics\"\n      ) |&gt;\n  formatCurrency(columns = c(2:7, 9,10), digits = 0)\n\n\n\n\n\n\n\n\nCode\n## Grouped by if they have a $0 tax bill and had the GHE per muni\n\n\nmuni_median_summarytable &lt;- pin_data |&gt; \n  select(pin, av, class, tax_code_num, tax_bill_total, av_certified, exe_homeowner:exe_abate, clean_name, eq_av, all_exemptions, zero_bill, has_HO_exemp, taxed_eav, final_tax_to_dist, final_tax_to_tif) |&gt;\n\n  filter(class &gt; 199 & class &lt; 300) |&gt; \n  \n  # merge in muni residential median AV\n  left_join(C2_munistats_filtered |&gt; select(clean_name, median_av, median_eq_av, median_taxed_eav)) |&gt;\n  \n  left_join(muni_ratechange |&gt; select(clean_name, rate_noExe, rate_noGHE, rate_current)) |&gt;\n  # +/- 500 from municipalities median residential AV\n  filter(av &lt; median_av+200 & av &gt; median_av-200) |&gt;\n  \n  # Removes properties that received other types of exemptions\n  filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0) |&gt;\n  \n  arrange(av) |&gt;\n  \n  mutate(#bill_current = (final_tax_to_dist + final_tax_to_tif),\n         bill_current = rate_current* taxed_eav,\n         bill_noexemps =  rate_noGHE*(eq_av-all_exemptions+exe_homeowner),\n         bill_change = bill_noexemps - bill_current) |&gt;\n  # \n  group_by(clean_name, \n           has_HO_exemp) |&gt; \n  \n  summarize(AV = median(median_av), # median_av was calculated earlier: C2 median AV for the muni \n            `Taxable EAV` = round(median(eq_av)),\n            `Taxed EAV` = round(median(taxed_eav)),\n            bill_cur = round(median(bill_current)),\n            bill_new = round(median(bill_noexemps)),\n            bill_change = round(median(bill_change)),\n            pincount=n(),\n            perceived_savings = round(median(all_exemptions*rate_current))\n            ) |&gt; \n  \n  # merge in clean_names variable\n  left_join(nicknames) |&gt;\n  \n  select(clean_name, has_HO_exemp, bill_cur, bill_new, bill_change, perceived_savings,  AV, `Taxable EAV`, `Taxed EAV`, \n         #everything() \n         ) #|&gt; select(-c(agency_number, agency_name))\n\nmuni_median_summarytable |&gt;\n  DT::datatable(rownames = FALSE, \n                colnames = c(\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'bill_cur',\n                  'Hyp. Bill' = 'bill_new', \n                  'Bill Change' = 'bill_change',  \n                  'Perceived Savings'='perceived_savings'),\n                caption = \"Change in Tax Bill if Exempt EAV from GHE were added back to tax base.\")  |&gt;\n  formatCurrency(columns = c(3:9), digits = 0)\n\n\n\n\n\n\n\n\nCode\nmuni_median_summarytable |&gt;\n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  mutate(across(bill_cur:`Taxed EAV`, scales::dollar )) |&gt;\n rename(Municipality = clean_name,\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'bill_cur',\n                  'Hyp. Bill' = 'bill_new', \n                  'Bill Change' = 'bill_change',  \n                  'Perceived Savings'='perceived_savings' )  |&gt;\n  \n  flextable() \n\n\n\n\nTable 2.6: Table 3. Estimated Bill Change for a municipality’s median valued property if exempt EAV from the GHE were added to back to the tax base.\n\n\n\nMunicipalityClaims GHECurrent BillHyp. BillBill ChangePerceived SavingsAVTaxable EAVTaxed EAVChicago0$4,347$4,199-$147$0$21,000$61,395$61,395Chicago1$3,639$4,200$561$708$21,000$61,398$51,398Dolton0$6,841$5,501-$1,340$0$8,889$25,962$25,962Dolton1$4,220$5,513$1,293$2,635$8,889$26,015$16,015Glencoe1$22,157$22,499$342$782$100,210$293,332$283,332\n\n\n\n\n\n\n\nCode\ncholton_15000_summarytable &lt;- pin_data |&gt; \n  \n  select(pin, av, class, tax_code_num, tax_bill_total, av_certified, exe_homeowner:exe_abate, clean_name, eq_av, all_exemptions, zero_bill, has_HO_exemp, taxed_eav, final_tax_to_dist, final_tax_to_tif) |&gt;\n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  filter(between(av, 14800, 15200)) |&gt;\n\n  filter(class &gt; 199 & class &lt; 300) |&gt; \n  \n  # merge in muni residential median AV\n  left_join(C2_munistats_filtered |&gt; select(clean_name, median_av)) |&gt;\n  \n  left_join(muni_ratechange |&gt; select(clean_name, rate_noExe, rate_noGHE, rate_current)) |&gt;\n  # +/- 500 from municipalities median residential AV\n  # Removes properties that received other types of exemptions\n  filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0 ) |&gt;\n  \n  arrange(av) |&gt;\n  \n  mutate(\n         bill_current = rate_current* taxed_eav,\n         bill_noexemps =  rate_noGHE*(eq_av-all_exemptions+exe_homeowner),\n         bill_change = bill_noexemps - bill_current) |&gt;\n  # \n  group_by(clean_name, \n           has_HO_exemp) |&gt; \n  \n  summarize(AV = median(av),\n    `Median AV in Muni` = first(median_av), # median_av was calculated earlier: C2 median AV for the muni \n            `EqAV` = round(median(eq_av)),\n            `Taxed EAV` = round(median(taxed_eav)),\n            bill_cur = round(median(bill_current)),\n            bill_new = round(median(bill_noexemps)),\n            bill_change = round(median(bill_change)),\n            pincount=n(),\n            perceived_savings = round(median(all_exemptions*rate_current))\n            ) |&gt; \n  \n  # merge in clean_names variable\n  left_join(nicknames) |&gt;\n  \n  select(clean_name, AV, has_HO_exemp, bill_cur, bill_new, bill_change, perceived_savings,  `Median AV in Muni`, `EqAV`, `Taxed EAV`\n         #everything() \n         ) |&gt;\n  mutate(across(bill_cur:`Taxed EAV`, scales::dollar )) |&gt;\n rename(Municipality = clean_name,\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'bill_cur',\n                  'Hyp. Bill' = 'bill_new', \n                  'Bill Change' = 'bill_change',  \n                  'Perceived Savings'='perceived_savings' )  |&gt;\n  \n  flextable()\n  # DT::datatable(rownames = FALSE, \n  #               colnames = c(\n  #                 'Claims GHE' = 'has_HO_exemp',\n  #                 'Current Bill' = 'bill_cur',\n  #                 'Hyp. Bill' = 'bill_new', \n  #                 'Bill Change' = 'bill_change',  \n  #                 'Perceived Savings'='perceived_savings'),\n  #               caption = \"Change in Tax Bill for Properties with an Assessed Value of $15,000.\")  |&gt;\n  # formatCurrency(columns = c(2, 4:9), digits = 0)\n\ncholton_15000_summarytable\n\n\nTable that uses pins valued at ~$15,000. Creates unrealistic bill\nchange for some municipalities if they do not have properties valued at\n15K.MunicipalityAVClaims GHECurrent BillHyp. BillBill ChangePerceived SavingsMedian AV in MuniEqAVTaxed EAVChicago14,999.00$3,105$3,000-$105$0$21,000$43,853$43,853Chicago14,999.01$2,397$3,000$603$708$21,000$43,853$33,853Dolton14,991.00$11,549$9,287-$2,262$0$8,889$43,829$43,829Dolton14,907.51$8,850$9,236$386$2,635$8,889$43,585$33,585Glencoe14,976.00$3,424$3,358-$66$0$100,210$43,785$43,785\n\n\n\n\nTable 4.\nMunicipalities with the largest and smallest reductions in tax base (as a share of residential EAV due to exemptions) and median property values\n\n\n\nCode\nmuni_sums |&gt; \n  filter(year == params$year) |&gt;\n  group_by(clean_name) |&gt; \n  summarize(pct_res_exempt = muni_fmv_exempt / muni_fmv_residential) |&gt;  \n  arrange(desc(pct_res_exempt) ) |&gt;\n    left_join(C2_munistats_filtered) |&gt; \n  mutate(prop_value = median_av*10,\n         pct_res_exempt = scales::percent(pct_res_exempt, accuracy = 0.01) ) |&gt;\n  mutate(across(c(median_eq_av:avg_taxed_eav, prop_value), scales::dollar)) |&gt;\n  select(Municipality = clean_name, `Share Res. Exempt` = pct_res_exempt,\n         `Median Prop. Value` = prop_value, everything())\n\n\n\n  \n\n\n\n\n\nFigure 10. Tax Burden Shift from Current GHE\nShare of municipal property tax levy paid by Class 2 properties with and without homestead exemptions, tax year 2022\n\n\nCode\n# as a dot graph ## \n\norder &lt;- mc_burden |&gt;\n  filter(class_1dig == 2) |&gt;\n    select(clean_name, pct_taxburden_current, burden_shift)\n\nslice &lt;-  mc_burden |&gt;\n  filter(class_1dig == 2) |&gt;\n    select(clean_name, pct_taxburden_current, burden_shift) |&gt;\n  arrange(pct_taxburden_current) |&gt;\n  slice(1:5, 63:67, 127:131)\n\n\n\nmedian_burden &lt;- median(order$pct_taxburden_current)\nmedian_shift &lt;- median(order$burden_shift)\n\n# median burden change is 5.9 percentage points\n# current median burden is 70.3% of the levy\n\nmc_burden |&gt; \n  filter(clean_name %in% slice$clean_name) |&gt;\n#filter(!clean_name %in% cross_county_lines$clean_name)|&gt;\n  filter(class_1dig == 2) |&gt;\n#  filter(burden_current &gt; 0.938 |burden_current &lt; .17 |\n #          ( (burden_current &lt; median(burden_current) + 0.01 )& (burden_current &gt; median(burden_current) - 0.01)) )|&gt; \n  ungroup() |&gt; \n      select(clean_name, pct_taxburden_current, hyp_pct_taxburden, burden_shift) |&gt;\n  arrange(burden_shift) |&gt;\n  pivot_longer(c(\"pct_taxburden_current\", \"hyp_pct_taxburden\"), \n               names_to = \"type\", values_to = \"pct_burden\") |&gt; \n  inner_join(order) |&gt;\n  ggplot(aes(x = pct_burden, \n             y= reorder(clean_name, - pct_taxburden_current)))+\n  # y= reorder(clean_name, burden_current)))+\n  geom_vline(xintercept = median_burden, linetype = 3)+\n  geom_line(aes(group = clean_name))+ \n  geom_hline(yintercept = 5.5, linetype = 2)+\n  geom_hline(yintercept = 10.5, linetype = 2)+\n  geom_point(aes(color=type), size=3 )+\n\n  theme_minimal() + \n  theme( \n    legend.title = element_blank(),\n    plot.title.position = \"plot\",\n plot.background = element_rect(fill='transparent', color=NA) \n  )+\n  scale_color_brewer(palette=\"Paired\", labels = c(\"Current Burden\", \"Burden if \\nNo Exemptions\" ), direction = 1) +\n  scale_x_continuous(labels = scales::percent) +\n\n  \n  labs(title = \"Change in Class 2 Residential Tax Burden\", \n       subtitle = \"Ordered by Current Tax Burden\",\n  x = \"Share of Levy (%)\", y = \"\" , \n  caption = paste0(\"Dotted line represents median Class 2 burden (\", round(median_burden*100), \"% of the levy).  \\nResidential Tax Burden is theshare of the property tax collected that was paid for by property owners with Class 2 properties.\")) +\n  \n    geom_label(label = \"Class 2 pays small share of \\nlevy; very little residential\", x=.32, y = 13, label.size = 1, size = 3)+\n  \n    geom_label(label = paste0(\"Class 2 pays median share of \\nlevy (\", round(median_burden*100), \"%), mix of land use\"), x=.42, y = 7.5, label.size = 1, size = 3) +\n  \n    geom_label(label = \"Class 2 pays nearly all of levy, \\nhighly residential\", x=.70, y = 3, label.size = 1,size = 3)\n\n\n\n\n\nFigure 2.5\n\n\n\n\n\n\n\n\n\n\nFigure 11. Zero Dollar Bills\n\n\nCode\nmuni_mc_sums |&gt; \n  left_join(nicknames) |&gt;\n  filter(major_class_code == 2) |&gt; \n  group_by(year, Triad) |&gt;\n  summarize(zerodollar_count = sum(zero_bill)) |&gt; \n  ggplot(aes(x=year, y = zerodollar_count, fill = Triad)) + \n  geom_bar(position = \"stack\", stat = \"identity\") + theme_minimal()+\n  theme(legend.position = \"top\")+\n  labs(title = element_text(\"Number of $0 Taxbills\")) +\n  scale_y_continuous(labels = scales::comma, limits = c(0, 35000), name = \"\")\n\n\n\n\n\nFigure 2.6: Number of tax bills that were $0 shown here is different than the value shown in the exemption report. This is due to missing disabeled veteran exemption amounts that were not identified when writing the original report.",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tax Year 2022</span>"
    ]
  },
  {
    "objectID": "exemp_report_2022.html#table-6---cost-of-covering-cook-countys-current-homestead-exemptions",
    "href": "exemp_report_2022.html#table-6---cost-of-covering-cook-countys-current-homestead-exemptions",
    "title": "Tax Year 2022",
    "section": "Table 6 - Cost of Covering Cook County’s current Homestead Exemptions",
    "text": "Table 6 - Cost of Covering Cook County’s current Homestead Exemptions\n\n\n\nCode\nclass8munis &lt;- read_csv(\"../Output/datarequests_Class8Munis.csv\")\n\n\ncross_county_lines &lt;- c(\"030440000\", \"030585000\", \"030890000\", \"030320000\", \"031280000\",\n                        \"030080000\", \"030560000\", \"031120000\", \"030280000\", \"030340000\",\n                        \"030150000\",\"030050000\", \"030180000\",\"030500000\", \"031210000\")\n\n\ntbl_southtriad_exemps &lt;- muni_cl_sums |&gt;\n  filter(Triad == \"South\") |&gt;\n  filter(!clean_name %in% cross_county_lines) |&gt;\n  filter(year == params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\n    'PINs' = sum(muni_c_pins_in_muni),\n    'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n    \"EqAV\" = sum(muni_c_equalized_av),\n    'Taxed EAV' = sum(muni_c_current_taxable_eav),\n    'Exempt EAV' = sum(muni_c_all_exemptions),\n    'GHE' = sum(muni_c_exe_homeowner),\n    'Senior' = sum(muni_c_exe_senior),\n    'Senior Freeze' = sum(muni_c_exe_freeze),\n    'Other Exemps.' = sum(muni_c_all_exemptions - muni_c_exe_homeowner - muni_c_exe_senior - muni_c_exe_freeze )\n  ) |&gt;\n  pivot_longer(cols = c('PINs':'Other Exemps.'),\n               names_to = \"Metric\", values_to = \"Total\") |&gt;\n  select(-year)\ntbl_southtriad_exemps\n\n\n\n  \n\n\n\nCode\ntbl_class8muni_exemps &lt;- muni_cl_sums |&gt;\n  filter(clean_name %in% class8munis$clean_name) |&gt;\n  filter(!clean_name %in% cross_county_lines) |&gt;\n  filter(year == params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\n    'PINs' = sum(muni_c_pins_in_muni),\n    'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n    \"EqAV\" = sum(muni_c_equalized_av),\n    'Taxed EAV' = sum(muni_c_current_taxable_eav),\n    'Exempt EAV' = sum(muni_c_all_exemptions),\n    'GHE' = sum(muni_c_exe_homeowner),\n    'Senior' = sum(muni_c_exe_senior),\n    'Senior Freeze' = sum(muni_c_exe_freeze),\n    'Other Exemps.' = sum(muni_c_all_exemptions -muni_c_exe_homeowner- muni_c_exe_senior - muni_c_exe_freeze )\n  ) |&gt;\n  pivot_longer(cols = c('PINs':'Other Exemps.'),\n               names_to = \"Metric\", values_to = \"Total\") |&gt;\n  select(-year)\ntbl_class8muni_exemps\n\n\n\n  \n\n\n\nCode\ntbl &lt;- muni_cl_sums |&gt;\n  filter(!clean_name %in% cross_county_lines) |&gt;\n  filter(year == params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\n    'PINs' = sum(muni_c_pins_in_muni),\n    'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n    \"EqAV\" = sum(muni_c_equalized_av),\n    'Taxed EAV' = sum(muni_c_current_taxable_eav),\n    'Exempt EAV' = sum(muni_c_all_exemptions),\n    'GHE' = sum(muni_c_exe_homeowner),\n    'Senior' = sum(muni_c_exe_senior),\n    'Senior Freeze' = sum(muni_c_exe_freeze),\n    'Other Exemps.' = sum(muni_c_all_exemptions - muni_c_exe_homeowner- muni_c_exe_senior - muni_c_exe_freeze )\n  ) |&gt;\n  pivot_longer(cols = c('PINs':'Other Exemps.'),\n               names_to = \"Metric\", values_to = \"Total\") |&gt;\n  select(-year) \ntbl\n\n\n\n  \n\n\n\n\n\nCode\ntaxcodes_current &lt;- pin_data %&gt;% \n  group_by(tax_code_num)  %&gt;%\n  summarize(\n    av = sum(av),\n    taxed_eav = sum(taxed_eav),\n    equalized_AV = sum(eq_av),\n    pins_in_class = n(),\n    current_exemptions = sum(all_exemptions),\n    HO_exemps = sum(exe_homeowner),\n    tax_code_rate = first(tax_code_rate), \n    final_tax_to_dist = sum(final_tax_to_dist, na.rm = TRUE), # used as LEVY amount!!\n    final_tax_to_dist_AWM = sum(final_tax_to_dist_AWM, na.rm=TRUE),\n    final_tax_to_tif = sum(final_tax_to_tif, na.rm = TRUE),\n    tax_amt_exe = sum(tax_amt_exe, na.rm = TRUE), \n    tax_amt_pre_exe = sum(tax_amt_pre_exe, na.rm = TRUE), \n    tax_amt_post_exe = sum(tax_amt_post_exe, na.rm = TRUE),\n   # tif_share = mean(tif_share, na.rm=TRUE), # not used\n  ) %&gt;%\n  \n  mutate(total_bill_current = final_tax_to_dist + final_tax_to_tif) %&gt;%\n  rename(cur_comp_TC_rate = tax_code_rate) %&gt;%\n  mutate(current_taxable_eav = final_tax_to_dist/(cur_comp_TC_rate),\n         new_taxable_eav = final_tax_to_dist/(cur_comp_TC_rate) + HO_exemps,\n         new_taxable_eav2 = final_tax_to_dist/(cur_comp_TC_rate) + current_exemptions,\n\n         ) %&gt;%\n  mutate(\n    new_comp_TC_rate = (final_tax_to_dist / new_taxable_eav),\n        new_comp_TC_rate2 = (final_tax_to_dist / new_taxable_eav2),\n\n         ) %&gt;%\n  mutate(\n    new_comp_TC_rate = ifelse(is.nan(new_comp_TC_rate), cur_comp_TC_rate, new_comp_TC_rate),\n        new_comp_TC_rate2 = ifelse(is.nan(new_comp_TC_rate2), cur_comp_TC_rate, new_comp_TC_rate2),\n\n         ) %&gt;%\n  select(tax_code_num, cur_comp_TC_rate, new_comp_TC_rate, current_taxable_eav, new_taxable_eav, new_taxable_eav2, new_comp_TC_rate2, everything())\n\nbetter_cost_est_ghe = taxcodes_current |&gt; \n  summarize(better_cost_est = sum(new_comp_TC_rate*(HO_exemps)))\n                                            \nbetter_cost_est_allexe = taxcodes_current |&gt; \n  summarize(better_cost_est = sum(new_comp_TC_rate2*(current_exemptions)))\n\n\nIt would take $916,620,689 to cover the cost of the GHE without the tax rate increasing from the hypothetical rate to the current rate.\nIt would take $1,314,521,807 to cover the cost of all exemption without the tax rate increasing from the hypothetical rate to the current rate.\n\nNot finished for class 8 munis or south triad totals. But done the same way as GHE and all exemption scenarios.\n\n\nAdditional notes\nMultiple ways to measure “burden”:\n\nShare of tax base = (taxed EAV / taxed EAV in Muni)\n\nTax Burden = tax paid / levy\n\nEffective rate = tax paid / property value",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tax Year 2022</span>"
    ]
  },
  {
    "objectID": "exemp_report_2023.html",
    "href": "exemp_report_2023.html",
    "title": "Tax Year 2023",
    "section": "",
    "text": "County-Wide Exemption Summary Statistics (Tax Year 2023)\nCode\ntbl &lt;- muni_cl_sums |&gt;\n    filter(year == params$year) |&gt;\n    group_by(year) |&gt;\n    summarize(\n      'PINs' = sum(muni_c_pins_in_muni),\n      'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n      \"EqAV\" = sum(muni_c_equalized_av),\n      'Taxed EAV' = sum(muni_c_current_taxable_eav),\n      'Exempt EAV' = sum(muni_c_all_exemptions),\n      'GHE' = sum(muni_c_exe_homeowner),\n      'Senior' = sum(muni_c_exe_senior),\n      'Senior Freeze' = sum(muni_c_exe_freeze),\n      'Other Exemps.' = sum(muni_c_all_exemptions -muni_c_exe_homeowner- muni_c_exe_senior - muni_c_exe_freeze )\n      ) |&gt;\n    pivot_longer(cols = c('PINs':'Other Exemps.'),\n                 names_to = \"Metric\", values_to = \"Total\") |&gt;\n    select(-year) |&gt; \n    mutate(\n      Total = case_when(\n        Metric %in% c(\"Other Exemps.\", \"EAV\", \"EqAV\", \"Taxed EAV\", \"Exempt EAV\",\"GHE\", \"Senior\", \"Senior Freeze\") ~ \n          paste0(format(round(`Total` / 1e9, 2), big.mark = \",\"), \" B\"),\n        TRUE ~ format(`Total`, big.mark = \",\")\n      )\n    )\n\n\nft &lt;- tbl |&gt;\n    flextable(cwidth = c(1, 1)) |&gt;\n    align(j = 2, align = \"right\", part = \"header\") |&gt;  # Align header\n    align(j = 2, align = \"right\", part = \"body\") |&gt;  # Align body\n    align(i = 6:9, j = 1, align = \"center\", part = \"body\") |&gt;  # Align body\n\n    footnote(i = 1, j = 2, value = as_paragraph(\"EAV in billions.\"), ref_symbols = \"*\", part='header') #Footnote in new header\n  \n\nft\n\n\n\n\nTable 3.1: Summary of Homestead Exemption Use in Cook County (Tax Year 2023\n\n\n\nMetricTotal*PINs      1,864,161PINs (w/ exemps.)      1,000,590EqAV237.91 BTaxed EAV198.84 BExempt EAV 15.58 BGHE  9.89 BSenior  2.71 BSenior Freeze  2.88 BOther Exemps.  0.09 B*EAV in billions.\nEqAV is the 2023 equalization factor multiplied by assessed value. Thus, Taxed EAV and Exempt EAV equal EqAV. It can be thought of as the “maximum available tax base” in a world without exemptions.",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Tax Year 2023</span>"
    ]
  },
  {
    "objectID": "exemp_report_2023.html#county-wide-exemption-summary-statistics-tax-year-2023",
    "href": "exemp_report_2023.html#county-wide-exemption-summary-statistics-tax-year-2023",
    "title": "Tax Year 2023",
    "section": "",
    "text": "Figure 3. using EAV\n\n\nCode\nmedian_exempt &lt;- muni_sums |&gt;\n  filter(year== params$year)|&gt;\n  mutate(muni_pct_eav_exempt =(muni_eav - muni_eav_taxed) / muni_eav) |&gt; \n  select(muni_pct_eav_exempt, clean_name, agency_name)\n\n\nmidpoint = scales::percent(median(median_exempt$muni_pct_eav_exempt), accuracy = 0.01)\n\nmedian_muni = median_exempt |&gt;\n  arrange(muni_pct_eav_exempt) |&gt;\n  filter(muni_pct_eav_exempt == median(muni_pct_eav_exempt)) |&gt;\n  select(clean_name) |&gt; as.character()\n\nprint(median_exempt |&gt;\n    mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n  ggplot(aes(fill = muni_pct_eav_exempt)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void()+ \n  labs(title = \"Exempt EAV as a Percent of Municipality EAV\") +\n  theme(axis.ticks = element_blank(), \n        axis.text = element_blank())\n +\n    scale_fill_stepsn(colors = c(\"#ffffcc\",\n                                 \"lightblue\",\n                                 \"#41b6c4\", \n                                 \"#253494\",\n                                 \"navy\"\n                                 ),\n                        show.limits=TRUE, \n                  breaks = c(0.075, 0.15, 0.225, 0.30, max(median_exempt$muni_pct_eav_exempt)),\n                       na.value = \"gray50\",\n                    nice.breaks = FALSE,\n                        name = \"% Exempt\", label = scales::percent))\n\n\n\n\n\nFigure 3.1: Share of EAV that is tax exempt due to homestead exemptions\n\n\n\n\n\n\n\n\nThe County-wide municipal-median percent of EAV exempt from property taxes in tax year 2023 was Chicago Ridge with 13.39%.\n\nFigure 3. Using FMV\n\n\nCode\nmedian_exempt &lt;- muni_sums |&gt;\n  filter(year == params$year)|&gt;\n  mutate(pct_fmv_exempt = muni_fmv_exempt / muni_fmv\n) |&gt; \n  select(pct_fmv_exempt, clean_name)\n\nmidpoint = scales::percent(median(median_exempt$pct_fmv_exempt), accuracy = 0.01)\n\nmedian_muni = median_exempt |&gt;\n  arrange(pct_fmv_exempt) |&gt;\n  filter(pct_fmv_exempt == median(pct_fmv_exempt)) |&gt;\n  select(clean_name) |&gt; as.character()\n\nprint(muni_sums |&gt;\n  filter(year == params$year)|&gt;\n  mutate(pct_fmv_exempt = muni_fmv_exempt / muni_fmv ) |&gt;\n    mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n  ggplot(aes(fill = pct_fmv_exempt)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void()+ \n  labs(title = \"Exempt FMV as a Percent of Municipality FMV\",\n       caption = sprintf(\"The County-wide municipal-median is %s\", midpoint)) +\n    theme_void() + \n  theme(axis.ticks = element_blank(), \n        axis.text = element_blank())+\n   scale_fill_steps2(high = \"darkblue\", low = \"black\",  mid = \"beige\",\n                       n.breaks = 5, show.limits=TRUE,\n                       na.value = NA,\n                    nice.breaks = FALSE,\n                   midpoint = median(median_exempt$pct_fmv_exempt),\n                        name = \"% Exempt\", label = scales::percent))\n\n\n\n\n\nFigure 3.2: Share of FMV that is tax exempt due to Homestead Exemptions Same as previous image but in different color scheme that indicates high and low instead of using a midpoint for the color gradient.\n\n\n\n\n\n\n\n\nThe County-wide municipal-median percent of FMV exempt from property taxes in tax year 2023 was Orland Hills with 12.06%.\nThe percent of municipal EAV exempt from property taxes are greatest across Cook County’s south suburbs and lowest in the northern most suburbs of the county.\n\n\n\nFigure 4. Exempt EAV: City vs. Suburbs\n\n\nCode\n## makes table in margin for suburbs and city\ngeom_sums &lt;- muni_cl_sums |&gt; \n  filter(year == params$year) |&gt; \n  select(clean_name, muni_c_all_exemptions) |&gt;\n  mutate(clean_name = ifelse(is.na(clean_name), \"Unincorporated\", clean_name),\n         Geography = ifelse(clean_name == \"Chicago\", \"City\", \"Suburbs\"),\n         Geography = ifelse(is.na(clean_name), \"Unincorporated\", Geography),\n         Geography = factor(Geography, levels = c(\"Suburbs\", \"City\", \"Unincorporated\"))) |&gt;\n  group_by(Geography) |&gt;\n  summarize(\"ExemptEAV\" = sum(muni_c_all_exemptions, na.rm=TRUE))\n\ngeom_sums |&gt; \n  flextable() |&gt;\n  flextable::set_caption(caption =\"Includes all exemption types.\")\n\n\n\nGeographyExemptEAVSuburbs9,633,250,071City5,942,859,453\n\n\n\nCode\nmuni_cl_sums |&gt; \n  filter(year == params$year) |&gt; \n  select(clean_name, muni_c_exe_homeowner:muni_c_exe_vet_dis) |&gt;\n  mutate(clean_name = ifelse(is.na(clean_name), \"Unincorporated\", clean_name),\n    Geography = ifelse(clean_name == \"Chicago\", \"City\", \"Suburbs\"),\n         Geography = ifelse(is.na(clean_name), \"Unincorporated\", Geography),\n         Geography = factor(Geography, levels = c(\"Suburbs\", \"City\", \"Unincorporated\"))) |&gt;\n  group_by(Geography) |&gt;\n  summarize(\"GHE\" = sum(muni_c_exe_homeowner, na.rm=TRUE),\n            \"Senior Homestead\" = sum(muni_c_exe_senior, na.rm=TRUE),\n            \"Senior Freeze\" = sum(muni_c_exe_freeze, na.rm=TRUE),\n            \"Other Exemptions\" = sum(muni_c_exe_longtime_homeowner+muni_c_exe_disabled+muni_c_exe_vet_returning+ muni_c_exe_vet_dis_lt50 + muni_c_exe_vet_dis_50_69+muni_c_exe_vet_dis_ge70)) |&gt;\n  \n  pivot_longer(cols = c(`GHE`:`Other Exemptions`), names_to = \"Type\" ) |&gt;\n   mutate(Type = factor(Type, levels = c(\"GHE\", \"Senior Homestead\", \"Senior Freeze\", \"Other Exemptions\" \n                                         #\"Senior Freeze\", \"Senior Homestead\", \"GHE\"\n                                        )\n                                        )) |&gt;\n  ggplot(aes(x=Type, y = value/1e9, fill = Geography\n             )) +\n  \n  geom_col( position = \"dodge\" ) +\n  geom_text(aes(label = round(value/1e9, digits=1)), vjust=-0.5, position = position_dodge(.9)) +\n  theme_minimal() +\n  labs(title = paste0(\"Exempt EAV in Cook County, Tax Year \", params$year), \n       subtitle = \"by Type and Geography\", \n       y = \"EAV (Billions)\", x = \"Exemption Type\") + \n  scale_y_continuous(limits = c(0, 8)) +\n  scale_fill_manual(values = c(\"blue3\", \"deepskyblue3\", \"gray\") )\n\n\n\n\n\nFigure 3.3: Exempt EAV in Cook County Exemption use varies between suburban Cook County and the City of Chicago which may point to broader socioeconomic patterns as well as residents’ eligibility and update. Note: Our current calculations undervalue the disabled veterans exemption.\n\n\n\n\n\n\n\n\nExemption use varies between suburban Cook County (9633250071 EAV) and the City of Chicago (5942859453 EAV) , which may point to broader socioeconomic patterns as well as residents’ eligibility and uptake.\n\n\nFigure 5. Value of residential exemptions by type in Cook County over time, Tax Years 2006 - 2023\n\n\nCode\nmuni_cl_sums |&gt; \n  select(year, muni_c_exe_homeowner:muni_c_exe_vet_dis) |&gt;\n  filter(year &lt;= params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\"GHE\" = sum(muni_c_exe_homeowner, na.rm=TRUE),\n            \"Senior Homestead\" = sum(muni_c_exe_senior, na.rm=TRUE),\n            \"Senior Freeze\" = sum(muni_c_exe_freeze, na.rm=TRUE),\n            \"Other Exemptions\" = sum(muni_c_exe_longtime_homeowner + muni_c_exe_disabled + muni_c_exe_vet_returning+ muni_c_exe_vet_dis_lt50 + muni_c_exe_vet_dis_50_69+muni_c_exe_vet_dis_ge70, na.rm = T)) |&gt;\n  pivot_longer(cols = c(`GHE`:`Other Exemptions`), names_to = \"Type\" ) |&gt;\n  mutate(Type = factor(Type, levels = c(#\"GHE\", \"Senior Homestead\", \"Senior Freeze\", \n                                        \"Other Exemptions\", \"Senior Freeze\", \"Senior Homestead\", \"GHE\"))) |&gt;\n  ggplot(aes(x=year, y = value/1000000000, fill = Type)) +\n  \n  geom_bar( stat = \"identity\" ) + \n  theme_minimal() +\n  labs(title = \"Residential Exempt EAV in Cook County\", \n       subtitle = paste0(\"by Type and Geography, 2006-\", params$year), \n       y = \"EAV (Billions)\", x =\"\") +\n  scale_fill_manual(values = c(\"chartreuse2\",  \"darksalmon\", \"brown2\", \"blue4\" )) +\n                    scale_x_continuous(breaks = c(2006, 2010, 2015, 2020))\n\n\n\n\n\nFigure 3.4: Residential Exempt EAV in Cook County\n\n\n\n\n\n\n\n\nTrends in the total EAV reductions due to homestead exemptions reflect both real estate market shifts and the legislative changes in their availability, eligibility, and value.",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Tax Year 2023</span>"
    ]
  },
  {
    "objectID": "exemp_report_2023.html#effect-on-composite-tax-rates",
    "href": "exemp_report_2023.html#effect-on-composite-tax-rates",
    "title": "Tax Year 2023",
    "section": "Effect on Composite Tax Rates",
    "text": "Effect on Composite Tax Rates\nFigure 6 will not be recreated but is just a bar chart of the change in tax rate in the table below\n\nTable 1. Change in composite property tax rates due to exemptions, tax year 2023.\n\n\nCode\nmuni_ratechange &lt;- read_csv(paste0(\"../Output/muni_ratechange_\", params$year, \"_test.csv\"))\n\n\nmuni_ratechange |&gt; \n  select(clean_name,  current_rate_avg, rate_noExe, change_noExe, final_tax_to_dist \n         ) |&gt; \n  mutate(change_noExe = change_noExe * 100) |&gt;\n  DT::datatable(rownames = FALSE, colnames = c('Municipality' = 'clean_name','Current Comp. Rate' = 'current_rate_avg', 'Hypothetical Rate' = 'rate_noExe',  'Composite Tax Rate Change'='change_noExe', \n\n                       'Composite Levy' = 'final_tax_to_dist'),\n          caption = \"Table 1 in Report for all Municipalities: Current and Hypothetical Composite Tax Rates if GHE $0\") |&gt;\n  formatCurrency('Composite Levy', digits = 0) |&gt;\n  formatPercentage(columns = c(2,3), digits = 2)\n\n\n\n\nTable 3.2: Searchable table containing all municipalities and the hypothetical tax rate change if exempt EAV became taxable.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nmuni_ratechange |&gt;\n  filter(!is.na(clean_name)) |&gt; \n  select(clean_name,  current_rate_avg, rate_noExe, change_noExe \n) |&gt;\n  mutate(across(c(current_rate_avg, rate_noExe, change_noExe ), ~.*100)) |&gt;\n  arrange(desc(change_noExe)) |&gt;\n  slice(c(1:5, 69:73, 121:125)) |&gt;\n    #slice(c(1:5, 58:62, 115:119)) |&gt;\n\n  flextable() |&gt; \n  border_remove() |&gt;\n  hline_top() |&gt;\n  hline(i = c(5,10)) |&gt;\n  \n  set_header_labels(\n    clean_name = \"Municipality\", \n    current_rate_avg = \"With Exemptions\",\n    rate_noExe = \"Without Exemptions\",\n    change_noExe = \"Percent Point Difference\"\n    \n  ) |&gt;\n  align(j = 2, align = \"right\") |&gt;\n  align(j=2, align = \"right\", part = \"header\") |&gt;\n  set_table_properties( layout = \"autofit\") |&gt; bold(i = 8)\n\n\n\n\nTable 3.3: Table 1 in Exemption Report. Shows the top 5, bottom 5, and median 5 municipalities, ranked by change in composite tax rate. Includes all exemption types in calculation of rate change.\n\n\n\nMunicipalityWith ExemptionsWithout ExemptionsPercent Point DifferencePhoenix27.4819.777.68Park Forest23.6118.505.07Riverdale25.3820.225.01Dolton20.1115.684.25Calumet City20.6917.023.96Roselle9.618.670.94Orland Hills9.047.950.93Bridgeview11.3710.440.92Morton Grove9.518.460.92Merrionette Park9.758.850.90Glencoe8.127.910.21Kenilworth8.348.160.18Winnetka7.697.510.18Hinsdale6.866.690.17Hodgkins9.148.760.06\n\n\n\n\n\n\n\nFigure 7. Map of Spatial Patterns in Composite Tax Rate Change\nChange in composite tax rate if exempt EAV was added back to the the taxable tax base (i.e. if there were no exemptions).\n\n\nCode\nmuni_ratechange  |&gt;\n    mutate(across(c(current_rate_avg, rate_noExe, change_noExe ), ~.*100)) |&gt;\n\n  left_join(nicknames, by = \"clean_name\") |&gt;\n  mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name),\n         shpfile_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n  full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n\n  ggplot(aes(fill = change_noExe)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void() + \n  theme(axis.ticks = element_blank(), axis.text = element_blank())+\n   scale_fill_stepsn(colors = c( \"#F7FEF5\",\n                                # \"#e4f1e0\",\n                                \"#d4f6cc\",\n                                \"#47ba24\",\n                                \"#1F6805\",\n                                \"#133C04\"),\n                        show.limits=TRUE, \n                     limits = c(0, 15),\n                     breaks = c(0, 2.5, 5, 7.5, 10, 15),\n                     na.value = NA,\n                        name = \"Rate Change from \\nExemptions\"  \n                    )\n\n\n\n\n\n\n\n\n\n\n\nCode\norder &lt;- burden_shift %&gt;% \n  as_tibble() %&gt;%\n  group_by(agency_name, clean_name) %&gt;%\n    summarize(tax_rate_current = median(tax_rate_current), \n            taxrate_new = median(taxrate_new),\n            taxrate_change = median(taxrate_change)) %&gt;%\n  arrange(taxrate_change)\n\nmedian(order$taxrate_change)\n\nburden_shift %&gt;%  \n  filter(taxrate_change &lt; 0.0027 |taxrate_change &gt; 0.06  |\n           taxrate_change &lt; (median(taxrate_change))+0.0007 & taxrate_change &gt; (median(taxrate_change))-0.00075\n         ) %&gt;% \n    filter(Alea_cat == \"Owner Occupied\") %&gt;%\n\n # filter(PropType == \"Single-Family\") %&gt;%\n  ungroup() %&gt;% \n  select(clean_name, tax_rate_current, taxrate_new, agency_name) %&gt;% \n  pivot_longer(c(\"tax_rate_current\", \"taxrate_new\"), \n               names_to = \"type\", values_to = \"tax_rate\") %&gt;% \n  left_join(order) %&gt;%\n  ggplot(aes(x = tax_rate*100, y= reorder(clean_name, taxrate_change)))+\n  geom_line(aes(group = clean_name))+ \n   geom_point(aes(color=type), size=3 )+\n  geom_hline(yintercept = 10.5, linetype =2)+\n    geom_hline(yintercept = 5.5, linetype =2)+\n  theme_minimal() + \n  theme( \n    legend.title = element_blank(),\n               plot.title.position = \"plot\",\n    legend.position = \"none\",\n     #   panel.background = element_rect(fill='transparent'), #transparent panel bg\n    plot.background = element_rect(fill='transparent', color=NA) #transparent plot bg\n   )+\n        scale_color_brewer(palette=\"Paired\", labels = c(\"Exemptions\", \"No Exemptions\"), direction = 1)+\n\n  labs(title = \"Difference in Composite Tax Rate if there were No Exemptions\", \n       subtitle = \"Ordered by Change in Tax Rate: Highest, Median, and Smallest Differences\",\n       caption = \"Median change is 1.38 percentage points\",\n       x = \"Composite Tax Rate (%)\", y = \"\" )",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Tax Year 2023</span>"
    ]
  },
  {
    "objectID": "exemp_report_2023.html#effect-on-tax-burdens",
    "href": "exemp_report_2023.html#effect-on-tax-burdens",
    "title": "Tax Year 2023",
    "section": "Effect on Tax Burdens",
    "text": "Effect on Tax Burdens\n\nFigure 8. Dolton example of Share of levy paid by property type\n\n\n\nCode\n#read_csv(paste0(\"../../Output/Dont_Upload/0_Joined_PIN_data_\", params$year, \".csv\") )\n\npin_data &lt;- read_csv(paste0(\"../Output/Dont_Upload/0_joined_PIN_data_\", params$year, \"_test.csv\"))\n\n\nmc_burden &lt;- read_csv(paste0(\"../Output/muni_mc_burden_\", params$year, \"_test.csv\"))\n\n\nburden_shift &lt;- read_csv(paste0(\"../Output/muni_burden_shift_\", params$year, \"_test.csv\"))\n\n\n\n\nCode\nmc_burden |&gt; \n  mutate(group = case_when(class_1dig == 2 ~ \"Class 2\",\n                         class_1dig == 3 ~ \"Class 3\",\n                         T ~ \"All Other Classes\"))|&gt;\n  \n  select(clean_name, group,  \n         pct_taxburden_current, hyp_pct_taxburden) |&gt;\n  group_by(clean_name, group) |&gt;\n  summarize(`Current Tax Burden Share` = sum(pct_taxburden_current),\n           `Tax Burden Share without Exemptions` =sum(hyp_pct_taxburden)) |&gt;\n  filter(clean_name==\"Dolton\") |&gt;\n  pivot_longer(cols = c(`Current Tax Burden Share`, `Tax Burden Share without Exemptions`), \n                names_to = \"type\", values_to = \"value\") |&gt;\n  ggplot(aes(x = group, y= value, group = type, fill = type) )+ \n  geom_col(position = \"dodge\") +  \n  geom_text(aes(label = scales::percent(round(value, digits=3))), \n              vjust=-0.5, position = position_dodge(.9)) + \n  theme_classic()+\n  theme(legend.title = element_blank(), legend.position = \"bottom\",\n        axis.title.x  = element_blank()) + \n  scale_y_continuous(label = scales::percent, name = \"Share of Levy\")\n\n\n\n\n\n\n\n\n\n\n\nCode\nburden_c2 &lt;- mc_burden |&gt; \n  filter(class_1dig == 2) |&gt; \n  select(clean_name, #pct_taxbase, \n         burden_shift,  pct_taxburden_current, hyp_pct_taxburden)\n\nburden_shift |&gt;  \n  select(-c(muni_levy, muni_taxbase,))|&gt;\n  select(clean_name, Group, pct_taxburden_current, hyp_pct_taxburden, everything()) |&gt;\n  DT::datatable(rownames = FALSE, \n                colnames = c(\n                  'Municipality' = 'clean_name',\n                  'Current Taxbase' = 'group_taxbase', \n                  'Hyp. Taxbase' = 'hyp_group_taxbase',  \n                  'Taxes Paid'='group_taxes_current', \n                  'Hyp Taxes Paid' = 'hyp_group_taxes',\n                  'Share of Levy'='pct_taxburden_current',\n                  'Share of Taxbase' = 'pct_taxbase_current',\n              \"Hyp. Share of Levy\"  =  'hyp_pct_taxburden',\n              \"Burden Shift\" = 'burden_shift'\n                  ),\n                caption = \"Table 2 in Report for all Municipalities: Current and Hypothetical Composite Tax Rates if GHE $0\"\n      ) |&gt;\n  formatCurrency(columns = c(3:6), digits = 0) |&gt;\n  formatPercentage(columns = c(7,8), digits = 2)\n\n\n\n\n\n\n\n\nCode\nmc_burden |&gt; \n    mutate(pct_taxburden_current = round(pct_taxburden_current * 100, digits = 2),\n           hyp_pct_taxburden = round(hyp_pct_taxburden * 100, digits = 2) ) |&gt;\n\n  filter(clean_name == \"Dolton\") |&gt; \n  select(`Major Class`= class_1dig, `Current Tax Burden` = pct_taxburden_current, `Alt. Burden` = hyp_pct_taxburden) |&gt; \n  arrange(desc(`Current Tax Burden`)) |&gt;\n  flextable::flextable()\n\n\n\n\nTable 3.4: Ungrouped values for donut chart in report. Tax Burden is the Revenue Collected from a Major Class / the combined levy from local taxing agencies (non-TIF) in Dolton, IL.\n\n\n\nMajor ClassCurrent Tax BurdenAlt. Burden272.2378.14523.2618.3011.511.1981.160.9130.810.6460.740.5990.250.2040.060.0500.000.00\n\n\n\n\n\n\n\nFigure 9. Change in Share of Tax Burden\nWas made in Excel. Not recoded for website yet.\n\n\n\nTable 2. Change in share of property tax burden\n\nTable 2: Change in the share of property tax burden due to exemptions for single-family, multi-family, and commercial and industrial properties, tax year 2023\n\n\nCode\nburden_shift |&gt;  \n    select(clean_name, Group, burden_shift) |&gt;\n  mutate(burden_shift = round(burden_shift, digits =4)) |&gt;\npivot_wider(id_cols=clean_name, names_from = Group, values_from = burden_shift) |&gt;\n  arrange((`Single-family`)) |&gt; \n  DT::datatable(rownames = FALSE) \n\n\n\n\nTable 3.5: Supporting Table for Table 2 Change in tax burden if EAV that is current tax exempt due to homestead exemptions became taxable. Measured in percentage point change.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nburden_c2 |&gt; \n  mutate(burden_shift = burden_shift*100) |&gt; # multiply by 100 to make it percentage point change without formatting to percent below.\n  datatable(rownames = FALSE,\n          colnames = c('Municipality' = 'clean_name', \n                       'Burden Shift, Pct Pt Change' = 'burden_shift', \n                       'Current Tax Burden\\nC2 Tax Collected / Muni Levy' = 'pct_taxburden_current', \n                       \"Hypothetical Tax Burden\\nHyp. C2 Tax Collected / Muni Levy\" = 'hyp_pct_taxburden'),\n          caption = \"Table 2 in Exemption Report: Current Share of Taxable EAV and Share of Levy Paid by Class 2 Properties\"\n           ) |&gt;\n  formatPercentage(c(2,3,4), digits = 2) |&gt;\n  formatRound(c(2), digits = 2)\n\n\n\n\n\n\n\nFigure 9 Follow up. Current Tax Burden Map\n\n\nCode\nburden_c2 |&gt;\n  left_join(nicknames) |&gt;\n  mutate(agency_name = ifelse(agency_name == \"TOWN CICERO\", \"CITY OF CICERO\", agency_name) ) |&gt;\n  full_join(muni_shp, by = c(\"agency_name\" = \"AGENCY_DESC\")) |&gt;\n\n  ggplot(aes(fill = pct_taxburden_current)) + \n  geom_sf(aes(geometry = geom), color = \"black\") + \n  theme_void() + \n  theme(axis.ticks = element_blank(), axis.text = element_blank())+\n   scale_fill_stepsn(colors = c(\"#ffffcc\",\"#a1dab4\" ,\"#41b6c4\",\"#2c7fb8\", \"#253494\"),\n                        show.limits=TRUE, \n                     limits = c(0,1),\n                     na.value = \"gray70\",\n                     n.breaks = 6,\n                        name = \"Burden with \\nExemptions\", \n                     labels = scales::percent\n                     \n                    )+\n  labs(title = \"Current share of property tax burden\", \n       subtitle = \"for Class = 2 Property Types\")\n\n\n\n\n\n\n\n\n\n\n\n\nTable 3.\nDifference in taxbills for those that do and do not claim homeowner exemption\n\n\n\nCode\n## removes properties that have more than one exemption type\nC2_munistats_filtered &lt;- pin_data |&gt; \n  filter(class &gt; 199 & class &lt; 300) |&gt;\n    filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0) |&gt;\n  group_by(clean_name)  |&gt;\n  arrange(av) |&gt;\nsummarize(\n    median_eq_av = round(median(eq_av)),\n    median_taxed_eav = round(median(eq_av-all_exemptions)),\n    median_av = round(median(av)), \n    avg_av = round(mean(av)),\n    avg_eq_av = round(mean(eq_av)),\n    avg_taxed_eav = round(mean(eq_av-all_exemptions)),\n\n    C2_pins_in_muni = n(),\n    C2_current_exemptions = sum(all_exemptions, na.rm = TRUE),\n    C2_HO_exemps = sum(exe_homeowner, na.rm = TRUE),\n  )\n\nC2_munistats_filtered |&gt;  \n  DT::datatable(rownames = FALSE, \n                colnames = c(\n                  'Median AV*eq_factor' = 'median_eq_av',\n                  'Average Eq.AV' = 'avg_eq_av',\n                  'Median Taxed EAV' = 'median_taxed_eav', \n                  'Median AV' = 'median_av',  \n                  'Average AV'='avg_av', \n                  'Class 2 Hyp Taxes Paid' = 'avg_taxed_eav',\n                  'Class 2 Pin Count'='C2_pins_in_muni',\n                  'Class 2 Exempt EAV' = 'C2_current_exemptions'\n                  ),\n                caption = \"Class 2 Descriptive Statistics\"\n      ) |&gt;\n  formatCurrency(columns = c(2:7, 9,10), digits = 0)\n\n\n\n\n\n\n\n\nCode\n## Grouped by if they have a $0 tax bill and had the GHE per muni\n\n\nmuni_median_summarytable &lt;- pin_data |&gt; \n  select(pin, av, class, tax_code_num, tax_bill_total, av_certified, exe_homeowner:exe_abate, clean_name, eq_av, all_exemptions, zero_bill, has_HO_exemp, taxed_eav, final_tax_to_dist, final_tax_to_tif) |&gt;\n\n  filter(class &gt; 199 & class &lt; 300) |&gt; \n  \n  # merge in muni residential median AV\n  left_join(C2_munistats_filtered |&gt; select(clean_name, median_av, median_eq_av, median_taxed_eav)) |&gt;\n  \n  left_join(muni_ratechange |&gt; select(clean_name, rate_noExe, rate_noGHE, rate_current)) |&gt;\n  # +/- 500 from municipalities median residential AV\n  filter(av &lt; median_av+200 & av &gt; median_av-200) |&gt;\n  \n  # Removes properties that received other types of exemptions\n  filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0) |&gt;\n  \n  arrange(av) |&gt;\n  \n  mutate(#bill_current = (final_tax_to_dist + final_tax_to_tif),\n         bill_current = rate_current* taxed_eav,\n         bill_noexemps =  rate_noGHE*(eq_av-all_exemptions+exe_homeowner),\n         bill_change = bill_noexemps - bill_current) |&gt;\n  # \n  group_by(clean_name, \n           has_HO_exemp) |&gt; \n  \n  summarize(AV = median(median_av), # median_av was calculated earlier: C2 median AV for the muni \n            `Taxable EAV` = round(median(eq_av)),\n            `Taxed EAV` = round(median(taxed_eav)),\n            bill_cur = round(median(bill_current)),\n            bill_new = round(median(bill_noexemps)),\n            bill_change = round(median(bill_change)),\n            pincount=n(),\n            perceived_savings = round(median(all_exemptions*rate_current))\n            ) |&gt; \n  \n  # merge in clean_names variable\n  left_join(nicknames) |&gt;\n  \n  select(clean_name, has_HO_exemp, bill_cur, bill_new, bill_change, perceived_savings,  AV, `Taxable EAV`, `Taxed EAV`, \n         #everything() \n         ) #|&gt; select(-c(agency_number, agency_name))\n\nmuni_median_summarytable |&gt;\n  DT::datatable(rownames = FALSE, \n                colnames = c(\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'bill_cur',\n                  'Hyp. Bill' = 'bill_new', \n                  'Bill Change' = 'bill_change',  \n                  'Perceived Savings'='perceived_savings'),\n                caption = \"Change in Tax Bill if Exempt EAV from GHE were added back to tax base.\")  |&gt;\n  formatCurrency(columns = c(3:9), digits = 0)\n\n\n\n\n\n\n\n\nCode\nmuni_median_summarytable |&gt;\n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  mutate(across(bill_cur:`Taxed EAV`, scales::dollar )) |&gt;\n rename(Municipality = clean_name,\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'bill_cur',\n                  'Hyp. Bill' = 'bill_new', \n                  'Bill Change' = 'bill_change',  \n                  'Perceived Savings'='perceived_savings' )  |&gt;\n  \n  flextable() \n\n\n\n\nTable 3.6: Table 3. Estimated Bill Change for a municipality’s median valued property if exempt EAV from the GHE were added to back to the tax base.\n\n\n\nMunicipalityClaims GHECurrent BillHyp. BillBill ChangePerceived SavingsAVTaxable EAVTaxed EAVChicago0$4,459$4,320-$139$0$20,999$63,339$63,339Chicago1$3,755$4,320$565$704$20,999$63,342$53,342Dolton0$7,214$6,135-$1,079$0$12,000$36,196$36,196Dolton1$5,221$6,135$914$1,993$12,000$36,196$26,196Glencoe0$24,247$23,770-$478$0$99,000$298,614$298,614Glencoe1$23,435$23,770$334$812$99,000$298,614$288,614\n\n\n\n\n\n\n\nCode\ncholton_15000_summarytable &lt;- pin_data |&gt; \n  \n  select(pin, av, class, tax_code_num, tax_bill_total, av_certified, exe_homeowner:exe_abate, clean_name, eq_av, all_exemptions, zero_bill, has_HO_exemp, taxed_eav, final_tax_to_dist, final_tax_to_tif) |&gt;\n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  filter(between(av, 14800, 15200)) |&gt;\n\n  filter(class &gt; 199 & class &lt; 300) |&gt; \n  \n  # merge in muni residential median AV\n  left_join(C2_munistats_filtered |&gt; select(clean_name, median_av)) |&gt;\n  \n  left_join(muni_ratechange |&gt; select(clean_name, rate_noExe, rate_noGHE, rate_current)) |&gt;\n  # +/- 500 from municipalities median residential AV\n  # Removes properties that received other types of exemptions\n  filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0 ) |&gt;\n  \n  arrange(av) |&gt;\n  \n  mutate(\n         bill_current = rate_current* taxed_eav,\n         bill_noexemps =  rate_noGHE*(eq_av-all_exemptions+exe_homeowner),\n         bill_change = bill_noexemps - bill_current) |&gt;\n  # \n  group_by(clean_name, \n           has_HO_exemp) |&gt; \n  \n  summarize(AV = median(av),\n    `Median AV in Muni` = first(median_av), # median_av was calculated earlier: C2 median AV for the muni \n            `EqAV` = round(median(eq_av)),\n            `Taxed EAV` = round(median(taxed_eav)),\n            bill_cur = round(median(bill_current)),\n            bill_new = round(median(bill_noexemps)),\n            bill_change = round(median(bill_change)),\n            pincount=n(),\n            perceived_savings = round(median(all_exemptions*rate_current))\n            ) |&gt; \n  \n  # merge in clean_names variable\n  left_join(nicknames) |&gt;\n  \n  select(clean_name, AV, has_HO_exemp, bill_cur, bill_new, bill_change, perceived_savings,  `Median AV in Muni`, `EqAV`, `Taxed EAV`\n         #everything() \n         ) |&gt;\n  mutate(across(bill_cur:`Taxed EAV`, scales::dollar )) |&gt;\n rename(Municipality = clean_name,\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'bill_cur',\n                  'Hyp. Bill' = 'bill_new', \n                  'Bill Change' = 'bill_change',  \n                  'Perceived Savings'='perceived_savings' )  |&gt;\n  \n  flextable()\n  # DT::datatable(rownames = FALSE, \n  #               colnames = c(\n  #                 'Claims GHE' = 'has_HO_exemp',\n  #                 'Current Bill' = 'bill_cur',\n  #                 'Hyp. Bill' = 'bill_new', \n  #                 'Bill Change' = 'bill_change',  \n  #                 'Perceived Savings'='perceived_savings'),\n  #               caption = \"Change in Tax Bill for Properties with an Assessed Value of $15,000.\")  |&gt;\n  # formatCurrency(columns = c(2, 4:9), digits = 0)\n\ncholton_15000_summarytable\n\n\nTable that uses pins valued at ~$15,000. Creates unrealistic bill\nchange for some municipalities if they do not have properties valued at\n15K.MunicipalityAVClaims GHECurrent BillHyp. BillBill ChangePerceived SavingsMedian AV in MuniEqAVTaxed EAVChicago14,9990$3,185$3,085-$100$0$20,999$45,241$45,241Chicago14,9991$2,481$3,085$604$704$20,999$45,241$35,241Dolton15,0000$9,017$7,669-$1,348$0$12,000$45,244$45,244Dolton14,9991$7,024$7,668$645$1,993$12,000$45,241$35,241Glencoe14,9760$3,668$3,596-$72$0$99,000$45,172$45,172\n\n\n\n\nTable 4.\nMunicipalities with the largest and smallest reductions in tax base (as a share of residential EAV due to exemptions) and median property values\n\n\n\nCode\nmuni_sums |&gt; \n  filter(year == params$year) |&gt;\n  group_by(clean_name) |&gt; \n  summarize(pct_res_exempt = muni_fmv_exempt / muni_fmv_residential) |&gt;  \n  arrange(desc(pct_res_exempt) ) |&gt;\n    left_join(C2_munistats_filtered) |&gt; \n  mutate(prop_value = median_av*10,\n         pct_res_exempt = scales::percent(pct_res_exempt, accuracy = 0.01) ) |&gt;\n  mutate(across(c(median_eq_av:avg_taxed_eav, prop_value), scales::dollar)) |&gt;\n  select(Municipality = clean_name, `Share Res. Exempt` = pct_res_exempt,\n         `Median Prop. Value` = prop_value, everything())\n\n\n\n  \n\n\n\n\n\nFigure 10. Tax Burden Shift from Current GHE\nShare of municipal property tax levy paid by Class 2 properties with and without homestead exemptions, tax year 2023\n\n\nCode\n# as a dot graph ## \n\norder &lt;- mc_burden |&gt;\n  filter(class_1dig == 2) |&gt;\n    select(clean_name, pct_taxburden_current, burden_shift)\n\nslice &lt;-  mc_burden |&gt;\n  filter(class_1dig == 2) |&gt;\n    select(clean_name, pct_taxburden_current, burden_shift) |&gt;\n  arrange(pct_taxburden_current) |&gt;\n  slice(1:5, 63:67, 127:131)\n\n\n\nmedian_burden &lt;- median(order$pct_taxburden_current)\nmedian_shift &lt;- median(order$burden_shift)\n\n# median burden change is 5.9 percentage points\n# current median burden is 70.3% of the levy\n\nmc_burden |&gt; \n  filter(clean_name %in% slice$clean_name) |&gt;\n#filter(!clean_name %in% cross_county_lines$clean_name)|&gt;\n  filter(class_1dig == 2) |&gt;\n#  filter(burden_current &gt; 0.938 |burden_current &lt; .17 |\n #          ( (burden_current &lt; median(burden_current) + 0.01 )& (burden_current &gt; median(burden_current) - 0.01)) )|&gt; \n  ungroup() |&gt; \n      select(clean_name, pct_taxburden_current, hyp_pct_taxburden, burden_shift) |&gt;\n  arrange(burden_shift) |&gt;\n  pivot_longer(c(\"pct_taxburden_current\", \"hyp_pct_taxburden\"), \n               names_to = \"type\", values_to = \"pct_burden\") |&gt; \n  inner_join(order) |&gt;\n  ggplot(aes(x = pct_burden, \n             y= reorder(clean_name, - pct_taxburden_current)))+\n  # y= reorder(clean_name, burden_current)))+\n  geom_vline(xintercept = median_burden, linetype = 3)+\n  geom_line(aes(group = clean_name))+ \n  geom_hline(yintercept = 5.5, linetype = 2)+\n  geom_hline(yintercept = 10.5, linetype = 2)+\n  geom_point(aes(color=type), size=3 )+\n\n  theme_minimal() + \n  theme( \n    legend.title = element_blank(),\n    plot.title.position = \"plot\",\n plot.background = element_rect(fill='transparent', color=NA) \n  )+\n  scale_color_brewer(palette=\"Paired\", labels = c(\"Current Burden\", \"Burden if \\nNo Exemptions\" ), direction = 1) +\n  scale_x_continuous(labels = scales::percent) +\n\n  \n  labs(title = \"Change in Class 2 Residential Tax Burden\", \n       subtitle = \"Ordered by Current Tax Burden\",\n  x = \"Share of Levy (%)\", y = \"\" , \n  caption = paste0(\"Dotted line represents median Class 2 burden (\", round(median_burden*100), \"% of the levy).  \\nResidential Tax Burden is theshare of the property tax collected that was paid for by property owners with Class 2 properties.\")) +\n  \n    geom_label(label = \"Class 2 pays small share of \\nlevy; very little residential\", x=.32, y = 13, label.size = 1, size = 3)+\n  \n    geom_label(label = paste0(\"Class 2 pays median share of \\nlevy (\", round(median_burden*100), \"%), mix of land use\"), x=.42, y = 7.5, label.size = 1, size = 3) +\n  \n    geom_label(label = \"Class 2 pays nearly all of levy, \\nhighly residential\", x=.70, y = 3, label.size = 1,size = 3)\n\n\n\n\n\nFigure 3.5\n\n\n\n\n\n\n\n\n\n\nFigure 11. Zero Dollar Bills\n\n\nCode\nmuni_mc_sums |&gt; \n  left_join(nicknames) |&gt;\n  filter(major_class_code == 2) |&gt; \n  group_by(year, Triad) |&gt;\n  summarize(zerodollar_count = sum(zero_bill)) |&gt; \n  ggplot(aes(x=year, y = zerodollar_count, fill = Triad)) + \n  geom_bar(position = \"stack\", stat = \"identity\") + theme_minimal()+\n  theme(legend.position = \"top\")+\n  labs(title = element_text(\"Number of $0 Taxbills\")) +\n  scale_y_continuous(labels = scales::comma, limits = c(0, 35000), name = \"\")\n\n\n\n\n\nFigure 3.6: Number of tax bills that were $0 shown here is different than the value shown in the exemption report. This is due to missing disabeled veteran exemption amounts that were not identified when writing the original report.",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Tax Year 2023</span>"
    ]
  },
  {
    "objectID": "exemp_report_2023.html#table-6---cost-of-covering-cook-countys-current-homestead-exemptions",
    "href": "exemp_report_2023.html#table-6---cost-of-covering-cook-countys-current-homestead-exemptions",
    "title": "Tax Year 2023",
    "section": "Table 6 - Cost of Covering Cook County’s current Homestead Exemptions",
    "text": "Table 6 - Cost of Covering Cook County’s current Homestead Exemptions\n\n\n\nCode\nclass8munis &lt;- read_csv(\"../Output/datarequests_Class8Munis.csv\")\n\n\ncross_county_lines &lt;- c(\"030440000\", \"030585000\", \"030890000\", \"030320000\", \"031280000\",\n                        \"030080000\", \"030560000\", \"031120000\", \"030280000\", \"030340000\",\n                        \"030150000\",\"030050000\", \"030180000\",\"030500000\", \"031210000\")\n\n\ntbl_southtriad_exemps &lt;- muni_cl_sums |&gt;\n  filter(Triad == \"South\") |&gt;\n  filter(!clean_name %in% cross_county_lines) |&gt;\n  filter(year == params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\n    'PINs' = sum(muni_c_pins_in_muni),\n    'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n    \"EqAV\" = sum(muni_c_equalized_av),\n    'Taxed EAV' = sum(muni_c_current_taxable_eav),\n    'Exempt EAV' = sum(muni_c_all_exemptions),\n    'GHE' = sum(muni_c_exe_homeowner),\n    'Senior' = sum(muni_c_exe_senior),\n    'Senior Freeze' = sum(muni_c_exe_freeze),\n    'Other Exemps.' = sum(muni_c_all_exemptions - muni_c_exe_homeowner - muni_c_exe_senior - muni_c_exe_freeze )\n  ) |&gt;\n  pivot_longer(cols = c('PINs':'Other Exemps.'),\n               names_to = \"Metric\", values_to = \"Total\") |&gt;\n  select(-year)\ntbl_southtriad_exemps\n\n\n\n  \n\n\n\nCode\ntbl_class8muni_exemps &lt;- muni_cl_sums |&gt;\n  filter(clean_name %in% class8munis$clean_name) |&gt;\n  filter(!clean_name %in% cross_county_lines) |&gt;\n  filter(year == params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\n    'PINs' = sum(muni_c_pins_in_muni),\n    'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n    \"EqAV\" = sum(muni_c_equalized_av),\n    'Taxed EAV' = sum(muni_c_current_taxable_eav),\n    'Exempt EAV' = sum(muni_c_all_exemptions),\n    'GHE' = sum(muni_c_exe_homeowner),\n    'Senior' = sum(muni_c_exe_senior),\n    'Senior Freeze' = sum(muni_c_exe_freeze),\n    'Other Exemps.' = sum(muni_c_all_exemptions -muni_c_exe_homeowner- muni_c_exe_senior - muni_c_exe_freeze )\n  ) |&gt;\n  pivot_longer(cols = c('PINs':'Other Exemps.'),\n               names_to = \"Metric\", values_to = \"Total\") |&gt;\n  select(-year)\ntbl_class8muni_exemps\n\n\n\n  \n\n\n\nCode\ntbl &lt;- muni_cl_sums |&gt;\n  filter(!clean_name %in% cross_county_lines) |&gt;\n  filter(year == params$year) |&gt;\n  group_by(year) |&gt;\n  summarize(\n    'PINs' = sum(muni_c_pins_in_muni),\n    'PINs (w/ exemps.)' = sum(muni_c_has_HO_exemp),\n    \"EqAV\" = sum(muni_c_equalized_av),\n    'Taxed EAV' = sum(muni_c_current_taxable_eav),\n    'Exempt EAV' = sum(muni_c_all_exemptions),\n    'GHE' = sum(muni_c_exe_homeowner),\n    'Senior' = sum(muni_c_exe_senior),\n    'Senior Freeze' = sum(muni_c_exe_freeze),\n    'Other Exemps.' = sum(muni_c_all_exemptions - muni_c_exe_homeowner- muni_c_exe_senior - muni_c_exe_freeze )\n  ) |&gt;\n  pivot_longer(cols = c('PINs':'Other Exemps.'),\n               names_to = \"Metric\", values_to = \"Total\") |&gt;\n  select(-year) \ntbl\n\n\n\n  \n\n\n\n\n\nCode\ntaxcodes_current &lt;- pin_data %&gt;% \n  group_by(tax_code_num)  %&gt;%\n  summarize(\n    av = sum(av),\n    taxed_eav = sum(taxed_eav),\n    equalized_AV = sum(eq_av),\n    pins_in_class = n(),\n    current_exemptions = sum(all_exemptions),\n    HO_exemps = sum(exe_homeowner),\n    tax_code_rate = first(tax_code_rate), \n    final_tax_to_dist = sum(final_tax_to_dist, na.rm = TRUE), # used as LEVY amount!!\n    final_tax_to_dist_AWM = sum(final_tax_to_dist_AWM, na.rm=TRUE),\n    final_tax_to_tif = sum(final_tax_to_tif, na.rm = TRUE),\n    tax_amt_exe = sum(tax_amt_exe, na.rm = TRUE), \n    tax_amt_pre_exe = sum(tax_amt_pre_exe, na.rm = TRUE), \n    tax_amt_post_exe = sum(tax_amt_post_exe, na.rm = TRUE),\n   # tif_share = mean(tif_share, na.rm=TRUE), # not used\n  ) %&gt;%\n  \n  mutate(total_bill_current = final_tax_to_dist + final_tax_to_tif) %&gt;%\n  rename(cur_comp_TC_rate = tax_code_rate) %&gt;%\n  mutate(current_taxable_eav = final_tax_to_dist/(cur_comp_TC_rate),\n         new_taxable_eav = final_tax_to_dist/(cur_comp_TC_rate) + HO_exemps,\n         new_taxable_eav2 = final_tax_to_dist/(cur_comp_TC_rate) + current_exemptions,\n\n         ) %&gt;%\n  mutate(\n    new_comp_TC_rate = (final_tax_to_dist / new_taxable_eav),\n        new_comp_TC_rate2 = (final_tax_to_dist / new_taxable_eav2),\n\n         ) %&gt;%\n  mutate(\n    new_comp_TC_rate = ifelse(is.nan(new_comp_TC_rate), cur_comp_TC_rate, new_comp_TC_rate),\n        new_comp_TC_rate2 = ifelse(is.nan(new_comp_TC_rate2), cur_comp_TC_rate, new_comp_TC_rate2),\n\n         ) %&gt;%\n  select(tax_code_num, cur_comp_TC_rate, new_comp_TC_rate, current_taxable_eav, new_taxable_eav, new_taxable_eav2, new_comp_TC_rate2, everything())\n\nbetter_cost_est_ghe = taxcodes_current |&gt; \n  summarize(better_cost_est = sum(new_comp_TC_rate*(HO_exemps)))\n                                            \nbetter_cost_est_allexe = taxcodes_current |&gt; \n  summarize(better_cost_est = sum(new_comp_TC_rate2*(current_exemptions)))\n\n\nIt would take $833,230,725 to cover the cost of the GHE without the tax rate increasing from the hypothetical rate to the current rate.\nIt would take $1,254,058,131 to cover the cost of all exemption without the tax rate increasing from the hypothetical rate to the current rate.\n\nNot finished for class 8 munis or south triad totals. But done the same way as GHE and all exemption scenarios.\n\n\nAdditional notes\nMultiple ways to measure “burden”:\n\nShare of tax base = (taxed EAV / taxed EAV in Muni)\n\nTax Burden = tax paid / levy\n\nEffective rate = tax paid / property value",
    "crumbs": [
      "Exemption Whitepaper",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Tax Year 2023</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2021.html",
    "href": "exemption_addendum_2021.html",
    "title": "Tax Year 2021",
    "section": "",
    "text": "Which taxpayers benefit the most and least from homestead exemptions?",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tax Year 2021</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2021.html#which-taxpayers-benefit-the-most-and-least-from-homestead-exemptions",
    "href": "exemption_addendum_2021.html#which-taxpayers-benefit-the-most-and-least-from-homestead-exemptions",
    "title": "Tax Year 2021",
    "section": "",
    "text": "Table 1. Comparison of Tax Bills for Median Assessed Value (AV) Class 2 Properties in Selected Municpalities under the Status Quo and Alternative Scenario\n\n\n\nCode\ntax_bill_change_HO &lt;- c2pins %&gt;% \n  left_join(muni_rates) |&gt;\n  filter(av &gt; 0) %&gt;% \n  arrange(av) %&gt;%\n  mutate(#eq_av = av_clerk*eq_factor,\n         bill_current = (taxed_eav*tax_code_rate),\n         bill_noexemps =  rate_noGHE*(taxed_eav+exe_homeowner),\n         bill_change = bill_noexemps - bill_current) %&gt;%\n  group_by(clean_name, has_HO_exemp) %&gt;% \n  summarize(median_AV = median(av),\n            median_EAV = median(taxed_eav),\n            median_bill_cur = round(median(bill_current)),\n            median_bill_new = round(median(bill_noexemps)),\n            median_change = round(median(bill_change)),\n            pincount=n(),\n            perceived_savings = median(exe_homeowner*tax_code_rate)\n  )\n\ntax_bill_change_HO |&gt; \n  filter(clean_name %in% c(\"Park Forest\", \"Phoenix\", \"Winnetka\", \"Riverdale\")) |&gt;\n  mutate(across(c(median_AV:median_change, perceived_savings), scales::dollar) ) |&gt;\n  rename( 'Municipality' = 'clean_name',\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'median_bill_cur',\n                  'Hyp. Bill' = 'median_bill_new', \n                  'Bill Change' = 'median_change',  \n                  'Perceived Savings'='perceived_savings') |&gt;\n  flextable::flextable()\n\n\n\n\nTable 4.1: Change in Tax Bill for Properties with an Assessed Value of $15,000. AV stands for “assessed value” “Tax calculator reduction” refers to the exemption values shown on the tax bill received by taxpayers. Values are estimated using an average of the properties with an AV within $1,000 of it’s municipality’s median AV to enlarge the number of observations. Thus, our calculations do not precisely represent the median.\n\n\n\nMunicipalityClaims GHEmedian_AVmedian_EAVCurrent BillHyp. BillBill ChangepincountPerceived SavingsPark Forest0$5,703.50$17,125.90$7,511$5,316-$1,5341,840$0.00Park Forest1$6,968.00$7,611.83$3,311$5,462$2,3153,436$4,394.30Phoenix0$2,000.50$6,006.90$1,799$1,267-$532522$0.00Phoenix1$3,668.00$884.71$265$2,110$1,700474$2,995.40Riverdale0$5,534$16,616.94$5,201$4,141-$1,0571,544$0.00Riverdale1$6,056$6,634.96$2,082$4,130$1,9792,391$3,137.50Winnetka0$71,071.00$213,405$18,652$18,033-$4221,316$0.00Winnetka1$85,822.50$245,686$21,252$21,601$3573,162$864.30\n\n\n\n\n\n\n\nFigure 2. Value of Median Residential Property Indifferent to Elimination of GHE\n\n\nCode\nmuni_breakeven_points &lt;- c2pins |&gt;\n  left_join(muni_rates) |&gt;\n  filter(exe_homeowner == 10000) %&gt;% \n  filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0  &\n           exe_missing_disvet == 0) %&gt;%\n  \n  group_by(clean_name) %&gt;%\n  summarize(\n    median_AV = median(av),     # median class 2 AV for properties that did claim the GHE but not other exemptions\n    bill_current = mean(eav_postexemptions * tax_code_rate), # money collected by non-TIF agencies\n    \n    bill_noGHE = mean(rate_noGHE * (eav_postexemptions+exe_homeowner)), # this uses tax code tax rate\n   # rate_change = mean(tax_code_rate - tc_hyp_taxrate),   # avg tax code level rate change \n    muni_avg_rate_change = mean(tax_code_rate - rate_noGHE),\n    # nobillchange_propertyEAV = round(mean(exe_homeowner * \n    #                                         (tax_code_rate / (tax_code_rate-tc_hyp_taxrate)))), #   \n     nobillchange_propertyEAV_muni = round(mean(exe_homeowner *\n                                                 (rate_current/(rate_current-rate_noGHE) )))\n  ) |&gt; \n  mutate(nochange_av = nobillchange_propertyEAV_muni / eq_factor,\n         nochange_av_muni = nobillchange_propertyEAV_muni/ eq_factor,\n         ) \n\n\n\n\nmuni_breakeven_points %&gt;%       \n  filter(clean_name %in% c(\"Chicago\",\"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) |&gt;\n  ggplot(aes(y=median_AV, x = clean_name)) +\n  geom_col()+\n    geom_text(aes(y=median_AV + 3000, label = round(median_AV) ) ) +\n  scale_y_continuous(labels = scales::dollar) +\n  theme_classic() +\n  scale_x_discrete(label = c(\"Chicago\",\"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) + \n  labs(y = \"Median Residential AV\", x = \"\", \n       title = \"Median Residential Property Assessed Value - All Class 2 property Types\")\n\n\n\n\nBreak even points vary across municipalities, sometimes by orders of magnitude\n\n\n\n\n\nCode\nmuni_breakeven_points %&gt;%       \n  filter(clean_name %in% c(\"Chicago\",\"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) |&gt;\n  ggplot(aes(y=nochange_av, x = clean_name)) +\n  geom_col() +\n  geom_text(aes(y=nochange_av + 3000, label = round(nochange_av)) ) +\n  scale_y_continuous(labels = scales::dollar) +\n  theme_classic() +\n  scale_x_discrete(label = c(\"Chicago\", \"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) + \n  labs(y = \"Breakeven Point - AV\", x = \"\", \n  title = \"Residential Property AV Breakeven Point\", \n  caption = \"Residential properties above these values would have their bills decrease if the GHE were eliminated\n       (if they had claimed the GHE before)\")\n\n\n\n\nBreak even points vary across municipalities, sometimes by orders of magnitude\n\n\n\n\n\nOf homeowners who take the GHE, those that gain the largest monetary benefit from the exemption in proportion to their home values are those who own below-average valued properties that are in a municipality with relatively high tax rates. Property owners who benefit the least from taking the exemption (again, relative to the value of their homes) are those with above-average valued homes in jurisdictions with low tax rates. Note that these are not the same homeowners who benefit the most in absolute dollar terms—that outcome depends on both the absolute and relative value of the property and the composition of properties within the jurisdiction.\n\n\nCode\nmuni_breakeven_points %&gt;%\n # filter(nochange_av &lt; 300000) %&gt;%\n  ggplot(aes(y=nochange_av, \n             x = median_AV, \n             label=clean_name\n             )) +\n  geom_abline(intercept = 0, slope = 1, lty = 2, alpha = .4) +\n  geom_point(aes(alpha = .5)) +\n # geom_smooth(method = \"lm\" )+\n  geom_text(aes(y = (nochange_av-5000), x = (median_AV)), size = 2)+\n  theme_classic() +\n  scale_x_continuous(labels = scales::dollar) +\n  scale_y_continuous(labels = scales::dollar) +\n  theme(legend.position = \"none\")+\n  labs(y = \" Breakeven Point\", \n       x = \"Median AV - Class 2 Properties in Municipality\", \n      # title = \"Some highly valued homes would have lower tax bills if the GHE were eliminated\", \n       #caption = \"The breakeven point is the assessed values at which a major class 2 \n     #  property would not have their taxbill change if the GHE were eliminated.\"\n     )\n\n\n\n\n\n\nFigure 4.1: Includes all municipalities\n\n\n\n\n\n\n\n\n\nCode\nmuni_breakeven_points %&gt;%\n  filter(nochange_av &lt; 300000) %&gt;%\n  ggplot(aes(y=nochange_av, \n             x = median_AV, \n             label=clean_name\n             )) +\n  geom_abline(intercept = 0, slope = 1, lty = 2, alpha = .4) +\n\n  geom_point(aes(alpha = .5)) +\n  \n  geom_point(data = (muni_breakeven_points %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Riverdale\",\"Dolton\"))), aes(y = nochange_av, x = median_AV, color = \"red\"), size = 3) +\n  ggrepel::geom_label_repel(data = (muni_breakeven_points %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Riverdale\", \"Dolton\"))), aes(y = (nochange_av), x = (median_AV)), size = 3)+\n  theme_classic() +\n  theme(panel.background = element_blank()) + \n  scale_x_continuous(labels = scales::dollar, expand = c(0,0), limits = c(0,170000) ) +\n  scale_y_continuous(labels = scales::dollar, expand = c(0,0), limits = c(0,170000) ) +\n    theme(legend.position = \"none\") +\n\n  labs(title = \"Municipalities' Median AV & Breakeven Point \\nClass 2 Properties Only\",\n    y = \"Breakeven Point\", \n       x = \"Median AV\", \n # caption = \"The breakeven point is the assessed values at which a major class 2 property would not have their taxbill change if the \n # GHE were eliminated. Excludes outliers: University Park, Bedford Park, McCook, Hodgkins, and Rosemont. Class 2 properties that had\n # claimed the GHE would have lower taxbills even if the GHE were removed if the AV is above the breakeven point.\"\n ) + coord_fixed()\n\n#ggsave(\"breakevenpoint.svg\", bg = \"transparent\")\n\n\n\n\n\nFigure 4.2: Breakeven Point …",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tax Year 2021</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2021.html#how-progressive-are-exemptions",
    "href": "exemption_addendum_2021.html#how-progressive-are-exemptions",
    "title": "Tax Year 2021",
    "section": "How progressive are exemptions?",
    "text": "How progressive are exemptions?\n\nFigure 3. Ratio of Tax Bills to AV for 25th and 75th Percentile AV Class 2 Properties with $10,000 GHE\nFor the different exemption scenarios, we created new exemption variables for alternate exemption amounts that can be subtracted from a properties equalized AV.\n\nex. For exe_neg10 all exemption amounts are equal to zero.\nFor exe_0, This variable should be the same as the current tax system since we did not add or remove any exempt EAV to the PIN. If the EAV for a PIN is less than 10000 EAV and they did claim the general homestead exemption, then their exempt EAV is equal to their EAV.\nIf the exempt EAV allowable for the GHE was increased to 20,000 EAV, then the variable exe_plus10 is used.\n\n\n\nCode\npin_data &lt;- pin_data %&gt;% \n  left_join(class_dict, by = c(\"class\" = \"class_code\")) %&gt;%\n  mutate(\n \n    tif_increment_eav = final_tax_to_tif / tax_code_rate,\n    \n    nontif_eav_preexe = av_clerk*eq_factor - tif_increment_eav,\n    nontif_eav_postexe = av_clerk*eq_factor - tif_increment_eav - all_exemptions,\n    \n    eav_postexemptions = av_clerk*eq_factor - all_exemptions,\n    eav_preexemptions = av_clerk*eq_factor) |&gt;\n  ## Create variables for alternate exemption amounts that can be subtracted from a properties equalized AV\n  mutate(\n    eav = eav_preexemptions,\n    exe_neg10 = 0,\n         \n      # exe_0 implies no additional or removed EAV. Current tax system. \n         exe_0 = ifelse(eav &lt; 10000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;10000 & exe_homeowner!=0, 10000, 0 )),  # no change in current exemptions\n         exe_plus10 = ifelse(eav &lt; 20000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;20000 & exe_homeowner!=0, 20000, 0 )),\n         exe_plus20 = ifelse(eav &lt; 30000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;30000 & exe_homeowner!=0, 30000, 0 ) ),\n         exe_plus30 = ifelse(eav &lt; 40000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;40000 & exe_homeowner!=0, 40000, 0) ),\n         exe_plus40 = ifelse(eav &lt; 50000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;50000 & exe_homeowner!=0, 50000, 0) ),\n         mil_home = ifelse(major_class_code == 2 & av*10 &gt; 1000000, 1, 0))\n\n\n# all pins in munis fully within cook county that are some form of single-family, detached home\nsingfam_pins &lt;- pin_data %&gt;% \n  filter(Option2 == \"Single-Family\")\n\n\n\n\nCode\n# Calculates tax rates for all exemption scenarios.\nscenario_calcs &lt;- pin_data %&gt;%    \n  group_by(clean_name) %&gt;%\n\n    summarize(MuniLevy = round(sum(final_tax_to_dist, na.rm = TRUE)), # amount billed by munis with current exemptions in place\n            current_nonTIF_EAV_post_exemps = sum(final_tax_to_dist/(tax_code_rate), na.rm = TRUE),\n            current_TIF_increment_EAV = sum(final_tax_to_tif/(tax_code_rate), na.rm=TRUE),  \n            current_Exempt_EAV = sum(all_exemptions, na.rm=T), \n            current_GHE = sum(exe_homeowner, na.rm=TRUE),\n            Total_EAV = sum(all_exemptions+(final_tax_to_dist+final_tax_to_tif)/(tax_code_rate), na.rm = TRUE),\n            exe_neg10 = sum(exe_neg10),\n            exe_0 = sum(exe_0), # no change, for comparison\n            exe_plus10 = sum(exe_plus10),\n            exe_plus20 = sum(exe_plus20),\n            exe_plus30 = sum(exe_plus30),\n            exe_plus40 = sum(exe_plus40),\n            mil_home = sum(mil_home)\n            ) %&gt;%\n\n  # remove all GHE (up to 10,000 EAV added back to base per PIN), \n  # add exe_homeowner back to taxable base\n  mutate(neg10_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE,    # adds GHE exempt EAV back to taxable base and decreases tax rates\n         plus10_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus10, # will increase tax rates\n         plus20_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus20,\n         plus30_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus30,\n         plus40_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus40,\n         scenario_noexemptions_taxable_eav = Total_EAV - current_TIF_increment_EAV) %&gt;%\n  \n  mutate(tr_neg10 = MuniLevy / neg10_taxable_eav,\n         tr_nochange = MuniLevy / current_nonTIF_EAV_post_exemps,\n         tr_plus10 = MuniLevy / plus10_taxable_eav,\n         tr_plus20 = MuniLevy / plus20_taxable_eav,\n         tr_plus30 = MuniLevy / plus30_taxable_eav,\n         tr_plus40 = MuniLevy / plus40_taxable_eav, \n         tax_rate_current = MuniLevy/current_nonTIF_EAV_post_exemps,\n         taxrate_noexemps = MuniLevy /(Total_EAV - current_TIF_increment_EAV  ),\n         taxrate_noTIFs = MuniLevy / (Total_EAV - current_Exempt_EAV),\n         taxrate_noTIFs_orExemps = MuniLevy / Total_EAV) %&gt;%\n  select(clean_name, MuniLevy, tr_neg10:taxrate_noTIFs_orExemps, everything())\n\nscenario_taxrates &lt;- scenario_calcs %&gt;%  \n  select(clean_name, MuniLevy, tr_neg10:taxrate_noTIFs_orExemps) \n\nscenario_taxrates |&gt; \n  select(-c(tax_rate_current:taxrate_noTIFs_orExemps)) |&gt;\n  #mutate(across(.cols=(tr_neg10:tr_plus40), s, accuracy = 0.01)) |&gt;\n  rename(Municipality = clean_name,\n        `Composite Levy` = MuniLevy,\n    `Rate if \\nGHE=0K` = tr_neg10, \n         `Current\\nTax Rate`= tr_nochange, \n         `Rate if\\nGHE=20K`= tr_plus10, \n         `Rate if\\nGHE=30K` = tr_plus20, \n         `Rate if\\nGHE=40K` = tr_plus30, \n         `Rate if\\nGHE=50K` = tr_plus40) |&gt; \n  DT::datatable(rownames = FALSE)  |&gt;\n  formatCurrency(columns = c(2), digits = 0) |&gt;\n  formatPercentage(3:8, digits = 1)\n\n\n\n\n\n\n\n\nCode\nmunis_billchange &lt;- munis_ranked %&gt;% \n    left_join(scenario_taxrates) %&gt;%\n\n  mutate(\n    eav = eq_av,\n    exe_neg10 = 0,\n         \n      # exe_0 implies no additional or removed EAV. Current tax system. \n         exe_0 = ifelse(eav &lt; 10000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;10000 & exe_homeowner!=0, 10000, 0 )),  # no change in current exemptions\n         exe_plus10 = ifelse(eav &lt; 20000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;20000 & exe_homeowner!=0, 20000, 0 )),\n         exe_plus20 = ifelse(eav &lt; 30000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;30000 & exe_homeowner!=0, 30000, 0 ) ),\n         exe_plus30 = ifelse(eav &lt; 40000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;40000 & exe_homeowner!=0, 40000, 0) ),\n         exe_plus40 = ifelse(eav &lt; 50000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;50000 & exe_homeowner!=0, 50000, 0) ),\n         mil_home = ifelse(av*10 &gt; 1000000, 1, 0)) |&gt;\n    mutate(,\n    # current bill = current tax rate * portion of levy billed\n         equalized_AV = av_clerk*eq_factor,\n         \n   # ## Made negative tax bills!! ## #\n          bill_neg10 = tr_neg10*(equalized_AV-all_exemptions+ exe_homeowner -exe_neg10),\n\n         bill_current = tax_code_rate*(equalized_AV-all_exemptions),\n         bill_plus10 =  tr_plus10*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus10),\n         bill_plus20 = tr_plus20*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus20),\n         bill_plus30 = tr_plus20*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus30),\n         bill_plus40 = tr_plus20*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus40),\n    \n    # ## make bills $1 if they had been negative.\n         bill_neg10 = ifelse(bill_neg10 &lt; 1, 1, bill_neg10),\n         bill_current = ifelse(bill_current &lt; 1, 1, bill_current),\n         bill_plus10 = ifelse(bill_plus10 &lt; 1, 1, bill_plus10),\n         bill_plus20 = ifelse(bill_plus20 &lt; 1, 1, bill_plus20),\n         bill_plus30 = ifelse(bill_plus30 &lt; 1, 1, bill_plus30),\n         bill_plus40 = ifelse(bill_plus40 &lt; 1, 1, bill_plus40),\n\n         )%&gt;%\n  mutate(\n         zerodol_bills_ghe0 = ifelse(bill_neg10 &lt; 5, 1, 0),\n         zerodol_bills_current = ifelse(bill_current &lt; 5, 1, 0),\n         zerodol_bills_ghe20 = ifelse(bill_plus10 &lt; 5, 1, 0),\n         zerodol_bills_ghe30 = ifelse(bill_plus20 &lt; 5, 1, 0),\n         zerodol_bills_ghe40 = ifelse(bill_plus30 &lt; 5, 1, 0),\n         zerodol_bills_ghe50 = ifelse(bill_plus40 &lt; 5, 1, 0),\n  ) %&gt;%\n  ungroup() |&gt;\n  group_by(clean_name, rank, has_HO_exemp) %&gt;% \n  summarize(median_AV = round(median(av)),\n            median_EAV = round(median(eav)),\n            mean_bill_neg10 = round(mean(bill_neg10, na.rm=TRUE)),\n            mean_bill_cur = round(mean(bill_current, na.rm=TRUE)),\n            mean_bill_plus10 = round(mean(bill_plus10, na.rm=TRUE)),\n            mean_bill_plus20 = round(mean(bill_plus20, na.rm=TRUE)),\n            mean_bill_plus30 = round(mean(bill_plus30, na.rm=TRUE)),\n            mean_bill_plus40 = round(mean(bill_plus40, na.rm=TRUE)),\n            \n            tr_neg10 = round(mean(tr_neg10*100), digits = 2), \n            cur_comp_TC_rate = round(mean(tax_code_rate*100), digits = 2),\n            tr_plus10 = round(mean(tr_plus10*100), digits = 2),\n            tr_plus20 = round(mean(tr_plus20*100), digits = 2),\n            tr_plus30 = round(mean(tr_plus30*100), digits = 2),\n            tr_plus40 = round(mean(tr_plus40*100), digits = 2),\n            pincount=n(),\n            zerodol_bills_ghe0 = sum(zerodol_bills_ghe0),           \n            zerodol_bills_current = sum(zerodol_bills_current),\n            zerodol_bills_ghe20 = sum(zerodol_bills_ghe20),\n            zerodol_bills_ghe30 = sum(zerodol_bills_ghe30),\n            zerodol_bills_ghe40 = sum(zerodol_bills_ghe40),\n            zerodol_bills_ghe50 = sum(zerodol_bills_ghe50),\n\n\n  ) %&gt;%\n  mutate(clean_name = ifelse(clean_name == \"Hazelcrest\", \"Hazel Crest\", clean_name)) %&gt;%\n  arrange(has_HO_exemp, rank)\n\n\n\n\n\nratios &lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(currbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_cur/median_AV, NA)) %&gt;%\n  mutate(currbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_cur/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(currbill_to_AV_25 = max(currbill_to_AV_25, na.rm=TRUE),\n            currbill_to_AV_75 = max(currbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = currbill_to_AV_25/currbill_to_AV_75) %&gt;% filter(muni_ratio_25to75 &gt; 0.01)\n\n\n\nggplot(data = ratios, aes(y = currbill_to_AV_25, x = currbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1, lty = 2, alpha = .4) +\n  geom_point(data = ratios, aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75), size = 2, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75, color = \"red\"), size = 2)+\n\n  theme_classic() +\n  theme(legend.background = element_rect(fill = \"transparent\"), \n        legend.box.background = element_rect(fill = \"transparent\"), \n        panel.background = element_rect(fill = \"transparent\"), \n        panel.grid.major = element_blank(), \n        panel.grid.minor = element_blank(), \n        plot.background = element_rect(fill = \"transparent\", \n                                       color = NA) ) +\n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n   scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") +\n  labs(title=\"\", y=\"Tax Burden as a Share of AV \\n(25th Percentile)\", x=\"Tax Burden as a Share of AV \\n(75th Percentile)\", subtitle = \"Current Tax System, GHE = 10,000 EAV\") + coord_fixed()\n\n\n\n\n\n\n\n\n\n\nCode\npin_data %&gt;%\n  filter(av &lt; 300000) %&gt;% # just to see the histogram better\n  ggplot( aes(x=av)) +\n  geom_histogram(bins = 50)  +\n  theme_classic()+\n  labs(title = \"Cook County Class 2 Residential PIN Distribution of AV\", \n       x = \"Assessed Value ($)\", y=\"# of Pins\", \n       caption = \"Dropped PINs with AVs over $300,000 for better visual of histogram bins.\") +\n  scale_x_continuous(label = scales::dollar) +\n  scale_y_continuous(label = scales::comma)\n\n\nsingfam_pins %&gt;%\n filter(av &lt; 300000) %&gt;% # just to see the histogram better\n  \n  ggplot( aes(x=av)) +\n  geom_histogram(bins = 50)  +\n  theme_classic()+\n  labs(title = \"Cook County Single-Family PIN Distribution of AV\", \n       x = \"Assessed Value ($)\", y=\"# of Pins\", \n       caption = \"Dropped PINs with AVs over $300,000 for better visual of histogram bins.\"\n       ) +\n  scale_x_continuous(label = scales::dollar)+\n  scale_y_continuous(label = scales::comma)\n\n\n\n\n\n\nMajor Class 2 Properties\n\n\n\n\n\n\n\nSingle-family subgroup of C2 Properties\n\n\n\n\n\n\n\nDistribution of Assessed Values: Class 2 Properties vs Single-Family Properties There is a difference in the assessed values depending on if you use all 200 level properties or only a subset of them. All figures and tables were created for both options when writing the report as a robustness check.",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tax Year 2021</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2021.html#what-would-happen-if-the-ghe-value-were-increased",
    "href": "exemption_addendum_2021.html#what-would-happen-if-the-ghe-value-were-increased",
    "title": "Tax Year 2021",
    "section": "What would happen if the GHE value were increased?",
    "text": "What would happen if the GHE value were increased?\n\nFigure 4. Effect of Changing the GHE on Progressivity\n\nCode\nratios &lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(currbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_neg10/median_AV, NA)) %&gt;%\n  mutate(currbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_neg10/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(GHE_0_bill_to_AV_25 = max(currbill_to_AV_25, na.rm=TRUE),\n            GHE_0_bill_to_AV_75 = max(currbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = GHE_0_bill_to_AV_25/GHE_0_bill_to_AV_75) \n\n\nggplot(data = ratios, aes(y = GHE_0_bill_to_AV_25, x = GHE_0_bill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = GHE_0_bill_to_AV_25, x = GHE_0_bill_to_AV_75, label = clean_name), size = 3)+\n    geom_point(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = GHE_0_bill_to_AV_25, x = GHE_0_bill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") +\n  labs(title = \"GHE = $0 EAV\", x = \"\", y = \"\")\nratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(currbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_cur/median_AV, NA)) %&gt;%\n  mutate(currbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_cur/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(currbill_to_AV_25 = max(currbill_to_AV_25, na.rm=TRUE),\n            currbill_to_AV_75 = max(currbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = currbill_to_AV_25/currbill_to_AV_75) %&gt;% filter(muni_ratio_25to75 &gt; 0.01)\n\n\n\nggplot(data = ratios, aes(y = currbill_to_AV_25, x = currbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(data = ratios, aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75, color = \"red\"), size = 2)+\n\n  theme_classic() +\n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n   scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") +\n  labs(title = \"GHE = $10,000 EAV (Current)\", x=\"\", y=\"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus10/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus10/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% \n  filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(data = new_ratios, aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n  scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + \n  labs(title = \"GHE = $20,000 EAV\", x= \"\", y=\"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus20/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus20/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% \n  \n  filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + \n  labs(title = \"GHE = $30,000 EAV\",\n                                        x = \"\", y = \"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus30/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus30/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% \n  filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + \n  labs(title = \"GHE = $40,000 EAV\", \n                                     x= \"\", y = \"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus40/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus40/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + labs(title = \"GHE = $50,000\", \n                                      x = \"\", y = \"\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 3. Revenue Neutral Tax Rates\nRevenue Neutral Tax Rates (Percent) for Select Municipalities as a Function of GHE Value\n\n\nCode\nscenario_taxrates %&gt;% \n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  mutate(across(starts_with(\"tr_\"), scales::percent, accuracy = 0.01))|&gt;\n  select(Municipality = clean_name,\n         \"0 GHE\" = tr_neg10,\n         \"10,000 GHE (Current)\" = tr_nochange,\n         \"20,000 GHE\" = tr_plus10,\n         \"30,000 GHE\" = tr_plus20,\n         \"40,000 GHE\" = tr_plus30,\n         \"50,000 GHE\" = tr_plus40) |&gt;\n  flextable::flextable()\n\n\nMunicipality0 GHE10,000 GHE (Current)20,000 GHE30,000 GHE40,000 GHE50,000 GHEChicago6.51%6.74%6.97%7.21%7.45%7.68%Dolton20.07%24.81%31.99%40.35%45.06%45.56%Glencoe9.28%9.53%9.80%10.09%10.39%10.70%\n\n\n\n\nFigure 5. GHE Value and Revenue Neutral Tax Rates\nRelationship of GHE Value and Revenue Neutral Tax Rates in Chicago, Dolton, and Glencoe\n\n\nCode\nscenario_taxrates %&gt;% \n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  select(Municipality = clean_name,\n         \"0 GHE\" = tr_neg10,\n         \"10,000 GHE\\n(Current)\" = tr_nochange,\n         \"20,000 GHE\" = tr_plus10,\n         \"30,000 GHE\" = tr_plus20,\n         \"40,000 GHE\" = tr_plus30,\n         \"50,000 GHE\" = tr_plus40) %&gt;%\n  pivot_longer(cols = c(`0 GHE`:`50,000 GHE`), names_to = \"Scenarios\") %&gt;%\n\n  ggplot() +\n  geom_line(aes(x=Scenarios, y = value, group = Municipality, color = Municipality)) + theme_classic() + \n  labs(title = \"Tax Rates for GHE Scenarios\", x = \"GHE Amount\", y = \"Tax Rate\") +\n  scale_y_continuous(label = scales::percent)",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tax Year 2021</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2021.html#paying-for-the-inequitable-effects-of-exemptions",
    "href": "exemption_addendum_2021.html#paying-for-the-inequitable-effects-of-exemptions",
    "title": "Tax Year 2021",
    "section": "Paying for the inequitable effects of exemptions",
    "text": "Paying for the inequitable effects of exemptions\n\nFigure 6. Exemptions by Value in Class 8 Municipalities\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    Homeowner = sum(exe_homeowner),\n    Senior = sum(exe_senior),\n    `Senior Freeze` = sum(exe_freeze),\n   # exe_longtime_homeowner = sum(exe_longtime_homeowner),\n    Other = sum(exe_disabled),\n    \n  ) %&gt;%\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(Homeowner:Other), names_to = \"Exemption Type\") %&gt;%\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = `Exemption Type`), position = \"dodge\") +\n  scale_y_continuous(label = scales::dollar) + \n  theme_classic() + \n  labs(x = element_blank(), y = \"Exempt EAV\")\n\n\n\n\n\nFigure 4.3: Exempt EAV by Type in Select Municipalities. Shows values as calculated in original report that undercounted disabled veteran exemptions.\n\n\n\n\n\n\n\n\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    Homeowner = sum(exe_homeowner),\n    Senior = sum(exe_senior),\n    `Senior Freeze` = sum(exe_freeze),\n   # exe_longtime_homeowner = sum(exe_longtime_homeowner),\n    Other = sum(exe_missing_disvet+exe_disabled),\n    \n  ) %&gt;%\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(Homeowner:Other), names_to = \"Exemption Type\") %&gt;%\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = `Exemption Type`), position = \"dodge\") +\n  scale_y_continuous(label = scales::dollar) + \n  theme_classic() + \n  labs(x = element_blank(), y = \"Exempt EAV\")\n\n\n\n\n\nFigure 4.4: Exempt EAV by Type in Select Municipalities. Shows adjusted values of exemption amounts after finding data error.\n\n\n\n\n\n\n\n\n\n\nCode\n#\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    Homeowner = sum(exe_homeowner),\n    Senior = sum(exe_senior),\n    `Senior Freeze` = sum(exe_freeze),\n   # exe_longtime_homeowner = sum(exe_longtime_homeowner),\n    Other = sum(exe_missing_disvet+exe_disabled),\n    \n  ) %&gt;%\n  ungroup()  |&gt; \n  mutate(across(Homeowner:Other, scales::comma)) |&gt;\n  rename(Municipality = clean_name) |&gt;\n  arrange(desc(Other)) |&gt; \n  DT::datatable(rownames = FALSE)\n\n\n\n\n\n\n\n\nFigure 7. Exemption Share in Class 8 Municipalities\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    all_exemptions = sum(exe_total),\n\n    eq_av = sum(av_clerk*eq_factor),\n    tif_increment_eav = sum(final_tax_to_tif/tax_code_rate)\n  ) %&gt;%\n  mutate(taxable_eav = eq_av - tif_increment_eav - all_exemptions) |&gt;\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(all_exemptions:taxable_eav), names_to = \"exe_type\") %&gt;%\n  # all exemptions includes ... all the exemption types. \n  filter(exe_type %in% c(\"taxable_eav\", \"all_exemptions\")) |&gt;\n  mutate(EAV = factor(exe_type, levels = c(\"taxable_eav\", \"all_exemptions\"), labels = c(\"Taxed EAV\", \"Exempt EAV\")) ) |&gt;\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = EAV), position = \"stack\") +\n    geom_text(aes(x=clean_name, y = value, label = scales::comma(value)), \n            position = \"stack\",  vjust=1.1)+\n  scale_y_continuous(label = scales::dollar, limits = c(0,600000000)) + \n  theme_classic() +\n  labs(x = element_blank(), y = \"Non-TIF Increment EAV in Municipality\")\n\n\n\n\n\n\n\n\n\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    all_exemptions = sum(exe_total_adj),\n    eq_av = sum(av_clerk*eq_factor),\n    tif_increment_eav = sum(final_tax_to_tif/tax_code_rate)\n  ) %&gt;%\n  mutate(taxable_eav = eq_av - tif_increment_eav - all_exemptions) |&gt;\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(all_exemptions:taxable_eav), names_to = \"exe_type\") %&gt;%\n    # all exemptions includes all exemptions, but adjusted for missing disabled veteran exemptions \n\n  filter(exe_type %in% c(\"taxable_eav\", \"all_exemptions\"))|&gt;\n  mutate(EAV = factor(exe_type, levels = c(\"taxable_eav\", \"all_exemptions\"), labels = c(\"Taxed EAV\", \"Exempt EAV\")) ) |&gt;\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = EAV), position = \"stack\") +\n  scale_y_continuous(label = scales::dollar, limits = c(0,600000000)) + \n  theme_classic() + \n  geom_text(aes(x=clean_name, y = value, label = scales::comma(value)), \n            position = \"stack\",  vjust=1.1)+\n  labs(x = element_blank(), y = \"Non-TIF Increment EAV in Municipality\")\n\n\n\n\nWith adjusted exemption values and calculating allvalues from the pin datatable instead of using ptaxsim::tax_bill() values. Would be more correct than original ways values were calculated.\n\n\n\n\n\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    all_exemptions = sum(exe_total_adj),\n\n    eq_av = sum(av_clerk*eq_factor),\n    tif_increment_eav = sum(final_tax_to_tif_AWM/tax_code_rate)\n  ) %&gt;%\n  mutate(taxable_eav = eq_av - tif_increment_eav - all_exemptions) |&gt;\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(all_exemptions:taxable_eav), names_to = \"exe_type\") %&gt;%\n  filter(exe_type %in% c(\"taxable_eav\", \"all_exemptions\"))|&gt;\n  mutate(EAV = factor(exe_type, levels = c(\"taxable_eav\", \"all_exemptions\"), labels = c(\"Taxed EAV\", \"Exempt EAV\")) ) |&gt;\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = EAV), position = \"stack\") +\n  geom_text(aes(x=clean_name, y = value, label = scales::comma(value)), \n            position = \"stack\",  vjust=1.1)+\n  scale_y_continuous(label = scales::dollar, limits = c(0,600000000)) + \n  theme_classic() + \n  labs(x = element_blank(), y = \"Non-TIF Increment EAV in Municipality\")\n\n\n\n\nUses final_tax_to_tif_AWM for TIF increment calculation. Has adjusted exemption values and calculating allvalues from the pin datatable instead of using ptaxsim::tax_bill() values. Would be more correct than original ways values were calculated.\n\n\n\n\n\n\n\nMillion dollar homes\nExcluding home valued at $1 milliom from GHE eligibility.\n\n\nCode\nmil_homes_total &lt;- munis_ranked %&gt;% mutate(mil_home = ifelse(class_1dig == 2 & av*10 &gt; 1000000, 1, 0) ) %&gt;% summarize(million_dollar_homes = sum(mil_home))\n\nmil_homes_w_ghe &lt;- munis_ranked %&gt;% mutate(mil_home = ifelse(class_1dig == 2 & av*10 &gt; 1000000,1,0) ) %&gt;% filter(has_HO_exemp == 1)  %&gt;% summarize(million_dollar_homes = sum(mil_home))\n\nmil_home_count &lt;- munis_ranked %&gt;% \n  mutate(mil_home = ifelse(class_1dig == 2 &av*10 &gt; 1000000,1,0) ) %&gt;%\n  filter(has_HO_exemp == 1) %&gt;% \n  summarize(million_dollar_homes = sum(mil_home))\n\nmilhomes_w_exemps &lt;- munis_ranked %&gt;% \n  mutate(mil_home = ifelse(class_1dig == 2 & av*10 &gt; 1000000, 1, 0) ) %&gt;%\n  filter(has_HO_exemp == 1 & mil_home == 1) %&gt;% \n  summarize(\n    exempt_eav  = sum(exe_total),\n    million_dollar_homes = sum(mil_home),\n    bonus_rev = sum(tax_code_rate*exe_homeowner))\n\n\nThere are 29,044 homes worth $1 million dollars in Cook County, IL.\nOf those homes, 17,228 claim the GHE, which reduces 10,000 EAV from the properties equalized AV.\nAmount of money that could be “transferred” to areas impacted by high tax rates =\nSum of (tax code rate * exempt EAV) = $20,819,143",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tax Year 2021</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2022.html",
    "href": "exemption_addendum_2022.html",
    "title": "Tax Year 2022",
    "section": "",
    "text": "Which taxpayers benefit the most and least from homestead exemptions?",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Tax Year 2022</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2022.html#which-taxpayers-benefit-the-most-and-least-from-homestead-exemptions",
    "href": "exemption_addendum_2022.html#which-taxpayers-benefit-the-most-and-least-from-homestead-exemptions",
    "title": "Tax Year 2022",
    "section": "",
    "text": "Table 1. Comparison of Tax Bills for Median Assessed Value (AV) Class 2 Properties in Selected Municpalities under the Status Quo and Alternative Scenario\n\n\n\nCode\ntax_bill_change_HO &lt;- c2pins %&gt;% \n  left_join(muni_rates) |&gt;\n  filter(av &gt; 0) %&gt;% \n  arrange(av) %&gt;%\n  mutate(#eq_av = av_clerk*eq_factor,\n         bill_current = (taxed_eav*tax_code_rate),\n         bill_noexemps =  rate_noGHE*(taxed_eav+exe_homeowner),\n         bill_change = bill_noexemps - bill_current) %&gt;%\n  group_by(clean_name, has_HO_exemp) %&gt;% \n  summarize(median_AV = median(av),\n            median_EAV = median(taxed_eav),\n            median_bill_cur = round(median(bill_current)),\n            median_bill_new = round(median(bill_noexemps)),\n            median_change = round(median(bill_change)),\n            pincount=n(),\n            perceived_savings = median(exe_homeowner*tax_code_rate)\n  )\n\ntax_bill_change_HO |&gt; \n  filter(clean_name %in% c(\"Park Forest\", \"Phoenix\", \"Winnetka\", \"Riverdale\")) |&gt;\n  mutate(across(c(median_AV:median_change, perceived_savings), scales::dollar) ) |&gt;\n  rename( 'Municipality' = 'clean_name',\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'median_bill_cur',\n                  'Hyp. Bill' = 'median_bill_new', \n                  'Bill Change' = 'median_change',  \n                  'Perceived Savings'='perceived_savings') |&gt;\n  flextable::flextable()\n\n\n\n\nTable 5.1: Change in Tax Bill for Properties with an Assessed Value of $15,000. AV stands for “assessed value” “Tax calculator reduction” refers to the exemption values shown on the tax bill received by taxpayers. Values are estimated using an average of the properties with an AV within $1,000 of it’s municipality’s median AV to enlarge the number of observations. Thus, our calculations do not precisely represent the median.\n\n\n\nMunicipalityClaims GHEmedian_AVmedian_EAVCurrent BillHyp. BillBill ChangepincountPerceived SavingsPark Forest0$5,663.00$16,556.91$7,597$5,313-$1,6051,858$0.00Park Forest1$6,947.50$7,109.49$3,227$5,486$2,4433,414$4,599.20Phoenix0$2,014$5,888.33$1,812$1,255-$557517$0.00Phoenix1$3,661$520.93$160$2,132$1,782478$3,077.10Riverdale0$5,534.00$16,179.76$5,324$4,216-$1,1041,565$0.00Riverdale1$5,995.50$6,118.36$2,018$4,177$2,1112,366$3,298.30Winnetka0$94,999$277,749$20,734$20,387-$3541,423$0.00Winnetka1$111,090$311,683$23,321$23,606$3303,060$746.50\n\n\n\n\n\n\n\nFigure 2. Value of Median Residential Property Indifferent to Elimination of GHE\n\n\nCode\nmuni_breakeven_points &lt;- c2pins |&gt;\n  left_join(muni_rates) |&gt;\n  filter(exe_homeowner == 10000) %&gt;% \n  filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0  &\n           exe_missing_disvet == 0) %&gt;%\n  \n  group_by(clean_name) %&gt;%\n  summarize(\n    median_AV = median(av),     # median class 2 AV for properties that did claim the GHE but not other exemptions\n    bill_current = mean(eav_postexemptions * tax_code_rate), # money collected by non-TIF agencies\n    \n    bill_noGHE = mean(rate_noGHE * (eav_postexemptions+exe_homeowner)), # this uses tax code tax rate\n   # rate_change = mean(tax_code_rate - tc_hyp_taxrate),   # avg tax code level rate change \n    muni_avg_rate_change = mean(tax_code_rate - rate_noGHE),\n    # nobillchange_propertyEAV = round(mean(exe_homeowner * \n    #                                         (tax_code_rate / (tax_code_rate-tc_hyp_taxrate)))), #   \n     nobillchange_propertyEAV_muni = round(mean(exe_homeowner *\n                                                 (rate_current/(rate_current-rate_noGHE) )))\n  ) |&gt; \n  mutate(nochange_av = nobillchange_propertyEAV_muni / eq_factor,\n         nochange_av_muni = nobillchange_propertyEAV_muni/ eq_factor,\n         ) \n\n\n\n\nmuni_breakeven_points %&gt;%       \n  filter(clean_name %in% c(\"Chicago\",\"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) |&gt;\n  ggplot(aes(y=median_AV, x = clean_name)) +\n  geom_col()+\n    geom_text(aes(y=median_AV + 3000, label = round(median_AV) ) ) +\n  scale_y_continuous(labels = scales::dollar) +\n  theme_classic() +\n  scale_x_discrete(label = c(\"Chicago\",\"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) + \n  labs(y = \"Median Residential AV\", x = \"\", \n       title = \"Median Residential Property Assessed Value - All Class 2 property Types\")\n\n\n\n\nBreak even points vary across municipalities, sometimes by orders of magnitude\n\n\n\n\n\nCode\nmuni_breakeven_points %&gt;%       \n  filter(clean_name %in% c(\"Chicago\",\"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) |&gt;\n  ggplot(aes(y=nochange_av, x = clean_name)) +\n  geom_col() +\n  geom_text(aes(y=nochange_av + 3000, label = round(nochange_av)) ) +\n  scale_y_continuous(labels = scales::dollar) +\n  theme_classic() +\n  scale_x_discrete(label = c(\"Chicago\", \"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) + \n  labs(y = \"Breakeven Point - AV\", x = \"\", \n  title = \"Residential Property AV Breakeven Point\", \n  caption = \"Residential properties above these values would have their bills decrease if the GHE were eliminated\n       (if they had claimed the GHE before)\")\n\n\n\n\nBreak even points vary across municipalities, sometimes by orders of magnitude\n\n\n\n\n\nOf homeowners who take the GHE, those that gain the largest monetary benefit from the exemption in proportion to their home values are those who own below-average valued properties that are in a municipality with relatively high tax rates. Property owners who benefit the least from taking the exemption (again, relative to the value of their homes) are those with above-average valued homes in jurisdictions with low tax rates. Note that these are not the same homeowners who benefit the most in absolute dollar terms—that outcome depends on both the absolute and relative value of the property and the composition of properties within the jurisdiction.\n\n\nCode\nmuni_breakeven_points %&gt;%\n # filter(nochange_av &lt; 300000) %&gt;%\n  ggplot(aes(y=nochange_av, \n             x = median_AV, \n             label=clean_name\n             )) +\n  geom_abline(intercept = 0, slope = 1, lty = 2, alpha = .4) +\n  geom_point(aes(alpha = .5)) +\n # geom_smooth(method = \"lm\" )+\n  geom_text(aes(y = (nochange_av-5000), x = (median_AV)), size = 2)+\n  theme_classic() +\n  scale_x_continuous(labels = scales::dollar) +\n  scale_y_continuous(labels = scales::dollar) +\n  theme(legend.position = \"none\")+\n  labs(y = \" Breakeven Point\", \n       x = \"Median AV - Class 2 Properties in Municipality\", \n      # title = \"Some highly valued homes would have lower tax bills if the GHE were eliminated\", \n       #caption = \"The breakeven point is the assessed values at which a major class 2 \n     #  property would not have their taxbill change if the GHE were eliminated.\"\n     )\n\n\n\n\n\n\nFigure 5.1: Includes all municipalities\n\n\n\n\n\n\n\n\n\nCode\nmuni_breakeven_points %&gt;%\n  filter(nochange_av &lt; 300000) %&gt;%\n  ggplot(aes(y=nochange_av, \n             x = median_AV, \n             label=clean_name\n             )) +\n  geom_abline(intercept = 0, slope = 1, lty = 2, alpha = .4) +\n\n  geom_point(aes(alpha = .5)) +\n  \n  geom_point(data = (muni_breakeven_points %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Riverdale\",\"Dolton\"))), aes(y = nochange_av, x = median_AV, color = \"red\"), size = 3) +\n  ggrepel::geom_label_repel(data = (muni_breakeven_points %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Riverdale\", \"Dolton\"))), aes(y = (nochange_av), x = (median_AV)), size = 3)+\n  theme_classic() +\n  theme(panel.background = element_blank()) + \n  scale_x_continuous(labels = scales::dollar, expand = c(0,0), limits = c(0,170000) ) +\n  scale_y_continuous(labels = scales::dollar, expand = c(0,0), limits = c(0,170000) ) +\n    theme(legend.position = \"none\") +\n\n  labs(title = \"Municipalities' Median AV & Breakeven Point \\nClass 2 Properties Only\",\n    y = \"Breakeven Point\", \n       x = \"Median AV\", \n # caption = \"The breakeven point is the assessed values at which a major class 2 property would not have their taxbill change if the \n # GHE were eliminated. Excludes outliers: University Park, Bedford Park, McCook, Hodgkins, and Rosemont. Class 2 properties that had\n # claimed the GHE would have lower taxbills even if the GHE were removed if the AV is above the breakeven point.\"\n ) + coord_fixed()\n\n#ggsave(\"breakevenpoint.svg\", bg = \"transparent\")\n\n\n\n\n\nFigure 5.2: Breakeven Point …",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Tax Year 2022</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2022.html#how-progressive-are-exemptions",
    "href": "exemption_addendum_2022.html#how-progressive-are-exemptions",
    "title": "Tax Year 2022",
    "section": "How progressive are exemptions?",
    "text": "How progressive are exemptions?\n\nFigure 3. Ratio of Tax Bills to AV for 25th and 75th Percentile AV Class 2 Properties with $10,000 GHE\nFor the different exemption scenarios, we created new exemption variables for alternate exemption amounts that can be subtracted from a properties equalized AV.\n\nex. For exe_neg10 all exemption amounts are equal to zero.\nFor exe_0, This variable should be the same as the current tax system since we did not add or remove any exempt EAV to the PIN. If the EAV for a PIN is less than 10000 EAV and they did claim the general homestead exemption, then their exempt EAV is equal to their EAV.\nIf the exempt EAV allowable for the GHE was increased to 20,000 EAV, then the variable exe_plus10 is used.\n\n\n\nCode\npin_data &lt;- pin_data %&gt;% \n  left_join(class_dict, by = c(\"class\" = \"class_code\")) %&gt;%\n  mutate(\n \n    tif_increment_eav = final_tax_to_tif / tax_code_rate,\n    \n    nontif_eav_preexe = av_clerk*eq_factor - tif_increment_eav,\n    nontif_eav_postexe = av_clerk*eq_factor - tif_increment_eav - all_exemptions,\n    \n    eav_postexemptions = av_clerk*eq_factor - all_exemptions,\n    eav_preexemptions = av_clerk*eq_factor) |&gt;\n  ## Create variables for alternate exemption amounts that can be subtracted from a properties equalized AV\n  mutate(\n    eav = eav_preexemptions,\n    exe_neg10 = 0,\n         \n      # exe_0 implies no additional or removed EAV. Current tax system. \n         exe_0 = ifelse(eav &lt; 10000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;10000 & exe_homeowner!=0, 10000, 0 )),  # no change in current exemptions\n         exe_plus10 = ifelse(eav &lt; 20000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;20000 & exe_homeowner!=0, 20000, 0 )),\n         exe_plus20 = ifelse(eav &lt; 30000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;30000 & exe_homeowner!=0, 30000, 0 ) ),\n         exe_plus30 = ifelse(eav &lt; 40000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;40000 & exe_homeowner!=0, 40000, 0) ),\n         exe_plus40 = ifelse(eav &lt; 50000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;50000 & exe_homeowner!=0, 50000, 0) ),\n         mil_home = ifelse(major_class_code == 2 & av*10 &gt; 1000000, 1, 0))\n\n\n# all pins in munis fully within cook county that are some form of single-family, detached home\nsingfam_pins &lt;- pin_data %&gt;% \n  filter(Option2 == \"Single-Family\")\n\n\n\n\nCode\n# Calculates tax rates for all exemption scenarios.\nscenario_calcs &lt;- pin_data %&gt;%    \n  group_by(clean_name) %&gt;%\n\n    summarize(MuniLevy = round(sum(final_tax_to_dist, na.rm = TRUE)), # amount billed by munis with current exemptions in place\n            current_nonTIF_EAV_post_exemps = sum(final_tax_to_dist/(tax_code_rate), na.rm = TRUE),\n            current_TIF_increment_EAV = sum(final_tax_to_tif/(tax_code_rate), na.rm=TRUE),  \n            current_Exempt_EAV = sum(all_exemptions, na.rm=T), \n            current_GHE = sum(exe_homeowner, na.rm=TRUE),\n            Total_EAV = sum(all_exemptions+(final_tax_to_dist+final_tax_to_tif)/(tax_code_rate), na.rm = TRUE),\n            exe_neg10 = sum(exe_neg10),\n            exe_0 = sum(exe_0), # no change, for comparison\n            exe_plus10 = sum(exe_plus10),\n            exe_plus20 = sum(exe_plus20),\n            exe_plus30 = sum(exe_plus30),\n            exe_plus40 = sum(exe_plus40),\n            mil_home = sum(mil_home)\n            ) %&gt;%\n\n  # remove all GHE (up to 10,000 EAV added back to base per PIN), \n  # add exe_homeowner back to taxable base\n  mutate(neg10_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE,    # adds GHE exempt EAV back to taxable base and decreases tax rates\n         plus10_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus10, # will increase tax rates\n         plus20_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus20,\n         plus30_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus30,\n         plus40_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus40,\n         scenario_noexemptions_taxable_eav = Total_EAV - current_TIF_increment_EAV) %&gt;%\n  \n  mutate(tr_neg10 = MuniLevy / neg10_taxable_eav,\n         tr_nochange = MuniLevy / current_nonTIF_EAV_post_exemps,\n         tr_plus10 = MuniLevy / plus10_taxable_eav,\n         tr_plus20 = MuniLevy / plus20_taxable_eav,\n         tr_plus30 = MuniLevy / plus30_taxable_eav,\n         tr_plus40 = MuniLevy / plus40_taxable_eav, \n         tax_rate_current = MuniLevy/current_nonTIF_EAV_post_exemps,\n         taxrate_noexemps = MuniLevy /(Total_EAV - current_TIF_increment_EAV  ),\n         taxrate_noTIFs = MuniLevy / (Total_EAV - current_Exempt_EAV),\n         taxrate_noTIFs_orExemps = MuniLevy / Total_EAV) %&gt;%\n  select(clean_name, MuniLevy, tr_neg10:taxrate_noTIFs_orExemps, everything())\n\nscenario_taxrates &lt;- scenario_calcs %&gt;%  \n  select(clean_name, MuniLevy, tr_neg10:taxrate_noTIFs_orExemps) \n\nscenario_taxrates |&gt; \n  select(-c(tax_rate_current:taxrate_noTIFs_orExemps)) |&gt;\n  #mutate(across(.cols=(tr_neg10:tr_plus40), s, accuracy = 0.01)) |&gt;\n  rename(Municipality = clean_name,\n        `Composite Levy` = MuniLevy,\n    `Rate if \\nGHE=0K` = tr_neg10, \n         `Current\\nTax Rate`= tr_nochange, \n         `Rate if\\nGHE=20K`= tr_plus10, \n         `Rate if\\nGHE=30K` = tr_plus20, \n         `Rate if\\nGHE=40K` = tr_plus30, \n         `Rate if\\nGHE=50K` = tr_plus40) |&gt; \n  DT::datatable(rownames = FALSE)  |&gt;\n  formatCurrency(columns = c(2), digits = 0) |&gt;\n  formatPercentage(3:8, digits = 1)\n\n\n\n\n\n\n\n\nCode\nmunis_billchange &lt;- munis_ranked %&gt;% \n    left_join(scenario_taxrates) %&gt;%\n\n  mutate(\n    eav = eq_av,\n    exe_neg10 = 0,\n         \n      # exe_0 implies no additional or removed EAV. Current tax system. \n         exe_0 = ifelse(eav &lt; 10000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;10000 & exe_homeowner!=0, 10000, 0 )),  # no change in current exemptions\n         exe_plus10 = ifelse(eav &lt; 20000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;20000 & exe_homeowner!=0, 20000, 0 )),\n         exe_plus20 = ifelse(eav &lt; 30000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;30000 & exe_homeowner!=0, 30000, 0 ) ),\n         exe_plus30 = ifelse(eav &lt; 40000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;40000 & exe_homeowner!=0, 40000, 0) ),\n         exe_plus40 = ifelse(eav &lt; 50000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;50000 & exe_homeowner!=0, 50000, 0) ),\n         mil_home = ifelse(av*10 &gt; 1000000, 1, 0)) |&gt;\n    mutate(,\n    # current bill = current tax rate * portion of levy billed\n         equalized_AV = av_clerk*eq_factor,\n         \n   # ## Made negative tax bills!! ## #\n          bill_neg10 = tr_neg10*(equalized_AV-all_exemptions+ exe_homeowner -exe_neg10),\n\n         bill_current = tax_code_rate*(equalized_AV-all_exemptions),\n         bill_plus10 =  tr_plus10*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus10),\n         bill_plus20 = tr_plus20*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus20),\n         bill_plus30 = tr_plus20*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus30),\n         bill_plus40 = tr_plus20*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus40),\n    \n    # ## make bills $1 if they had been negative.\n         bill_neg10 = ifelse(bill_neg10 &lt; 1, 1, bill_neg10),\n         bill_current = ifelse(bill_current &lt; 1, 1, bill_current),\n         bill_plus10 = ifelse(bill_plus10 &lt; 1, 1, bill_plus10),\n         bill_plus20 = ifelse(bill_plus20 &lt; 1, 1, bill_plus20),\n         bill_plus30 = ifelse(bill_plus30 &lt; 1, 1, bill_plus30),\n         bill_plus40 = ifelse(bill_plus40 &lt; 1, 1, bill_plus40),\n\n         )%&gt;%\n  mutate(\n         zerodol_bills_ghe0 = ifelse(bill_neg10 &lt; 5, 1, 0),\n         zerodol_bills_current = ifelse(bill_current &lt; 5, 1, 0),\n         zerodol_bills_ghe20 = ifelse(bill_plus10 &lt; 5, 1, 0),\n         zerodol_bills_ghe30 = ifelse(bill_plus20 &lt; 5, 1, 0),\n         zerodol_bills_ghe40 = ifelse(bill_plus30 &lt; 5, 1, 0),\n         zerodol_bills_ghe50 = ifelse(bill_plus40 &lt; 5, 1, 0),\n  ) %&gt;%\n  ungroup() |&gt;\n  group_by(clean_name, rank, has_HO_exemp) %&gt;% \n  summarize(median_AV = round(median(av)),\n            median_EAV = round(median(eav)),\n            mean_bill_neg10 = round(mean(bill_neg10, na.rm=TRUE)),\n            mean_bill_cur = round(mean(bill_current, na.rm=TRUE)),\n            mean_bill_plus10 = round(mean(bill_plus10, na.rm=TRUE)),\n            mean_bill_plus20 = round(mean(bill_plus20, na.rm=TRUE)),\n            mean_bill_plus30 = round(mean(bill_plus30, na.rm=TRUE)),\n            mean_bill_plus40 = round(mean(bill_plus40, na.rm=TRUE)),\n            \n            tr_neg10 = round(mean(tr_neg10*100), digits = 2), \n            cur_comp_TC_rate = round(mean(tax_code_rate*100), digits = 2),\n            tr_plus10 = round(mean(tr_plus10*100), digits = 2),\n            tr_plus20 = round(mean(tr_plus20*100), digits = 2),\n            tr_plus30 = round(mean(tr_plus30*100), digits = 2),\n            tr_plus40 = round(mean(tr_plus40*100), digits = 2),\n            pincount=n(),\n            zerodol_bills_ghe0 = sum(zerodol_bills_ghe0),           \n            zerodol_bills_current = sum(zerodol_bills_current),\n            zerodol_bills_ghe20 = sum(zerodol_bills_ghe20),\n            zerodol_bills_ghe30 = sum(zerodol_bills_ghe30),\n            zerodol_bills_ghe40 = sum(zerodol_bills_ghe40),\n            zerodol_bills_ghe50 = sum(zerodol_bills_ghe50),\n\n\n  ) %&gt;%\n  mutate(clean_name = ifelse(clean_name == \"Hazelcrest\", \"Hazel Crest\", clean_name)) %&gt;%\n  arrange(has_HO_exemp, rank)\n\n\n\n\n\nratios &lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(currbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_cur/median_AV, NA)) %&gt;%\n  mutate(currbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_cur/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(currbill_to_AV_25 = max(currbill_to_AV_25, na.rm=TRUE),\n            currbill_to_AV_75 = max(currbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = currbill_to_AV_25/currbill_to_AV_75) %&gt;% filter(muni_ratio_25to75 &gt; 0.01)\n\n\n\nggplot(data = ratios, aes(y = currbill_to_AV_25, x = currbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1, lty = 2, alpha = .4) +\n  geom_point(data = ratios, aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75), size = 2, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75, color = \"red\"), size = 2)+\n\n  theme_classic() +\n  theme(legend.background = element_rect(fill = \"transparent\"), \n        legend.box.background = element_rect(fill = \"transparent\"), \n        panel.background = element_rect(fill = \"transparent\"), \n        panel.grid.major = element_blank(), \n        panel.grid.minor = element_blank(), \n        plot.background = element_rect(fill = \"transparent\", \n                                       color = NA) ) +\n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n   scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") +\n  labs(title=\"\", y=\"Tax Burden as a Share of AV \\n(25th Percentile)\", x=\"Tax Burden as a Share of AV \\n(75th Percentile)\", subtitle = \"Current Tax System, GHE = 10,000 EAV\") + coord_fixed()\n\n\n\n\n\n\n\n\n\n\nCode\npin_data %&gt;%\n  filter(av &lt; 300000) %&gt;% # just to see the histogram better\n  ggplot( aes(x=av)) +\n  geom_histogram(bins = 50)  +\n  theme_classic()+\n  labs(title = \"Cook County Class 2 Residential PIN Distribution of AV\", \n       x = \"Assessed Value ($)\", y=\"# of Pins\", \n       caption = \"Dropped PINs with AVs over $300,000 for better visual of histogram bins.\") +\n  scale_x_continuous(label = scales::dollar) +\n  scale_y_continuous(label = scales::comma)\n\n\nsingfam_pins %&gt;%\n filter(av &lt; 300000) %&gt;% # just to see the histogram better\n  \n  ggplot( aes(x=av)) +\n  geom_histogram(bins = 50)  +\n  theme_classic()+\n  labs(title = \"Cook County Single-Family PIN Distribution of AV\", \n       x = \"Assessed Value ($)\", y=\"# of Pins\", \n       caption = \"Dropped PINs with AVs over $300,000 for better visual of histogram bins.\"\n       ) +\n  scale_x_continuous(label = scales::dollar)+\n  scale_y_continuous(label = scales::comma)\n\n\n\n\n\n\nMajor Class 2 Properties\n\n\n\n\n\n\n\nSingle-family subgroup of C2 Properties\n\n\n\n\n\n\n\nDistribution of Assessed Values: Class 2 Properties vs Single-Family Properties There is a difference in the assessed values depending on if you use all 200 level properties or only a subset of them. All figures and tables were created for both options when writing the report as a robustness check.",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Tax Year 2022</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2022.html#what-would-happen-if-the-ghe-value-were-increased",
    "href": "exemption_addendum_2022.html#what-would-happen-if-the-ghe-value-were-increased",
    "title": "Tax Year 2022",
    "section": "What would happen if the GHE value were increased?",
    "text": "What would happen if the GHE value were increased?\n\nFigure 4. Effect of Changing the GHE on Progressivity\n\nCode\nratios &lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(currbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_neg10/median_AV, NA)) %&gt;%\n  mutate(currbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_neg10/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(GHE_0_bill_to_AV_25 = max(currbill_to_AV_25, na.rm=TRUE),\n            GHE_0_bill_to_AV_75 = max(currbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = GHE_0_bill_to_AV_25/GHE_0_bill_to_AV_75) \n\n\nggplot(data = ratios, aes(y = GHE_0_bill_to_AV_25, x = GHE_0_bill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = GHE_0_bill_to_AV_25, x = GHE_0_bill_to_AV_75, label = clean_name), size = 3)+\n    geom_point(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = GHE_0_bill_to_AV_25, x = GHE_0_bill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") +\n  labs(title = \"GHE = $0 EAV\", x = \"\", y = \"\")\nratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(currbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_cur/median_AV, NA)) %&gt;%\n  mutate(currbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_cur/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(currbill_to_AV_25 = max(currbill_to_AV_25, na.rm=TRUE),\n            currbill_to_AV_75 = max(currbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = currbill_to_AV_25/currbill_to_AV_75) %&gt;% filter(muni_ratio_25to75 &gt; 0.01)\n\n\n\nggplot(data = ratios, aes(y = currbill_to_AV_25, x = currbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(data = ratios, aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75, color = \"red\"), size = 2)+\n\n  theme_classic() +\n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n   scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") +\n  labs(title = \"GHE = $10,000 EAV (Current)\", x=\"\", y=\"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus10/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus10/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% \n  filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(data = new_ratios, aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n  scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + \n  labs(title = \"GHE = $20,000 EAV\", x= \"\", y=\"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus20/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus20/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% \n  \n  filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + \n  labs(title = \"GHE = $30,000 EAV\",\n                                        x = \"\", y = \"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus30/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus30/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% \n  filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + \n  labs(title = \"GHE = $40,000 EAV\", \n                                     x= \"\", y = \"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus40/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus40/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + labs(title = \"GHE = $50,000\", \n                                      x = \"\", y = \"\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 3. Revenue Neutral Tax Rates\nRevenue Neutral Tax Rates (Percent) for Select Municipalities as a Function of GHE Value\n\n\nCode\nscenario_taxrates %&gt;% \n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  mutate(across(starts_with(\"tr_\"), scales::percent, accuracy = 0.01))|&gt;\n  select(Municipality = clean_name,\n         \"0 GHE\" = tr_neg10,\n         \"10,000 GHE (Current)\" = tr_nochange,\n         \"20,000 GHE\" = tr_plus10,\n         \"30,000 GHE\" = tr_plus20,\n         \"40,000 GHE\" = tr_plus30,\n         \"50,000 GHE\" = tr_plus40) |&gt;\n  flextable::flextable()\n\n\nMunicipality0 GHE10,000 GHE (Current)20,000 GHE30,000 GHE40,000 GHE50,000 GHEChicago6.84%7.08%7.32%7.57%7.81%8.04%Dolton21.19%26.35%34.21%43.15%47.47%47.87%Glencoe7.67%7.82%7.98%8.15%8.32%8.51%\n\n\n\n\nFigure 5. GHE Value and Revenue Neutral Tax Rates\nRelationship of GHE Value and Revenue Neutral Tax Rates in Chicago, Dolton, and Glencoe\n\n\nCode\nscenario_taxrates %&gt;% \n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  select(Municipality = clean_name,\n         \"0 GHE\" = tr_neg10,\n         \"10,000 GHE\\n(Current)\" = tr_nochange,\n         \"20,000 GHE\" = tr_plus10,\n         \"30,000 GHE\" = tr_plus20,\n         \"40,000 GHE\" = tr_plus30,\n         \"50,000 GHE\" = tr_plus40) %&gt;%\n  pivot_longer(cols = c(`0 GHE`:`50,000 GHE`), names_to = \"Scenarios\") %&gt;%\n\n  ggplot() +\n  geom_line(aes(x=Scenarios, y = value, group = Municipality, color = Municipality)) + theme_classic() + \n  labs(title = \"Tax Rates for GHE Scenarios\", x = \"GHE Amount\", y = \"Tax Rate\") +\n  scale_y_continuous(label = scales::percent)",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Tax Year 2022</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2022.html#paying-for-the-inequitable-effects-of-exemptions",
    "href": "exemption_addendum_2022.html#paying-for-the-inequitable-effects-of-exemptions",
    "title": "Tax Year 2022",
    "section": "Paying for the inequitable effects of exemptions",
    "text": "Paying for the inequitable effects of exemptions\n\nFigure 6. Exemptions by Value in Class 8 Municipalities\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    Homeowner = sum(exe_homeowner),\n    Senior = sum(exe_senior),\n    `Senior Freeze` = sum(exe_freeze),\n   # exe_longtime_homeowner = sum(exe_longtime_homeowner),\n    Other = sum(exe_disabled),\n    \n  ) %&gt;%\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(Homeowner:Other), names_to = \"Exemption Type\") %&gt;%\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = `Exemption Type`), position = \"dodge\") +\n  scale_y_continuous(label = scales::dollar) + \n  theme_classic() + \n  labs(x = element_blank(), y = \"Exempt EAV\")\n\n\n\n\n\nFigure 5.3: Exempt EAV by Type in Select Municipalities. Shows values as calculated in original report that undercounted disabled veteran exemptions.\n\n\n\n\n\n\n\n\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    Homeowner = sum(exe_homeowner),\n    Senior = sum(exe_senior),\n    `Senior Freeze` = sum(exe_freeze),\n   # exe_longtime_homeowner = sum(exe_longtime_homeowner),\n    Other = sum(exe_missing_disvet+exe_disabled),\n    \n  ) %&gt;%\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(Homeowner:Other), names_to = \"Exemption Type\") %&gt;%\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = `Exemption Type`), position = \"dodge\") +\n  scale_y_continuous(label = scales::dollar) + \n  theme_classic() + \n  labs(x = element_blank(), y = \"Exempt EAV\")\n\n\n\n\n\nFigure 5.4: Exempt EAV by Type in Select Municipalities. Shows adjusted values of exemption amounts after finding data error.\n\n\n\n\n\n\n\n\n\n\nCode\n#\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    Homeowner = sum(exe_homeowner),\n    Senior = sum(exe_senior),\n    `Senior Freeze` = sum(exe_freeze),\n   # exe_longtime_homeowner = sum(exe_longtime_homeowner),\n    Other = sum(exe_missing_disvet+exe_disabled),\n    \n  ) %&gt;%\n  ungroup()  |&gt; \n  mutate(across(Homeowner:Other, scales::comma)) |&gt;\n  rename(Municipality = clean_name) |&gt;\n  arrange(desc(Other)) |&gt; \n  DT::datatable(rownames = FALSE)\n\n\n\n\n\n\n\n\nFigure 7. Exemption Share in Class 8 Municipalities\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    all_exemptions = sum(exe_total),\n\n    eq_av = sum(av_clerk*eq_factor),\n    tif_increment_eav = sum(final_tax_to_tif/tax_code_rate)\n  ) %&gt;%\n  mutate(taxable_eav = eq_av - tif_increment_eav - all_exemptions) |&gt;\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(all_exemptions:taxable_eav), names_to = \"exe_type\") %&gt;%\n  # all exemptions includes ... all the exemption types. \n  filter(exe_type %in% c(\"taxable_eav\", \"all_exemptions\")) |&gt;\n  mutate(EAV = factor(exe_type, levels = c(\"taxable_eav\", \"all_exemptions\"), labels = c(\"Taxed EAV\", \"Exempt EAV\")) ) |&gt;\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = EAV), position = \"stack\") +\n    geom_text(aes(x=clean_name, y = value, label = scales::comma(value)), \n            position = \"stack\",  vjust=1.1)+\n  scale_y_continuous(label = scales::dollar, limits = c(0,600000000)) + \n  theme_classic() +\n  labs(x = element_blank(), y = \"Non-TIF Increment EAV in Municipality\")\n\n\n\n\n\n\n\n\n\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    all_exemptions = sum(exe_total_adj),\n    eq_av = sum(av_clerk*eq_factor),\n    tif_increment_eav = sum(final_tax_to_tif/tax_code_rate)\n  ) %&gt;%\n  mutate(taxable_eav = eq_av - tif_increment_eav - all_exemptions) |&gt;\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(all_exemptions:taxable_eav), names_to = \"exe_type\") %&gt;%\n    # all exemptions includes all exemptions, but adjusted for missing disabled veteran exemptions \n\n  filter(exe_type %in% c(\"taxable_eav\", \"all_exemptions\"))|&gt;\n  mutate(EAV = factor(exe_type, levels = c(\"taxable_eav\", \"all_exemptions\"), labels = c(\"Taxed EAV\", \"Exempt EAV\")) ) |&gt;\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = EAV), position = \"stack\") +\n  scale_y_continuous(label = scales::dollar, limits = c(0,600000000)) + \n  theme_classic() + \n  geom_text(aes(x=clean_name, y = value, label = scales::comma(value)), \n            position = \"stack\",  vjust=1.1)+\n  labs(x = element_blank(), y = \"Non-TIF Increment EAV in Municipality\")\n\n\n\n\nWith adjusted exemption values and calculating allvalues from the pin datatable instead of using ptaxsim::tax_bill() values. Would be more correct than original ways values were calculated.\n\n\n\n\n\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    all_exemptions = sum(exe_total_adj),\n\n    eq_av = sum(av_clerk*eq_factor),\n    tif_increment_eav = sum(final_tax_to_tif_AWM/tax_code_rate)\n  ) %&gt;%\n  mutate(taxable_eav = eq_av - tif_increment_eav - all_exemptions) |&gt;\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(all_exemptions:taxable_eav), names_to = \"exe_type\") %&gt;%\n  filter(exe_type %in% c(\"taxable_eav\", \"all_exemptions\"))|&gt;\n  mutate(EAV = factor(exe_type, levels = c(\"taxable_eav\", \"all_exemptions\"), labels = c(\"Taxed EAV\", \"Exempt EAV\")) ) |&gt;\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = EAV), position = \"stack\") +\n  geom_text(aes(x=clean_name, y = value, label = scales::comma(value)), \n            position = \"stack\",  vjust=1.1)+\n  scale_y_continuous(label = scales::dollar, limits = c(0,600000000)) + \n  theme_classic() + \n  labs(x = element_blank(), y = \"Non-TIF Increment EAV in Municipality\")\n\n\n\n\nUses final_tax_to_tif_AWM for TIF increment calculation. Has adjusted exemption values and calculating allvalues from the pin datatable instead of using ptaxsim::tax_bill() values. Would be more correct than original ways values were calculated.\n\n\n\n\n\n\n\nMillion dollar homes\nExcluding home valued at $1 milliom from GHE eligibility.\n\n\nCode\nmil_homes_total &lt;- munis_ranked %&gt;% mutate(mil_home = ifelse(class_1dig == 2 & av*10 &gt; 1000000, 1, 0) ) %&gt;% summarize(million_dollar_homes = sum(mil_home))\n\nmil_homes_w_ghe &lt;- munis_ranked %&gt;% mutate(mil_home = ifelse(class_1dig == 2 & av*10 &gt; 1000000,1,0) ) %&gt;% filter(has_HO_exemp == 1)  %&gt;% summarize(million_dollar_homes = sum(mil_home))\n\nmil_home_count &lt;- munis_ranked %&gt;% \n  mutate(mil_home = ifelse(class_1dig == 2 &av*10 &gt; 1000000,1,0) ) %&gt;%\n  filter(has_HO_exemp == 1) %&gt;% \n  summarize(million_dollar_homes = sum(mil_home))\n\nmilhomes_w_exemps &lt;- munis_ranked %&gt;% \n  mutate(mil_home = ifelse(class_1dig == 2 & av*10 &gt; 1000000, 1, 0) ) %&gt;%\n  filter(has_HO_exemp == 1 & mil_home == 1) %&gt;% \n  summarize(\n    exempt_eav  = sum(exe_total),\n    million_dollar_homes = sum(mil_home),\n    bonus_rev = sum(tax_code_rate*exe_homeowner))\n\n\nThere are 34,960 homes worth $1 million dollars in Cook County, IL.\nOf those homes, 21,534 claim the GHE, which reduces 10,000 EAV from the properties equalized AV.\nAmount of money that could be “transferred” to areas impacted by high tax rates =\nSum of (tax code rate * exempt EAV) = $21,812,892",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Tax Year 2022</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2023.html",
    "href": "exemption_addendum_2023.html",
    "title": "Tax Year 2023",
    "section": "",
    "text": "Which taxpayers benefit the most and least from homestead exemptions?",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Tax Year 2023</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2023.html#which-taxpayers-benefit-the-most-and-least-from-homestead-exemptions",
    "href": "exemption_addendum_2023.html#which-taxpayers-benefit-the-most-and-least-from-homestead-exemptions",
    "title": "Tax Year 2023",
    "section": "",
    "text": "Table 1. Comparison of Tax Bills for Median Assessed Value (AV) Class 2 Properties in Selected Municpalities under the Status Quo and Alternative Scenario\n\n\n\nCode\ntax_bill_change_HO &lt;- c2pins %&gt;% \n  left_join(muni_rates) |&gt;\n  filter(av &gt; 0) %&gt;% \n  arrange(av) %&gt;%\n  mutate(#eq_av = av_clerk*eq_factor,\n         bill_current = (taxed_eav*tax_code_rate),\n         bill_noexemps =  rate_noGHE*(taxed_eav+exe_homeowner),\n         bill_change = bill_noexemps - bill_current) %&gt;%\n  group_by(clean_name, has_HO_exemp) %&gt;% \n  summarize(median_AV = median(av),\n            median_EAV = median(taxed_eav),\n            median_bill_cur = round(median(bill_current)),\n            median_bill_new = round(median(bill_noexemps)),\n            median_change = round(median(bill_change)),\n            pincount=n(),\n            perceived_savings = median(exe_homeowner*tax_code_rate)\n  )\n\ntax_bill_change_HO |&gt; \n  filter(clean_name %in% c(\"Park Forest\", \"Phoenix\", \"Winnetka\", \"Riverdale\")) |&gt;\n  mutate(across(c(median_AV:median_change, perceived_savings), scales::dollar) ) |&gt;\n  rename( 'Municipality' = 'clean_name',\n                  'Claims GHE' = 'has_HO_exemp',\n                  'Current Bill' = 'median_bill_cur',\n                  'Hyp. Bill' = 'median_bill_new', \n                  'Bill Change' = 'median_change',  \n                  'Perceived Savings'='perceived_savings') |&gt;\n  flextable::flextable()\n\n\n\n\nTable 6.1: Change in Tax Bill for Properties with an Assessed Value of $15,000. AV stands for “assessed value” “Tax calculator reduction” refers to the exemption values shown on the tax bill received by taxpayers. Values are estimated using an average of the properties with an AV within $1,000 of it’s municipality’s median AV to enlarge the number of observations. Thus, our calculations do not precisely represent the median.\n\n\n\nMunicipalityClaims GHEmedian_AVmedian_EAVCurrent BillHyp. BillBill ChangepincountPerceived SavingsPark Forest0$12,000$36,195.60$8,784$7,250-$1,4061,857$0.00Park Forest1$13,999$27,244.50$6,357$7,460$1,1133,412$2,426.90Phoenix0$3,699.50$11,158.80$3,066$2,398-$668526$0.00Phoenix1$5,128.00$4,776.85$1,313$2,917$1,682472$2,747.90Riverdale0$7,999$24,127.38$6,099$5,144-$9921,588$0Riverdale1$8,700$13,593.50$3,458$5,016$1,4712,325$2,555Winnetka0$93,591$282,299$21,792$21,314-$3901,448$0.00Winnetka1$108,623$315,760$24,269$24,595$3153,035$768.60\n\n\n\n\n\n\n\nFigure 2. Value of Median Residential Property Indifferent to Elimination of GHE\n\n\nCode\nmuni_breakeven_points &lt;- c2pins |&gt;\n  left_join(muni_rates) |&gt;\n  filter(exe_homeowner == 10000) %&gt;% \n  filter(exe_senior == 0 & \n           exe_freeze == 0 & \n           exe_longtime_homeowner == 0 & \n           exe_disabled == 0 & \n           exe_vet_returning == 0 & \n           exe_vet_dis_lt50 == 0 & \n           exe_vet_dis_50_69 == 0 & \n           exe_vet_dis_ge70 == 0 & \n           exe_abate == 0  &\n           exe_missing_disvet == 0) %&gt;%\n  \n  group_by(clean_name) %&gt;%\n  summarize(\n    median_AV = median(av),     # median class 2 AV for properties that did claim the GHE but not other exemptions\n    bill_current = mean(eav_postexemptions * tax_code_rate), # money collected by non-TIF agencies\n    \n    bill_noGHE = mean(rate_noGHE * (eav_postexemptions+exe_homeowner)), # this uses tax code tax rate\n   # rate_change = mean(tax_code_rate - tc_hyp_taxrate),   # avg tax code level rate change \n    muni_avg_rate_change = mean(tax_code_rate - rate_noGHE),\n    # nobillchange_propertyEAV = round(mean(exe_homeowner * \n    #                                         (tax_code_rate / (tax_code_rate-tc_hyp_taxrate)))), #   \n     nobillchange_propertyEAV_muni = round(mean(exe_homeowner *\n                                                 (rate_current/(rate_current-rate_noGHE) )))\n  ) |&gt; \n  mutate(nochange_av = nobillchange_propertyEAV_muni / eq_factor,\n         nochange_av_muni = nobillchange_propertyEAV_muni/ eq_factor,\n         ) \n\n\n\n\nmuni_breakeven_points %&gt;%       \n  filter(clean_name %in% c(\"Chicago\",\"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) |&gt;\n  ggplot(aes(y=median_AV, x = clean_name)) +\n  geom_col()+\n    geom_text(aes(y=median_AV + 3000, label = round(median_AV) ) ) +\n  scale_y_continuous(labels = scales::dollar) +\n  theme_classic() +\n  scale_x_discrete(label = c(\"Chicago\",\"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) + \n  labs(y = \"Median Residential AV\", x = \"\", \n       title = \"Median Residential Property Assessed Value - All Class 2 property Types\")\n\n\n\n\nBreak even points vary across municipalities, sometimes by orders of magnitude\n\n\n\n\n\nCode\nmuni_breakeven_points %&gt;%       \n  filter(clean_name %in% c(\"Chicago\",\"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) |&gt;\n  ggplot(aes(y=nochange_av, x = clean_name)) +\n  geom_col() +\n  geom_text(aes(y=nochange_av + 3000, label = round(nochange_av)) ) +\n  scale_y_continuous(labels = scales::dollar) +\n  theme_classic() +\n  scale_x_discrete(label = c(\"Chicago\", \"Park Forest\", \"Phoenix\", \"Riverdale\", \"Winnetka\")) + \n  labs(y = \"Breakeven Point - AV\", x = \"\", \n  title = \"Residential Property AV Breakeven Point\", \n  caption = \"Residential properties above these values would have their bills decrease if the GHE were eliminated\n       (if they had claimed the GHE before)\")\n\n\n\n\nBreak even points vary across municipalities, sometimes by orders of magnitude\n\n\n\n\n\nOf homeowners who take the GHE, those that gain the largest monetary benefit from the exemption in proportion to their home values are those who own below-average valued properties that are in a municipality with relatively high tax rates. Property owners who benefit the least from taking the exemption (again, relative to the value of their homes) are those with above-average valued homes in jurisdictions with low tax rates. Note that these are not the same homeowners who benefit the most in absolute dollar terms—that outcome depends on both the absolute and relative value of the property and the composition of properties within the jurisdiction.\n\n\nCode\nmuni_breakeven_points %&gt;%\n # filter(nochange_av &lt; 300000) %&gt;%\n  ggplot(aes(y=nochange_av, \n             x = median_AV, \n             label=clean_name\n             )) +\n  geom_abline(intercept = 0, slope = 1, lty = 2, alpha = .4) +\n  geom_point(aes(alpha = .5)) +\n # geom_smooth(method = \"lm\" )+\n  geom_text(aes(y = (nochange_av-5000), x = (median_AV)), size = 2)+\n  theme_classic() +\n  scale_x_continuous(labels = scales::dollar) +\n  scale_y_continuous(labels = scales::dollar) +\n  theme(legend.position = \"none\")+\n  labs(y = \" Breakeven Point\", \n       x = \"Median AV - Class 2 Properties in Municipality\", \n      # title = \"Some highly valued homes would have lower tax bills if the GHE were eliminated\", \n       #caption = \"The breakeven point is the assessed values at which a major class 2 \n     #  property would not have their taxbill change if the GHE were eliminated.\"\n     )\n\n\n\n\n\n\nFigure 6.1: Includes all municipalities\n\n\n\n\n\n\n\n\n\nCode\nmuni_breakeven_points %&gt;%\n  filter(nochange_av &lt; 300000) %&gt;%\n  ggplot(aes(y=nochange_av, \n             x = median_AV, \n             label=clean_name\n             )) +\n  geom_abline(intercept = 0, slope = 1, lty = 2, alpha = .4) +\n\n  geom_point(aes(alpha = .5)) +\n  \n  geom_point(data = (muni_breakeven_points %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Riverdale\",\"Dolton\"))), aes(y = nochange_av, x = median_AV, color = \"red\"), size = 3) +\n  ggrepel::geom_label_repel(data = (muni_breakeven_points %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Riverdale\", \"Dolton\"))), aes(y = (nochange_av), x = (median_AV)), size = 3)+\n  theme_classic() +\n  theme(panel.background = element_blank()) + \n  scale_x_continuous(labels = scales::dollar, expand = c(0,0), limits = c(0,170000) ) +\n  scale_y_continuous(labels = scales::dollar, expand = c(0,0), limits = c(0,170000) ) +\n    theme(legend.position = \"none\") +\n\n  labs(title = \"Municipalities' Median AV & Breakeven Point \\nClass 2 Properties Only\",\n    y = \"Breakeven Point\", \n       x = \"Median AV\", \n # caption = \"The breakeven point is the assessed values at which a major class 2 property would not have their taxbill change if the \n # GHE were eliminated. Excludes outliers: University Park, Bedford Park, McCook, Hodgkins, and Rosemont. Class 2 properties that had\n # claimed the GHE would have lower taxbills even if the GHE were removed if the AV is above the breakeven point.\"\n ) + coord_fixed()\n\n#ggsave(\"breakevenpoint.svg\", bg = \"transparent\")\n\n\n\n\n\nFigure 6.2: Breakeven Point …",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Tax Year 2023</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2023.html#how-progressive-are-exemptions",
    "href": "exemption_addendum_2023.html#how-progressive-are-exemptions",
    "title": "Tax Year 2023",
    "section": "How progressive are exemptions?",
    "text": "How progressive are exemptions?\n\nFigure 3. Ratio of Tax Bills to AV for 25th and 75th Percentile AV Class 2 Properties with $10,000 GHE\nFor the different exemption scenarios, we created new exemption variables for alternate exemption amounts that can be subtracted from a properties equalized AV.\n\nex. For exe_neg10 all exemption amounts are equal to zero.\nFor exe_0, This variable should be the same as the current tax system since we did not add or remove any exempt EAV to the PIN. If the EAV for a PIN is less than 10000 EAV and they did claim the general homestead exemption, then their exempt EAV is equal to their EAV.\nIf the exempt EAV allowable for the GHE was increased to 20,000 EAV, then the variable exe_plus10 is used.\n\n\n\nCode\npin_data &lt;- pin_data %&gt;% \n  left_join(class_dict, by = c(\"class\" = \"class_code\")) %&gt;%\n  mutate(\n \n    tif_increment_eav = final_tax_to_tif / tax_code_rate,\n    \n    nontif_eav_preexe = av_clerk*eq_factor - tif_increment_eav,\n    nontif_eav_postexe = av_clerk*eq_factor - tif_increment_eav - all_exemptions,\n    \n    eav_postexemptions = av_clerk*eq_factor - all_exemptions,\n    eav_preexemptions = av_clerk*eq_factor) |&gt;\n  ## Create variables for alternate exemption amounts that can be subtracted from a properties equalized AV\n  mutate(\n    eav = eav_preexemptions,\n    exe_neg10 = 0,\n         \n      # exe_0 implies no additional or removed EAV. Current tax system. \n         exe_0 = ifelse(eav &lt; 10000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;10000 & exe_homeowner!=0, 10000, 0 )),  # no change in current exemptions\n         exe_plus10 = ifelse(eav &lt; 20000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;20000 & exe_homeowner!=0, 20000, 0 )),\n         exe_plus20 = ifelse(eav &lt; 30000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;30000 & exe_homeowner!=0, 30000, 0 ) ),\n         exe_plus30 = ifelse(eav &lt; 40000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;40000 & exe_homeowner!=0, 40000, 0) ),\n         exe_plus40 = ifelse(eav &lt; 50000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;50000 & exe_homeowner!=0, 50000, 0) ),\n         mil_home = ifelse(major_class_code == 2 & av*10 &gt; 1000000, 1, 0))\n\n\n# all pins in munis fully within cook county that are some form of single-family, detached home\nsingfam_pins &lt;- pin_data %&gt;% \n  filter(Option2 == \"Single-Family\")\n\n\n\n\nCode\n# Calculates tax rates for all exemption scenarios.\nscenario_calcs &lt;- pin_data %&gt;%    \n  group_by(clean_name) %&gt;%\n\n    summarize(MuniLevy = round(sum(final_tax_to_dist, na.rm = TRUE)), # amount billed by munis with current exemptions in place\n            current_nonTIF_EAV_post_exemps = sum(final_tax_to_dist/(tax_code_rate), na.rm = TRUE),\n            current_TIF_increment_EAV = sum(final_tax_to_tif/(tax_code_rate), na.rm=TRUE),  \n            current_Exempt_EAV = sum(all_exemptions, na.rm=T), \n            current_GHE = sum(exe_homeowner, na.rm=TRUE),\n            Total_EAV = sum(all_exemptions+(final_tax_to_dist+final_tax_to_tif)/(tax_code_rate), na.rm = TRUE),\n            exe_neg10 = sum(exe_neg10),\n            exe_0 = sum(exe_0), # no change, for comparison\n            exe_plus10 = sum(exe_plus10),\n            exe_plus20 = sum(exe_plus20),\n            exe_plus30 = sum(exe_plus30),\n            exe_plus40 = sum(exe_plus40),\n            mil_home = sum(mil_home)\n            ) %&gt;%\n\n  # remove all GHE (up to 10,000 EAV added back to base per PIN), \n  # add exe_homeowner back to taxable base\n  mutate(neg10_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE,    # adds GHE exempt EAV back to taxable base and decreases tax rates\n         plus10_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus10, # will increase tax rates\n         plus20_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus20,\n         plus30_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus30,\n         plus40_taxable_eav = Total_EAV - current_TIF_increment_EAV - current_Exempt_EAV + current_GHE - exe_plus40,\n         scenario_noexemptions_taxable_eav = Total_EAV - current_TIF_increment_EAV) %&gt;%\n  \n  mutate(tr_neg10 = MuniLevy / neg10_taxable_eav,\n         tr_nochange = MuniLevy / current_nonTIF_EAV_post_exemps,\n         tr_plus10 = MuniLevy / plus10_taxable_eav,\n         tr_plus20 = MuniLevy / plus20_taxable_eav,\n         tr_plus30 = MuniLevy / plus30_taxable_eav,\n         tr_plus40 = MuniLevy / plus40_taxable_eav, \n         tax_rate_current = MuniLevy/current_nonTIF_EAV_post_exemps,\n         taxrate_noexemps = MuniLevy /(Total_EAV - current_TIF_increment_EAV  ),\n         taxrate_noTIFs = MuniLevy / (Total_EAV - current_Exempt_EAV),\n         taxrate_noTIFs_orExemps = MuniLevy / Total_EAV) %&gt;%\n  select(clean_name, MuniLevy, tr_neg10:taxrate_noTIFs_orExemps, everything())\n\nscenario_taxrates &lt;- scenario_calcs %&gt;%  \n  select(clean_name, MuniLevy, tr_neg10:taxrate_noTIFs_orExemps) \n\nscenario_taxrates |&gt; \n  select(-c(tax_rate_current:taxrate_noTIFs_orExemps)) |&gt;\n  #mutate(across(.cols=(tr_neg10:tr_plus40), s, accuracy = 0.01)) |&gt;\n  rename(Municipality = clean_name,\n        `Composite Levy` = MuniLevy,\n    `Rate if \\nGHE=0K` = tr_neg10, \n         `Current\\nTax Rate`= tr_nochange, \n         `Rate if\\nGHE=20K`= tr_plus10, \n         `Rate if\\nGHE=30K` = tr_plus20, \n         `Rate if\\nGHE=40K` = tr_plus30, \n         `Rate if\\nGHE=50K` = tr_plus40) |&gt; \n  DT::datatable(rownames = FALSE)  |&gt;\n  formatCurrency(columns = c(2), digits = 0) |&gt;\n  formatPercentage(3:8, digits = 1)\n\n\n\n\n\n\n\n\nCode\nmunis_billchange &lt;- munis_ranked %&gt;% \n    left_join(scenario_taxrates) %&gt;%\n\n  mutate(\n    eav = eq_av,\n    exe_neg10 = 0,\n         \n      # exe_0 implies no additional or removed EAV. Current tax system. \n         exe_0 = ifelse(eav &lt; 10000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;10000 & exe_homeowner!=0, 10000, 0 )),  # no change in current exemptions\n         exe_plus10 = ifelse(eav &lt; 20000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;20000 & exe_homeowner!=0, 20000, 0 )),\n         exe_plus20 = ifelse(eav &lt; 30000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;30000 & exe_homeowner!=0, 30000, 0 ) ),\n         exe_plus30 = ifelse(eav &lt; 40000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;40000 & exe_homeowner!=0, 40000, 0) ),\n         exe_plus40 = ifelse(eav &lt; 50000 & exe_homeowner!=0, eav, \n                             ifelse(eav&gt;50000 & exe_homeowner!=0, 50000, 0) ),\n         mil_home = ifelse(av*10 &gt; 1000000, 1, 0)) |&gt;\n    mutate(,\n    # current bill = current tax rate * portion of levy billed\n         equalized_AV = av_clerk*eq_factor,\n         \n   # ## Made negative tax bills!! ## #\n          bill_neg10 = tr_neg10*(equalized_AV-all_exemptions+ exe_homeowner -exe_neg10),\n\n         bill_current = tax_code_rate*(equalized_AV-all_exemptions),\n         bill_plus10 =  tr_plus10*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus10),\n         bill_plus20 = tr_plus20*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus20),\n         bill_plus30 = tr_plus20*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus30),\n         bill_plus40 = tr_plus20*(equalized_AV-all_exemptions+ exe_homeowner -exe_plus40),\n    \n    # ## make bills $1 if they had been negative.\n         bill_neg10 = ifelse(bill_neg10 &lt; 1, 1, bill_neg10),\n         bill_current = ifelse(bill_current &lt; 1, 1, bill_current),\n         bill_plus10 = ifelse(bill_plus10 &lt; 1, 1, bill_plus10),\n         bill_plus20 = ifelse(bill_plus20 &lt; 1, 1, bill_plus20),\n         bill_plus30 = ifelse(bill_plus30 &lt; 1, 1, bill_plus30),\n         bill_plus40 = ifelse(bill_plus40 &lt; 1, 1, bill_plus40),\n\n         )%&gt;%\n  mutate(\n         zerodol_bills_ghe0 = ifelse(bill_neg10 &lt; 5, 1, 0),\n         zerodol_bills_current = ifelse(bill_current &lt; 5, 1, 0),\n         zerodol_bills_ghe20 = ifelse(bill_plus10 &lt; 5, 1, 0),\n         zerodol_bills_ghe30 = ifelse(bill_plus20 &lt; 5, 1, 0),\n         zerodol_bills_ghe40 = ifelse(bill_plus30 &lt; 5, 1, 0),\n         zerodol_bills_ghe50 = ifelse(bill_plus40 &lt; 5, 1, 0),\n  ) %&gt;%\n  ungroup() |&gt;\n  group_by(clean_name, rank, has_HO_exemp) %&gt;% \n  summarize(median_AV = round(median(av)),\n            median_EAV = round(median(eav)),\n            mean_bill_neg10 = round(mean(bill_neg10, na.rm=TRUE)),\n            mean_bill_cur = round(mean(bill_current, na.rm=TRUE)),\n            mean_bill_plus10 = round(mean(bill_plus10, na.rm=TRUE)),\n            mean_bill_plus20 = round(mean(bill_plus20, na.rm=TRUE)),\n            mean_bill_plus30 = round(mean(bill_plus30, na.rm=TRUE)),\n            mean_bill_plus40 = round(mean(bill_plus40, na.rm=TRUE)),\n            \n            tr_neg10 = round(mean(tr_neg10*100), digits = 2), \n            cur_comp_TC_rate = round(mean(tax_code_rate*100), digits = 2),\n            tr_plus10 = round(mean(tr_plus10*100), digits = 2),\n            tr_plus20 = round(mean(tr_plus20*100), digits = 2),\n            tr_plus30 = round(mean(tr_plus30*100), digits = 2),\n            tr_plus40 = round(mean(tr_plus40*100), digits = 2),\n            pincount=n(),\n            zerodol_bills_ghe0 = sum(zerodol_bills_ghe0),           \n            zerodol_bills_current = sum(zerodol_bills_current),\n            zerodol_bills_ghe20 = sum(zerodol_bills_ghe20),\n            zerodol_bills_ghe30 = sum(zerodol_bills_ghe30),\n            zerodol_bills_ghe40 = sum(zerodol_bills_ghe40),\n            zerodol_bills_ghe50 = sum(zerodol_bills_ghe50),\n\n\n  ) %&gt;%\n  mutate(clean_name = ifelse(clean_name == \"Hazelcrest\", \"Hazel Crest\", clean_name)) %&gt;%\n  arrange(has_HO_exemp, rank)\n\n\n\n\n\nratios &lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(currbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_cur/median_AV, NA)) %&gt;%\n  mutate(currbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_cur/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(currbill_to_AV_25 = max(currbill_to_AV_25, na.rm=TRUE),\n            currbill_to_AV_75 = max(currbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = currbill_to_AV_25/currbill_to_AV_75) %&gt;% filter(muni_ratio_25to75 &gt; 0.01)\n\n\n\nggplot(data = ratios, aes(y = currbill_to_AV_25, x = currbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1, lty = 2, alpha = .4) +\n  geom_point(data = ratios, aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75), size = 2, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75, color = \"red\"), size = 2)+\n\n  theme_classic() +\n  theme(legend.background = element_rect(fill = \"transparent\"), \n        legend.box.background = element_rect(fill = \"transparent\"), \n        panel.background = element_rect(fill = \"transparent\"), \n        panel.grid.major = element_blank(), \n        panel.grid.minor = element_blank(), \n        plot.background = element_rect(fill = \"transparent\", \n                                       color = NA) ) +\n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n   scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") +\n  labs(title=\"\", y=\"Tax Burden as a Share of AV \\n(25th Percentile)\", x=\"Tax Burden as a Share of AV \\n(75th Percentile)\", subtitle = \"Current Tax System, GHE = 10,000 EAV\") + coord_fixed()\n\n\n\n\n\n\n\n\n\n\nCode\npin_data %&gt;%\n  filter(av &lt; 300000) %&gt;% # just to see the histogram better\n  ggplot( aes(x=av)) +\n  geom_histogram(bins = 50)  +\n  theme_classic()+\n  labs(title = \"Cook County Class 2 Residential PIN Distribution of AV\", \n       x = \"Assessed Value ($)\", y=\"# of Pins\", \n       caption = \"Dropped PINs with AVs over $300,000 for better visual of histogram bins.\") +\n  scale_x_continuous(label = scales::dollar) +\n  scale_y_continuous(label = scales::comma)\n\n\nsingfam_pins %&gt;%\n filter(av &lt; 300000) %&gt;% # just to see the histogram better\n  \n  ggplot( aes(x=av)) +\n  geom_histogram(bins = 50)  +\n  theme_classic()+\n  labs(title = \"Cook County Single-Family PIN Distribution of AV\", \n       x = \"Assessed Value ($)\", y=\"# of Pins\", \n       caption = \"Dropped PINs with AVs over $300,000 for better visual of histogram bins.\"\n       ) +\n  scale_x_continuous(label = scales::dollar)+\n  scale_y_continuous(label = scales::comma)\n\n\n\n\n\n\nMajor Class 2 Properties\n\n\n\n\n\n\n\nSingle-family subgroup of C2 Properties\n\n\n\n\n\n\n\nDistribution of Assessed Values: Class 2 Properties vs Single-Family Properties There is a difference in the assessed values depending on if you use all 200 level properties or only a subset of them. All figures and tables were created for both options when writing the report as a robustness check.",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Tax Year 2023</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2023.html#what-would-happen-if-the-ghe-value-were-increased",
    "href": "exemption_addendum_2023.html#what-would-happen-if-the-ghe-value-were-increased",
    "title": "Tax Year 2023",
    "section": "What would happen if the GHE value were increased?",
    "text": "What would happen if the GHE value were increased?\n\nFigure 4. Effect of Changing the GHE on Progressivity\n\nCode\nratios &lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(currbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_neg10/median_AV, NA)) %&gt;%\n  mutate(currbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_neg10/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(GHE_0_bill_to_AV_25 = max(currbill_to_AV_25, na.rm=TRUE),\n            GHE_0_bill_to_AV_75 = max(currbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = GHE_0_bill_to_AV_25/GHE_0_bill_to_AV_75) \n\n\nggplot(data = ratios, aes(y = GHE_0_bill_to_AV_25, x = GHE_0_bill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = GHE_0_bill_to_AV_25, x = GHE_0_bill_to_AV_75, label = clean_name), size = 3)+\n    geom_point(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = GHE_0_bill_to_AV_25, x = GHE_0_bill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") +\n  labs(title = \"GHE = $0 EAV\", x = \"\", y = \"\")\nratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(currbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_cur/median_AV, NA)) %&gt;%\n  mutate(currbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_cur/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(currbill_to_AV_25 = max(currbill_to_AV_25, na.rm=TRUE),\n            currbill_to_AV_75 = max(currbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = currbill_to_AV_25/currbill_to_AV_75) %&gt;% filter(muni_ratio_25to75 &gt; 0.01)\n\n\n\nggplot(data = ratios, aes(y = currbill_to_AV_25, x = currbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(data = ratios, aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = currbill_to_AV_25, x = currbill_to_AV_75, color = \"red\"), size = 2)+\n\n  theme_classic() +\n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n   scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") +\n  labs(title = \"GHE = $10,000 EAV (Current)\", x=\"\", y=\"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus10/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus10/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% \n  filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(data = new_ratios, aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n  scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + \n  labs(title = \"GHE = $20,000 EAV\", x= \"\", y=\"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus20/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus20/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% \n  \n  filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + \n  labs(title = \"GHE = $30,000 EAV\",\n                                        x = \"\", y = \"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus30/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus30/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% \n  filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + \n  labs(title = \"GHE = $40,000 EAV\", \n                                     x= \"\", y = \"\")\nnew_ratios&lt;- munis_billchange %&gt;% \n  filter(has_HO_exemp == 1 &  !is.na(rank)) %&gt;% # claimed exemption in 2021\n  mutate(newbill_to_AV_25 = ifelse(rank == \"q25\", mean_bill_plus40/median_AV, NA)) %&gt;%\n  mutate(newbill_to_AV_75 = ifelse(rank == \"q75\", mean_bill_plus40/median_AV, NA)) %&gt;% \n  group_by(clean_name) %&gt;%\n  summarize(newbill_to_AV_25 = max(newbill_to_AV_25, na.rm=TRUE),\n            newbill_to_AV_75 = max(newbill_to_AV_75, na.rm=TRUE)) %&gt;%\n  mutate(muni_ratio_25to75 = newbill_to_AV_25/newbill_to_AV_75) %&gt;% filter(muni_ratio_25to75 &gt; 0.01)\n\n\nggplot(data = new_ratios, aes(y = newbill_to_AV_25, x = newbill_to_AV_75, label = clean_name)) + \n  geom_abline(intercept = 0, slope = 1) +\n  geom_point(aes(alpha = .5)) + \n  ggrepel::geom_label_repel(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75), size = 3, max.overlaps = Inf, point.padding = 0, # additional padding around each point\n    min.segment.length = 0, # draw all line segments\n    )+\n    geom_point(data = (new_ratios %&gt;% filter(clean_name %in% c(\"Park Forest\", \"Chicago\", \"Winnetka\", \"Glencoe\", \"Riverdale\", \"Dolton\", \"Markham\", \"Chicago Heights\", \"Hazel Crest\", \"Phoenix\"))), aes(y = newbill_to_AV_25, x = newbill_to_AV_75, color = \"red\"), size = 2)+\n  theme_classic() + \n    scale_y_continuous(limits = c(0, .6), expand = c(0,0))+\n\n  scale_x_continuous(limits = c(0, .6), expand = c(0,0))+\n  theme(legend.position = \"none\") + labs(title = \"GHE = $50,000\", \n                                      x = \"\", y = \"\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 3. Revenue Neutral Tax Rates\nRevenue Neutral Tax Rates (Percent) for Select Municipalities as a Function of GHE Value\n\n\nCode\nscenario_taxrates %&gt;% \n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  mutate(across(starts_with(\"tr_\"), scales::percent, accuracy = 0.01))|&gt;\n  select(Municipality = clean_name,\n         \"0 GHE\" = tr_neg10,\n         \"10,000 GHE (Current)\" = tr_nochange,\n         \"20,000 GHE\" = tr_plus10,\n         \"30,000 GHE\" = tr_plus20,\n         \"40,000 GHE\" = tr_plus30,\n         \"50,000 GHE\" = tr_plus40) |&gt;\n  flextable::flextable()\n\n\nMunicipality0 GHE10,000 GHE (Current)20,000 GHE30,000 GHE40,000 GHE50,000 GHEChicago6.82%7.04%7.27%7.50%7.73%7.96%Dolton16.95%19.93%24.38%30.23%36.84%40.40%Glencoe7.96%8.12%8.29%8.46%8.64%8.83%\n\n\n\n\nFigure 5. GHE Value and Revenue Neutral Tax Rates\nRelationship of GHE Value and Revenue Neutral Tax Rates in Chicago, Dolton, and Glencoe\n\n\nCode\nscenario_taxrates %&gt;% \n  filter(clean_name %in% c(\"Chicago\", \"Dolton\", \"Glencoe\")) |&gt;\n  select(Municipality = clean_name,\n         \"0 GHE\" = tr_neg10,\n         \"10,000 GHE\\n(Current)\" = tr_nochange,\n         \"20,000 GHE\" = tr_plus10,\n         \"30,000 GHE\" = tr_plus20,\n         \"40,000 GHE\" = tr_plus30,\n         \"50,000 GHE\" = tr_plus40) %&gt;%\n  pivot_longer(cols = c(`0 GHE`:`50,000 GHE`), names_to = \"Scenarios\") %&gt;%\n\n  ggplot() +\n  geom_line(aes(x=Scenarios, y = value, group = Municipality, color = Municipality)) + theme_classic() + \n  labs(title = \"Tax Rates for GHE Scenarios\", x = \"GHE Amount\", y = \"Tax Rate\") +\n  scale_y_continuous(label = scales::percent)",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Tax Year 2023</span>"
    ]
  },
  {
    "objectID": "exemption_addendum_2023.html#paying-for-the-inequitable-effects-of-exemptions",
    "href": "exemption_addendum_2023.html#paying-for-the-inequitable-effects-of-exemptions",
    "title": "Tax Year 2023",
    "section": "Paying for the inequitable effects of exemptions",
    "text": "Paying for the inequitable effects of exemptions\n\nFigure 6. Exemptions by Value in Class 8 Municipalities\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    Homeowner = sum(exe_homeowner),\n    Senior = sum(exe_senior),\n    `Senior Freeze` = sum(exe_freeze),\n   # exe_longtime_homeowner = sum(exe_longtime_homeowner),\n    Other = sum(exe_disabled),\n    \n  ) %&gt;%\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(Homeowner:Other), names_to = \"Exemption Type\") %&gt;%\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = `Exemption Type`), position = \"dodge\") +\n  scale_y_continuous(label = scales::dollar) + \n  theme_classic() + \n  labs(x = element_blank(), y = \"Exempt EAV\")\n\n\n\n\n\nFigure 6.3: Exempt EAV by Type in Select Municipalities. Shows values as calculated in original report that undercounted disabled veteran exemptions.\n\n\n\n\n\n\n\n\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    Homeowner = sum(exe_homeowner),\n    Senior = sum(exe_senior),\n    `Senior Freeze` = sum(exe_freeze),\n   # exe_longtime_homeowner = sum(exe_longtime_homeowner),\n    Other = sum(exe_missing_disvet+exe_disabled),\n    \n  ) %&gt;%\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(Homeowner:Other), names_to = \"Exemption Type\") %&gt;%\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = `Exemption Type`), position = \"dodge\") +\n  scale_y_continuous(label = scales::dollar) + \n  theme_classic() + \n  labs(x = element_blank(), y = \"Exempt EAV\")\n\n\n\n\n\nFigure 6.4: Exempt EAV by Type in Select Municipalities. Shows adjusted values of exemption amounts after finding data error.\n\n\n\n\n\n\n\n\n\n\nCode\n#\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    Homeowner = sum(exe_homeowner),\n    Senior = sum(exe_senior),\n    `Senior Freeze` = sum(exe_freeze),\n   # exe_longtime_homeowner = sum(exe_longtime_homeowner),\n    Other = sum(exe_missing_disvet+exe_disabled),\n    \n  ) %&gt;%\n  ungroup()  |&gt; \n  mutate(across(Homeowner:Other, scales::comma)) |&gt;\n  rename(Municipality = clean_name) |&gt;\n  arrange(desc(Other)) |&gt; \n  DT::datatable(rownames = FALSE)\n\n\n\n\n\n\n\n\nFigure 7. Exemption Share in Class 8 Municipalities\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    all_exemptions = sum(exe_total),\n\n    eq_av = sum(av_clerk*eq_factor),\n    tif_increment_eav = sum(final_tax_to_tif/tax_code_rate)\n  ) %&gt;%\n  mutate(taxable_eav = eq_av - tif_increment_eav - all_exemptions) |&gt;\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(all_exemptions:taxable_eav), names_to = \"exe_type\") %&gt;%\n  # all exemptions includes ... all the exemption types. \n  filter(exe_type %in% c(\"taxable_eav\", \"all_exemptions\")) |&gt;\n  mutate(EAV = factor(exe_type, levels = c(\"taxable_eav\", \"all_exemptions\"), labels = c(\"Taxed EAV\", \"Exempt EAV\")) ) |&gt;\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = EAV), position = \"stack\") +\n    geom_text(aes(x=clean_name, y = value, label = scales::comma(value)), \n            position = \"stack\",  vjust=1.1)+\n  scale_y_continuous(label = scales::dollar, limits = c(0,600000000)) + \n  theme_classic() +\n  labs(x = element_blank(), y = \"Non-TIF Increment EAV in Municipality\")\n\n\n\n\n\n\n\n\n\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    all_exemptions = sum(exe_total_adj),\n    eq_av = sum(av_clerk*eq_factor),\n    tif_increment_eav = sum(final_tax_to_tif/tax_code_rate)\n  ) %&gt;%\n  mutate(taxable_eav = eq_av - tif_increment_eav - all_exemptions) |&gt;\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(all_exemptions:taxable_eav), names_to = \"exe_type\") %&gt;%\n    # all exemptions includes all exemptions, but adjusted for missing disabled veteran exemptions \n\n  filter(exe_type %in% c(\"taxable_eav\", \"all_exemptions\"))|&gt;\n  mutate(EAV = factor(exe_type, levels = c(\"taxable_eav\", \"all_exemptions\"), labels = c(\"Taxed EAV\", \"Exempt EAV\")) ) |&gt;\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = EAV), position = \"stack\") +\n  scale_y_continuous(label = scales::dollar, limits = c(0,600000000)) + \n  theme_classic() + \n  geom_text(aes(x=clean_name, y = value, label = scales::comma(value)), \n            position = \"stack\",  vjust=1.1)+\n  labs(x = element_blank(), y = \"Non-TIF Increment EAV in Municipality\")\n\n\n\n\nWith adjusted exemption values and calculating allvalues from the pin datatable instead of using ptaxsim::tax_bill() values. Would be more correct than original ways values were calculated.\n\n\n\n\n\n\n\nCode\npin_data %&gt;% \n  group_by(clean_name) %&gt;% \n  summarize(\n    all_exemptions = sum(exe_total_adj),\n\n    eq_av = sum(av_clerk*eq_factor),\n    tif_increment_eav = sum(final_tax_to_tif_AWM/tax_code_rate)\n  ) %&gt;%\n  mutate(taxable_eav = eq_av - tif_increment_eav - all_exemptions) |&gt;\n  filter(clean_name %in% c(\"Blue Island\", \"Markham\", \"Matteson\", \"Park Forest\")) %&gt;%\n  pivot_longer(cols = c(all_exemptions:taxable_eav), names_to = \"exe_type\") %&gt;%\n  filter(exe_type %in% c(\"taxable_eav\", \"all_exemptions\"))|&gt;\n  mutate(EAV = factor(exe_type, levels = c(\"taxable_eav\", \"all_exemptions\"), labels = c(\"Taxed EAV\", \"Exempt EAV\")) ) |&gt;\n  ggplot() + \n  geom_col(aes(x=clean_name, y = value, fill = EAV), position = \"stack\") +\n  geom_text(aes(x=clean_name, y = value, label = scales::comma(value)), \n            position = \"stack\",  vjust=1.1)+\n  scale_y_continuous(label = scales::dollar, limits = c(0,600000000)) + \n  theme_classic() + \n  labs(x = element_blank(), y = \"Non-TIF Increment EAV in Municipality\")\n\n\n\n\nUses final_tax_to_tif_AWM for TIF increment calculation. Has adjusted exemption values and calculating allvalues from the pin datatable instead of using ptaxsim::tax_bill() values. Would be more correct than original ways values were calculated.\n\n\n\n\n\n\n\nMillion dollar homes\nExcluding home valued at $1 milliom from GHE eligibility.\n\n\nCode\nmil_homes_total &lt;- munis_ranked %&gt;% mutate(mil_home = ifelse(class_1dig == 2 & av*10 &gt; 1000000, 1, 0) ) %&gt;% summarize(million_dollar_homes = sum(mil_home))\n\nmil_homes_w_ghe &lt;- munis_ranked %&gt;% mutate(mil_home = ifelse(class_1dig == 2 & av*10 &gt; 1000000,1,0) ) %&gt;% filter(has_HO_exemp == 1)  %&gt;% summarize(million_dollar_homes = sum(mil_home))\n\nmil_home_count &lt;- munis_ranked %&gt;% \n  mutate(mil_home = ifelse(class_1dig == 2 &av*10 &gt; 1000000,1,0) ) %&gt;%\n  filter(has_HO_exemp == 1) %&gt;% \n  summarize(million_dollar_homes = sum(mil_home))\n\nmilhomes_w_exemps &lt;- munis_ranked %&gt;% \n  mutate(mil_home = ifelse(class_1dig == 2 & av*10 &gt; 1000000, 1, 0) ) %&gt;%\n  filter(has_HO_exemp == 1 & mil_home == 1) %&gt;% \n  summarize(\n    exempt_eav  = sum(exe_total),\n    million_dollar_homes = sum(mil_home),\n    bonus_rev = sum(tax_code_rate*exe_homeowner))\n\n\nThere are 35,857 homes worth $1 million dollars in Cook County, IL.\nOf those homes, 21,920 claim the GHE, which reduces 10,000 EAV from the properties equalized AV.\nAmount of money that could be “transferred” to areas impacted by high tax rates =\nSum of (tax code rate * exempt EAV) = $22,345,677",
    "crumbs": [
      "Exemption Addendum",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Tax Year 2023</span>"
    ]
  }
]